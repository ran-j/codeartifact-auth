"use strict";var Xf=Object.create;var Zr=Object.defineProperty;var Gf=Object.getOwnPropertyDescriptor;var $f=Object.getOwnPropertyNames;var Yf=Object.getPrototypeOf,Jf=Object.prototype.hasOwnProperty;var be=(t,e)=>()=>(t&&(e=t(t=0)),e);var I=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Qf=(t,e)=>{for(var r in e)Zr(t,r,{get:e[r],enumerable:!0})},Os=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of $f(e))!Jf.call(t,n)&&n!==r&&Zr(t,n,{get:()=>e[n],enumerable:!(i=Gf(e,n))||i.enumerable});return t};var fr=(t,e,r)=>(r=t!=null?Xf(Yf(t)):{},Os(e||!t||!t.__esModule?Zr(r,"default",{value:t,enumerable:!0}):r,t)),Zf=t=>Os(Zr({},"__esModule",{value:!0}),t);var ei=I(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.toCommandProperties=Jt.toCommandValue=void 0;function ep(t){return t==null?"":typeof t=="string"||t instanceof String?t:JSON.stringify(t)}Jt.toCommandValue=ep;function tp(t){return Object.keys(t).length?{title:t.title,file:t.file,line:t.startLine,endLine:t.endLine,col:t.startColumn,endColumn:t.endColumn}:{}}Jt.toCommandProperties=tp});var Bs=I(Ue=>{"use strict";var rp=Ue&&Ue.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),ip=Ue&&Ue.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),np=Ue&&Ue.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&rp(e,t,r);return ip(e,t),e};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.issue=Ue.issueCommand=void 0;var sp=np(require("os")),Ms=ei();function Fs(t,e,r){let i=new cn(t,e,r);process.stdout.write(i.toString()+sp.EOL)}Ue.issueCommand=Fs;function op(t,e=""){Fs(t,{},e)}Ue.issue=op;var Ls="::",cn=class{constructor(e,r,i){e||(e="missing.command"),this.command=e,this.properties=r,this.message=i}toString(){let e=Ls+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=!0;for(let i in this.properties)if(this.properties.hasOwnProperty(i)){let n=this.properties[i];n&&(r?r=!1:e+=",",e+=`${i}=${up(n)}`)}}return e+=`${Ls}${ap(this.message)}`,e}};function ap(t){return Ms.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function up(t){return Ms.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function pr(){return ti>ri.length-16&&(Us.default.randomFillSync(ri),ti=0),ri.slice(ti,ti+=16)}var Us,ri,ti,ln=be(()=>{Us=fr(require("crypto")),ri=new Uint8Array(256),ti=ri.length});var Vs,js=be(()=>{Vs=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function cp(t){return typeof t=="string"&&Vs.test(t)}var Ct,dr=be(()=>{js();Ct=cp});function lp(t,e=0){let r=(ye[t[e+0]]+ye[t[e+1]]+ye[t[e+2]]+ye[t[e+3]]+"-"+ye[t[e+4]]+ye[t[e+5]]+"-"+ye[t[e+6]]+ye[t[e+7]]+"-"+ye[t[e+8]]+ye[t[e+9]]+"-"+ye[t[e+10]]+ye[t[e+11]]+ye[t[e+12]]+ye[t[e+13]]+ye[t[e+14]]+ye[t[e+15]]).toLowerCase();if(!Ct(r))throw TypeError("Stringified UUID is invalid");return r}var ye,_t,hr=be(()=>{dr();ye=[];for(let t=0;t<256;++t)ye.push((t+256).toString(16).substr(1));_t=lp});function fp(t,e,r){let i=e&&r||0,n=e||new Array(16);t=t||{};let s=t.node||Ws,o=t.clockseq!==void 0?t.clockseq:fn;if(s==null||o==null){let v=t.random||(t.rng||pr)();s==null&&(s=Ws=[v[0]|1,v[1],v[2],v[3],v[4],v[5]]),o==null&&(o=fn=(v[6]<<8|v[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:dn+1,c=a-pn+(u-dn)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||a>pn)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");pn=a,dn=u,fn=o,a+=122192928e5;let l=((a&268435455)*1e4+u)%4294967296;n[i++]=l>>>24&255,n[i++]=l>>>16&255,n[i++]=l>>>8&255,n[i++]=l&255;let d=a/4294967296*1e4&268435455;n[i++]=d>>>8&255,n[i++]=d&255,n[i++]=d>>>24&15|16,n[i++]=d>>>16&255,n[i++]=o>>>8|128,n[i++]=o&255;for(let v=0;v<6;++v)n[i+v]=s[v];return e||_t(n)}var Ws,fn,pn,dn,Hs,zs=be(()=>{ln();hr();pn=0,dn=0;Hs=fp});function pp(t){if(!Ct(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var ii,hn=be(()=>{dr();ii=pp});function dp(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function ni(t,e,r){function i(n,s,o,a){if(typeof n=="string"&&(n=dp(n)),typeof s=="string"&&(s=ii(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+n.length);if(u.set(s),u.set(n,s.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){a=a||0;for(let c=0;c<16;++c)o[a+c]=u[c];return o}return _t(u)}try{i.name=t}catch{}return i.DNS=hp,i.URL=mp,i}var hp,mp,mn=be(()=>{hr();hn();hp="6ba7b810-9dad-11d1-80b4-00c04fd430c8",mp="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function vp(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),Ks.default.createHash("md5").update(t).digest()}var Ks,Xs,Gs=be(()=>{Ks=fr(require("crypto"));Xs=vp});var gp,$s,Ys=be(()=>{mn();Gs();gp=ni("v3",48,Xs),$s=gp});function yp(t,e,r){t=t||{};let i=t.random||(t.rng||pr)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){r=r||0;for(let n=0;n<16;++n)e[r+n]=i[n];return e}return _t(i)}var Js,Qs=be(()=>{ln();hr();Js=yp});function Ep(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),Zs.default.createHash("sha1").update(t).digest()}var Zs,eo,to=be(()=>{Zs=fr(require("crypto"));eo=Ep});var Sp,ro,io=be(()=>{mn();to();Sp=ni("v5",80,eo),ro=Sp});var no,so=be(()=>{no="00000000-0000-0000-0000-000000000000"});function wp(t){if(!Ct(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var oo,ao=be(()=>{dr();oo=wp});var uo={};Qf(uo,{NIL:()=>no,parse:()=>ii,stringify:()=>_t,v1:()=>Hs,v3:()=>$s,v4:()=>Js,v5:()=>ro,validate:()=>Ct,version:()=>oo});var co=be(()=>{zs();Ys();Qs();io();so();ao();dr();hr();hn()});var ho=I(Ve=>{"use strict";var Tp=Ve&&Ve.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Cp=Ve&&Ve.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fo=Ve&&Ve.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Tp(e,t,r);return Cp(e,t),e};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.prepareKeyValueMessage=Ve.issueFileCommand=void 0;var lo=fo(require("fs")),vn=fo(require("os")),_p=(co(),Zf(uo)),po=ei();function xp(t,e){let r=process.env[`GITHUB_${t}`];if(!r)throw new Error(`Unable to find environment variable for file command ${t}`);if(!lo.existsSync(r))throw new Error(`Missing file at path: ${r}`);lo.appendFileSync(r,`${po.toCommandValue(e)}${vn.EOL}`,{encoding:"utf8"})}Ve.issueFileCommand=xp;function Ap(t,e){let r=`ghadelimiter_${_p.v4()}`,i=po.toCommandValue(e);if(t.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(i.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${t}<<${r}${vn.EOL}${i}${vn.EOL}${r}`}Ve.prepareKeyValueMessage=Ap});var vo=I(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.checkBypass=Qt.getProxyUrl=void 0;function bp(t){let e=t.protocol==="https:";if(mo(t))return;let r=(()=>e?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}Qt.getProxyUrl=bp;function mo(t){if(!t.hostname)return!1;let e=t.hostname;if(Rp(e))return!0;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let i;t.port?i=Number(t.port):t.protocol==="http:"?i=80:t.protocol==="https:"&&(i=443);let n=[t.hostname.toUpperCase()];typeof i=="number"&&n.push(`${n[0]}:${i}`);for(let s of r.split(",").map(o=>o.trim().toUpperCase()).filter(o=>o))if(s==="*"||n.some(o=>o===s||o.endsWith(`.${s}`)||s.startsWith(".")&&o.endsWith(`${s}`)))return!0;return!1}Qt.checkBypass=mo;function Rp(t){let e=t.toLowerCase();return e==="localhost"||e.startsWith("127.")||e.startsWith("[::1]")||e.startsWith("[0:0:0:0:0:0:0:1]")}});var So=I(Zt=>{"use strict";var Zy=require("net"),Ip=require("tls"),gn=require("http"),go=require("https"),Pp=require("events"),e0=require("assert"),Np=require("util");Zt.httpOverHttp=Dp;Zt.httpsOverHttp=qp;Zt.httpOverHttps=kp;Zt.httpsOverHttps=Op;function Dp(t){var e=new dt(t);return e.request=gn.request,e}function qp(t){var e=new dt(t);return e.request=gn.request,e.createSocket=yo,e.defaultPort=443,e}function kp(t){var e=new dt(t);return e.request=go.request,e}function Op(t){var e=new dt(t);return e.request=go.request,e.createSocket=yo,e.defaultPort=443,e}function dt(t){var e=this;e.options=t||{},e.proxyOptions=e.options.proxy||{},e.maxSockets=e.options.maxSockets||gn.Agent.defaultMaxSockets,e.requests=[],e.sockets=[],e.on("free",function(i,n,s,o){for(var a=Eo(n,s,o),u=0,c=e.requests.length;u<c;++u){var l=e.requests[u];if(l.host===a.host&&l.port===a.port){e.requests.splice(u,1),l.request.onSocket(i);return}}i.destroy(),e.removeSocket(i)})}Np.inherits(dt,Pp.EventEmitter);dt.prototype.addRequest=function(e,r,i,n){var s=this,o=yn({request:e},s.options,Eo(r,i,n));if(s.sockets.length>=this.maxSockets){s.requests.push(o);return}s.createSocket(o,function(a){a.on("free",u),a.on("close",c),a.on("agentRemove",c),e.onSocket(a);function u(){s.emit("free",a,o)}function c(l){s.removeSocket(a),a.removeListener("free",u),a.removeListener("close",c),a.removeListener("agentRemove",c)}})};dt.prototype.createSocket=function(e,r){var i=this,n={};i.sockets.push(n);var s=yn({},i.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(s.localAddress=e.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),xt("making CONNECT request");var o=i.request(s);o.useChunkedEncodingByDefault=!1,o.once("response",a),o.once("upgrade",u),o.once("connect",c),o.once("error",l),o.end();function a(d){d.upgrade=!0}function u(d,v,x){process.nextTick(function(){c(d,v,x)})}function c(d,v,x){if(o.removeAllListeners(),v.removeAllListeners(),d.statusCode!==200){xt("tunneling socket could not be established, statusCode=%d",d.statusCode),v.destroy();var g=new Error("tunneling socket could not be established, statusCode="+d.statusCode);g.code="ECONNRESET",e.request.emit("error",g),i.removeSocket(n);return}if(x.length>0){xt("got illegal response body from proxy"),v.destroy();var g=new Error("got illegal response body from proxy");g.code="ECONNRESET",e.request.emit("error",g),i.removeSocket(n);return}return xt("tunneling connection has established"),i.sockets[i.sockets.indexOf(n)]=v,r(v)}function l(d){o.removeAllListeners(),xt(`tunneling socket could not be established, cause=%s
`,d.message,d.stack);var v=new Error("tunneling socket could not be established, cause="+d.message);v.code="ECONNRESET",e.request.emit("error",v),i.removeSocket(n)}};dt.prototype.removeSocket=function(e){var r=this.sockets.indexOf(e);if(r!==-1){this.sockets.splice(r,1);var i=this.requests.shift();i&&this.createSocket(i,function(n){i.request.onSocket(n)})}};function yo(t,e){var r=this;dt.prototype.createSocket.call(r,t,function(i){var n=t.request.getHeader("host"),s=yn({},r.options,{socket:i,servername:n?n.replace(/:.*$/,""):t.host}),o=Ip.connect(0,s);r.sockets[r.sockets.indexOf(i)]=o,e(o)})}function Eo(t,e,r){return typeof t=="string"?{host:t,port:e,localAddress:r}:t}function yn(t){for(var e=1,r=arguments.length;e<r;++e){var i=arguments[e];if(typeof i=="object")for(var n=Object.keys(i),s=0,o=n.length;s<o;++s){var a=n[s];i[a]!==void 0&&(t[a]=i[a])}}return t}var xt;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?xt=function(){var t=Array.prototype.slice.call(arguments);typeof t[0]=="string"?t[0]="TUNNEL: "+t[0]:t.unshift("TUNNEL:"),console.error.apply(console,t)}:xt=function(){};Zt.debug=xt});var To=I((r0,wo)=>{wo.exports=So()});var _o=I(Z=>{"use strict";var Lp=Z&&Z.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Mp=Z&&Z.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ci=Z&&Z.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Lp(e,t,r);return Mp(e,t),e},he=Z&&Z.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(d){o(d)}}function u(l){try{c(i.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):n(l.value).then(a,u)}c((i=i.apply(t,e||[])).next())})};Object.defineProperty(Z,"__esModule",{value:!0});Z.HttpClient=Z.isHttps=Z.HttpClientResponse=Z.HttpClientError=Z.getProxyUrl=Z.MediaTypes=Z.Headers=Z.HttpCodes=void 0;var si=ci(require("http")),En=ci(require("https")),Co=ci(vo()),oi=ci(To()),Ge;(function(t){t[t.OK=200]="OK",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.ResourceMoved=302]="ResourceMoved",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.SwitchProxy=306]="SwitchProxy",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.TooManyRequests=429]="TooManyRequests",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout"})(Ge=Z.HttpCodes||(Z.HttpCodes={}));var Re;(function(t){t.Accept="accept",t.ContentType="content-type"})(Re=Z.Headers||(Z.Headers={}));var At;(function(t){t.ApplicationJson="application/json"})(At=Z.MediaTypes||(Z.MediaTypes={}));function Fp(t){let e=Co.getProxyUrl(new URL(t));return e?e.href:""}Z.getProxyUrl=Fp;var Bp=[Ge.MovedPermanently,Ge.ResourceMoved,Ge.SeeOther,Ge.TemporaryRedirect,Ge.PermanentRedirect],Up=[Ge.BadGateway,Ge.ServiceUnavailable,Ge.GatewayTimeout],Vp=["OPTIONS","GET","DELETE","HEAD"],jp=10,Wp=5,er=class extends Error{constructor(e,r){super(e),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,er.prototype)}};Z.HttpClientError=er;var ui=class{constructor(e){this.message=e}readBody(){return he(this,void 0,void 0,function*(){return new Promise(e=>he(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",i=>{r=Buffer.concat([r,i])}),this.message.on("end",()=>{e(r.toString())})}))})}};Z.HttpClientResponse=ui;function Hp(t){return new URL(t).protocol==="https:"}Z.isHttps=Hp;var Sn=class{constructor(e,r,i){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=r||[],this.requestOptions=i,i&&(i.ignoreSslError!=null&&(this._ignoreSslError=i.ignoreSslError),this._socketTimeout=i.socketTimeout,i.allowRedirects!=null&&(this._allowRedirects=i.allowRedirects),i.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=i.allowRedirectDowngrade),i.maxRedirects!=null&&(this._maxRedirects=Math.max(i.maxRedirects,0)),i.keepAlive!=null&&(this._keepAlive=i.keepAlive),i.allowRetries!=null&&(this._allowRetries=i.allowRetries),i.maxRetries!=null&&(this._maxRetries=i.maxRetries))}options(e,r){return he(this,void 0,void 0,function*(){return this.request("OPTIONS",e,null,r||{})})}get(e,r){return he(this,void 0,void 0,function*(){return this.request("GET",e,null,r||{})})}del(e,r){return he(this,void 0,void 0,function*(){return this.request("DELETE",e,null,r||{})})}post(e,r,i){return he(this,void 0,void 0,function*(){return this.request("POST",e,r,i||{})})}patch(e,r,i){return he(this,void 0,void 0,function*(){return this.request("PATCH",e,r,i||{})})}put(e,r,i){return he(this,void 0,void 0,function*(){return this.request("PUT",e,r,i||{})})}head(e,r){return he(this,void 0,void 0,function*(){return this.request("HEAD",e,null,r||{})})}sendStream(e,r,i,n){return he(this,void 0,void 0,function*(){return this.request(e,r,i,n)})}getJson(e,r={}){return he(this,void 0,void 0,function*(){r[Re.Accept]=this._getExistingOrDefaultHeader(r,Re.Accept,At.ApplicationJson);let i=yield this.get(e,r);return this._processResponse(i,this.requestOptions)})}postJson(e,r,i={}){return he(this,void 0,void 0,function*(){let n=JSON.stringify(r,null,2);i[Re.Accept]=this._getExistingOrDefaultHeader(i,Re.Accept,At.ApplicationJson),i[Re.ContentType]=this._getExistingOrDefaultHeader(i,Re.ContentType,At.ApplicationJson);let s=yield this.post(e,n,i);return this._processResponse(s,this.requestOptions)})}putJson(e,r,i={}){return he(this,void 0,void 0,function*(){let n=JSON.stringify(r,null,2);i[Re.Accept]=this._getExistingOrDefaultHeader(i,Re.Accept,At.ApplicationJson),i[Re.ContentType]=this._getExistingOrDefaultHeader(i,Re.ContentType,At.ApplicationJson);let s=yield this.put(e,n,i);return this._processResponse(s,this.requestOptions)})}patchJson(e,r,i={}){return he(this,void 0,void 0,function*(){let n=JSON.stringify(r,null,2);i[Re.Accept]=this._getExistingOrDefaultHeader(i,Re.Accept,At.ApplicationJson),i[Re.ContentType]=this._getExistingOrDefaultHeader(i,Re.ContentType,At.ApplicationJson);let s=yield this.patch(e,n,i);return this._processResponse(s,this.requestOptions)})}request(e,r,i,n){return he(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(r),o=this._prepareRequest(e,s,n),a=this._allowRetries&&Vp.includes(e)?this._maxRetries+1:1,u=0,c;do{if(c=yield this.requestRaw(o,i),c&&c.message&&c.message.statusCode===Ge.Unauthorized){let d;for(let v of this.handlers)if(v.canHandleAuthentication(c)){d=v;break}return d?d.handleAuthentication(this,o,i):c}let l=this._maxRedirects;for(;c.message.statusCode&&Bp.includes(c.message.statusCode)&&this._allowRedirects&&l>0;){let d=c.message.headers.location;if(!d)break;let v=new URL(d);if(s.protocol==="https:"&&s.protocol!==v.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield c.readBody(),v.hostname!==s.hostname)for(let x in n)x.toLowerCase()==="authorization"&&delete n[x];o=this._prepareRequest(e,v,n),c=yield this.requestRaw(o,i),l--}if(!c.message.statusCode||!Up.includes(c.message.statusCode))return c;u+=1,u<a&&(yield c.readBody(),yield this._performExponentialBackoff(u))}while(u<a);return c})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,r){return he(this,void 0,void 0,function*(){return new Promise((i,n)=>{function s(o,a){o?n(o):a?i(a):n(new Error("Unknown error"))}this.requestRawWithCallback(e,r,s)})})}requestRawWithCallback(e,r,i){typeof r=="string"&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let n=!1;function s(u,c){n||(n=!0,i(u,c))}let o=e.httpModule.request(e.options,u=>{let c=new ui(u);s(void 0,c)}),a;o.on("socket",u=>{a=u}),o.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),s(new Error(`Request timeout: ${e.options.path}`))}),o.on("error",function(u){s(u)}),r&&typeof r=="string"&&o.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){o.end()}),r.pipe(o)):o.end()}getAgent(e){let r=new URL(e);return this._getAgent(r)}_prepareRequest(e,r,i){let n={};n.parsedUrl=r;let s=n.parsedUrl.protocol==="https:";n.httpModule=s?En:si;let o=s?443:80;if(n.options={},n.options.host=n.parsedUrl.hostname,n.options.port=n.parsedUrl.port?parseInt(n.parsedUrl.port):o,n.options.path=(n.parsedUrl.pathname||"")+(n.parsedUrl.search||""),n.options.method=e,n.options.headers=this._mergeHeaders(i),this.userAgent!=null&&(n.options.headers["user-agent"]=this.userAgent),n.options.agent=this._getAgent(n.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(n.options);return n}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},ai(this.requestOptions.headers),ai(e||{})):ai(e||{})}_getExistingOrDefaultHeader(e,r,i){let n;return this.requestOptions&&this.requestOptions.headers&&(n=ai(this.requestOptions.headers)[r]),e[r]||n||i}_getAgent(e){let r,i=Co.getProxyUrl(e),n=i&&i.hostname;if(this._keepAlive&&n&&(r=this._proxyAgent),this._keepAlive&&!n&&(r=this._agent),r)return r;let s=e.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||si.globalAgent.maxSockets),i&&i.hostname){let a={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(i.username||i.password)&&{proxyAuth:`${i.username}:${i.password}`}),{host:i.hostname,port:i.port})},u,c=i.protocol==="https:";s?u=c?oi.httpsOverHttps:oi.httpsOverHttp:u=c?oi.httpOverHttps:oi.httpOverHttp,r=u(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:o};r=s?new En.Agent(a):new si.Agent(a),this._agent=r}return r||(r=s?En.globalAgent:si.globalAgent),s&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(e){return he(this,void 0,void 0,function*(){e=Math.min(jp,e);let r=Wp*Math.pow(2,e);return new Promise(i=>setTimeout(()=>i(),r))})}_processResponse(e,r){return he(this,void 0,void 0,function*(){return new Promise((i,n)=>he(this,void 0,void 0,function*(){let s=e.message.statusCode||0,o={statusCode:s,result:null,headers:{}};s===Ge.NotFound&&i(o);function a(l,d){if(typeof d=="string"){let v=new Date(d);if(!isNaN(v.valueOf()))return v}return d}let u,c;try{c=yield e.readBody(),c&&c.length>0&&(r&&r.deserializeDates?u=JSON.parse(c,a):u=JSON.parse(c),o.result=u),o.headers=e.message.headers}catch{}if(s>299){let l;u&&u.message?l=u.message:c&&c.length>0?l=c:l=`Failed request: (${s})`;let d=new er(l,s);d.result=o.result,n(d)}else i(o)}))})}};Z.HttpClient=Sn;var ai=t=>Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{})});var xo=I(et=>{"use strict";var _n=et&&et.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(d){o(d)}}function u(l){try{c(i.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):n(l.value).then(a,u)}c((i=i.apply(t,e||[])).next())})};Object.defineProperty(et,"__esModule",{value:!0});et.PersonalAccessTokenCredentialHandler=et.BearerCredentialHandler=et.BasicCredentialHandler=void 0;var wn=class{constructor(e,r){this.username=e,this.password=r}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return _n(this,void 0,void 0,function*(){throw new Error("not implemented")})}};et.BasicCredentialHandler=wn;var Tn=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return _n(this,void 0,void 0,function*(){throw new Error("not implemented")})}};et.BearerCredentialHandler=Tn;var Cn=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return _n(this,void 0,void 0,function*(){throw new Error("not implemented")})}};et.PersonalAccessTokenCredentialHandler=Cn});var Ro=I(tr=>{"use strict";var Ao=tr&&tr.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(d){o(d)}}function u(l){try{c(i.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):n(l.value).then(a,u)}c((i=i.apply(t,e||[])).next())})};Object.defineProperty(tr,"__esModule",{value:!0});tr.OidcClient=void 0;var zp=_o(),Kp=xo(),bo=xn(),bt=class{static createHttpClient(e=!0,r=10){let i={allowRetries:e,maxRetries:r};return new zp.HttpClient("actions/oidc-client",[new Kp.BearerCredentialHandler(bt.getRequestToken())],i)}static getRequestToken(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var r;return Ao(this,void 0,void 0,function*(){let s=(r=(yield bt.createHttpClient().getJson(e).catch(o=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${o.statusCode}
 
        Error Message: ${o.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(e){return Ao(this,void 0,void 0,function*(){try{let r=bt.getIDTokenUrl();if(e){let n=encodeURIComponent(e);r=`${r}&audience=${n}`}bo.debug(`ID token url is ${r}`);let i=yield bt.getCall(r);return bo.setSecret(i),i}catch(r){throw new Error(`Error message: ${r.message}`)}})}};tr.OidcClient=bt});var In=I(Ne=>{"use strict";var An=Ne&&Ne.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(d){o(d)}}function u(l){try{c(i.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):n(l.value).then(a,u)}c((i=i.apply(t,e||[])).next())})};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.summary=Ne.markdownSummary=Ne.SUMMARY_DOCS_URL=Ne.SUMMARY_ENV_VAR=void 0;var Xp=require("os"),bn=require("fs"),{access:Gp,appendFile:$p,writeFile:Yp}=bn.promises;Ne.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";Ne.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var Rn=class{constructor(){this._buffer=""}filePath(){return An(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let e=process.env[Ne.SUMMARY_ENV_VAR];if(!e)throw new Error(`Unable to find environment variable for $${Ne.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield Gp(e,bn.constants.R_OK|bn.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath})}wrap(e,r,i={}){let n=Object.entries(i).map(([s,o])=>` ${s}="${o}"`).join("");return r?`<${e}${n}>${r}</${e}>`:`<${e}${n}>`}write(e){return An(this,void 0,void 0,function*(){let r=!!(e!=null&&e.overwrite),i=yield this.filePath();return yield(r?Yp:$p)(i,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return An(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(e,r=!1){return this._buffer+=e,r?this.addEOL():this}addEOL(){return this.addRaw(Xp.EOL)}addCodeBlock(e,r){let i=Object.assign({},r&&{lang:r}),n=this.wrap("pre",this.wrap("code",e),i);return this.addRaw(n).addEOL()}addList(e,r=!1){let i=r?"ol":"ul",n=e.map(o=>this.wrap("li",o)).join(""),s=this.wrap(i,n);return this.addRaw(s).addEOL()}addTable(e){let r=e.map(n=>{let s=n.map(o=>{if(typeof o=="string")return this.wrap("td",o);let{header:a,data:u,colspan:c,rowspan:l}=o,d=a?"th":"td",v=Object.assign(Object.assign({},c&&{colspan:c}),l&&{rowspan:l});return this.wrap(d,u,v)}).join("");return this.wrap("tr",s)}).join(""),i=this.wrap("table",r);return this.addRaw(i).addEOL()}addDetails(e,r){let i=this.wrap("details",this.wrap("summary",e)+r);return this.addRaw(i).addEOL()}addImage(e,r,i){let{width:n,height:s}=i||{},o=Object.assign(Object.assign({},n&&{width:n}),s&&{height:s}),a=this.wrap("img",null,Object.assign({src:e,alt:r},o));return this.addRaw(a).addEOL()}addHeading(e,r){let i=`h${r}`,n=["h1","h2","h3","h4","h5","h6"].includes(i)?i:"h1",s=this.wrap(n,e);return this.addRaw(s).addEOL()}addSeparator(){let e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){let e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,r){let i=Object.assign({},r&&{cite:r}),n=this.wrap("blockquote",e,i);return this.addRaw(n).addEOL()}addLink(e,r){let i=this.wrap("a",e,{href:r});return this.addRaw(i).addEOL()}},Io=new Rn;Ne.markdownSummary=Io;Ne.summary=Io});var Po=I(De=>{"use strict";var Jp=De&&De.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Qp=De&&De.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Zp=De&&De.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Jp(e,t,r);return Qp(e,t),e};Object.defineProperty(De,"__esModule",{value:!0});De.toPlatformPath=De.toWin32Path=De.toPosixPath=void 0;var ed=Zp(require("path"));function td(t){return t.replace(/[\\]/g,"/")}De.toPosixPath=td;function rd(t){return t.replace(/[/]/g,"\\")}De.toWin32Path=rd;function id(t){return t.replace(/[/\\]/g,ed.sep)}De.toPlatformPath=id});var xn=I(U=>{"use strict";var nd=U&&U.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),sd=U&&U.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),No=U&&U.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&nd(e,t,r);return sd(e,t),e},Do=U&&U.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(d){o(d)}}function u(l){try{c(i.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):n(l.value).then(a,u)}c((i=i.apply(t,e||[])).next())})};Object.defineProperty(U,"__esModule",{value:!0});U.getIDToken=U.getState=U.saveState=U.group=U.endGroup=U.startGroup=U.info=U.notice=U.warning=U.error=U.debug=U.isDebug=U.setFailed=U.setCommandEcho=U.setOutput=U.getBooleanInput=U.getMultilineInput=U.getInput=U.addPath=U.setSecret=U.exportVariable=U.ExitCode=void 0;var je=Bs(),Ot=ho(),rr=ei(),qo=No(require("os")),od=No(require("path")),ad=Ro(),ko;(function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"})(ko=U.ExitCode||(U.ExitCode={}));function ud(t,e){let r=rr.toCommandValue(e);if(process.env[t]=r,process.env.GITHUB_ENV||"")return Ot.issueFileCommand("ENV",Ot.prepareKeyValueMessage(t,e));je.issueCommand("set-env",{name:t},r)}U.exportVariable=ud;function cd(t){je.issueCommand("add-mask",{},t)}U.setSecret=cd;function ld(t){process.env.GITHUB_PATH||""?Ot.issueFileCommand("PATH",t):je.issueCommand("add-path",{},t),process.env.PATH=`${t}${od.delimiter}${process.env.PATH}`}U.addPath=ld;function Pn(t,e){let r=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!r)throw new Error(`Input required and not supplied: ${t}`);return e&&e.trimWhitespace===!1?r:r.trim()}U.getInput=Pn;function fd(t,e){let r=Pn(t,e).split(`
`).filter(i=>i!=="");return e&&e.trimWhitespace===!1?r:r.map(i=>i.trim())}U.getMultilineInput=fd;function pd(t,e){let r=["true","True","TRUE"],i=["false","False","FALSE"],n=Pn(t,e);if(r.includes(n))return!0;if(i.includes(n))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${t}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}U.getBooleanInput=pd;function dd(t,e){if(process.env.GITHUB_OUTPUT||"")return Ot.issueFileCommand("OUTPUT",Ot.prepareKeyValueMessage(t,e));process.stdout.write(qo.EOL),je.issueCommand("set-output",{name:t},rr.toCommandValue(e))}U.setOutput=dd;function hd(t){je.issue("echo",t?"on":"off")}U.setCommandEcho=hd;function md(t){process.exitCode=ko.Failure,Oo(t)}U.setFailed=md;function vd(){return process.env.RUNNER_DEBUG==="1"}U.isDebug=vd;function gd(t){je.issueCommand("debug",{},t)}U.debug=gd;function Oo(t,e={}){je.issueCommand("error",rr.toCommandProperties(e),t instanceof Error?t.toString():t)}U.error=Oo;function yd(t,e={}){je.issueCommand("warning",rr.toCommandProperties(e),t instanceof Error?t.toString():t)}U.warning=yd;function Ed(t,e={}){je.issueCommand("notice",rr.toCommandProperties(e),t instanceof Error?t.toString():t)}U.notice=Ed;function Sd(t){process.stdout.write(t+qo.EOL)}U.info=Sd;function Lo(t){je.issue("group",t)}U.startGroup=Lo;function Mo(){je.issue("endgroup")}U.endGroup=Mo;function wd(t,e){return Do(this,void 0,void 0,function*(){Lo(t);let r;try{r=yield e()}finally{Mo()}return r})}U.group=wd;function Td(t,e){if(process.env.GITHUB_STATE||"")return Ot.issueFileCommand("STATE",Ot.prepareKeyValueMessage(t,e));je.issueCommand("save-state",{name:t},rr.toCommandValue(e))}U.saveState=Td;function Cd(t){return process.env[`STATE_${t}`]||""}U.getState=Cd;function _d(t){return Do(this,void 0,void 0,function*(){return yield ad.OidcClient.getIDToken(t)})}U.getIDToken=_d;var xd=In();Object.defineProperty(U,"summary",{enumerable:!0,get:function(){return xd.summary}});var Ad=In();Object.defineProperty(U,"markdownSummary",{enumerable:!0,get:function(){return Ad.markdownSummary}});var Nn=Po();Object.defineProperty(U,"toPosixPath",{enumerable:!0,get:function(){return Nn.toPosixPath}});Object.defineProperty(U,"toWin32Path",{enumerable:!0,get:function(){return Nn.toWin32Path}});Object.defineProperty(U,"toPlatformPath",{enumerable:!0,get:function(){return Nn.toPlatformPath}})});var fi=I((c0,Bo)=>{var Dn=le();function Fo(){}Fo.prototype.build=function(t,e){return JSON.stringify(li(t,e))};function li(t,e){if(!(!e||t===void 0||t===null))switch(e.type){case"structure":return bd(t,e);case"map":return Id(t,e);case"list":return Rd(t,e);default:return Pd(t,e)}}function bd(t,e){if(e.isDocument)return t;var r={};return Dn.each(t,function(i,n){var s=e.members[i];if(s){if(s.location!=="body")return;var o=s.isLocationName?s.name:i,a=li(n,s);a!==void 0&&(r[o]=a)}}),r}function Rd(t,e){var r=[];return Dn.arrayEach(t,function(i){var n=li(i,e.member);n!==void 0&&r.push(n)}),r}function Id(t,e){var r={};return Dn.each(t,function(i,n){var s=li(n,e.value);s!==void 0&&(r[i]=s)}),r}function Pd(t,e){return e.toWireFormat(t)}Bo.exports=Fo});var di=I((l0,Vo)=>{var qn=le();function Uo(){}Uo.prototype.parse=function(t,e){return pi(JSON.parse(t),e)};function pi(t,e){if(!(!e||t===void 0))switch(e.type){case"structure":return Nd(t,e);case"map":return qd(t,e);case"list":return Dd(t,e);default:return kd(t,e)}}function Nd(t,e){if(t!=null){if(e.isDocument)return t;var r={},i=e.members;return qn.each(i,function(n,s){var o=s.isLocationName?s.name:n;if(Object.prototype.hasOwnProperty.call(t,o)){var a=t[o],u=pi(a,s);u!==void 0&&(r[n]=u)}}),r}}function Dd(t,e){if(t!=null){var r=[];return qn.arrayEach(t,function(i){var n=pi(i,e.member);n===void 0?r.push(null):r.push(n)}),r}}function qd(t,e){if(t!=null){var r={};return qn.each(t,function(i,n){var s=pi(n,e.value);s===void 0?r[i]=null:r[i]=s}),r}}function kd(t,e){return e.toType(t)}Vo.exports=Uo});var hi=I((f0,jo)=>{var mr=le(),Od=V();function Ld(t){var e=t.service.config.hostPrefixEnabled;if(!e)return t;var r=t.service.api.operations[t.operation];if(Md(t))return t;if(r.endpoint&&r.endpoint.hostPrefix){var i=r.endpoint.hostPrefix,n=Fd(i,t.params,r.input);Bd(t.httpRequest.endpoint,n),Ud(t.httpRequest.endpoint.hostname)}return t}function Md(t){var e=t.service.api,r=e.operations[t.operation],i=e.endpointOperation&&e.endpointOperation===mr.string.lowerFirst(r.name);return r.endpointDiscoveryRequired!=="NULL"||i===!0}function Fd(t,e,r){return mr.each(r.members,function(i,n){if(n.hostLabel===!0){if(typeof e[i]!="string"||e[i]==="")throw mr.error(new Error,{message:"Parameter "+i+" should be a non-empty string.",code:"InvalidParameter"});var s=new RegExp("\\{"+i+"\\}","g");t=t.replace(s,e[i])}}),t}function Bd(t,e){t.host&&(t.host=e+t.host),t.hostname&&(t.hostname=e+t.hostname)}function Ud(t){var e=t.split("."),r=/^[a-zA-Z0-9]{1}$|^[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9]$/;mr.arrayEach(e,function(i){if(!i.length||i.length<1||i.length>63)throw mr.error(new Error,{code:"ValidationError",message:"Hostname label length should be between 1 to 63 characters, inclusive."});if(!r.test(i))throw Od.util.error(new Error,{code:"ValidationError",message:i+" is not hostname compatible."})})}jo.exports={populateHostPrefix:Ld}});var mi=I((p0,Wo)=>{var Vd=le(),jd=fi(),Wd=di(),Hd=hi().populateHostPrefix;function zd(t){var e=t.httpRequest,r=t.service.api,i=r.targetPrefix+"."+r.operations[t.operation].name,n=r.jsonVersion||"1.0",s=r.operations[t.operation].input,o=new jd;n===1&&(n="1.0"),e.body=o.build(t.params||{},s),e.headers["Content-Type"]="application/x-amz-json-"+n,e.headers["X-Amz-Target"]=i,Hd(t)}function Kd(t){var e={},r=t.httpResponse;if(e.code=r.headers["x-amzn-errortype"]||"UnknownError",typeof e.code=="string"&&(e.code=e.code.split(":")[0]),r.body.length>0)try{var i=JSON.parse(r.body.toString()),n=i.__type||i.code||i.Code;n&&(e.code=n.split("#").pop()),e.code==="RequestEntityTooLarge"?e.message="Request body must be less than 1 MB":e.message=i.message||i.Message||null}catch{e.statusCode=r.statusCode,e.message=r.statusMessage}else e.statusCode=r.statusCode,e.message=r.statusCode.toString();t.error=Vd.error(new Error,e)}function Xd(t){var e=t.httpResponse.body.toString()||"{}";if(t.request.service.config.convertResponseTypes===!1)t.data=JSON.parse(e);else{var r=t.request.service.api.operations[t.request.operation],i=r.output||{},n=new Wd;t.data=n.parse(e,i)}}Wo.exports={buildRequest:zd,extractError:Kd,extractData:Xd}});var Go=I((d0,Xo)=>{var kn=le();function Ho(){}Ho.prototype.serialize=function(t,e,r){Ko("",t,e,r)};function zo(t){return t.isQueryName||t.api.protocol!=="ec2"?t.name:t.name[0].toUpperCase()+t.name.substr(1)}function Ko(t,e,r,i){kn.each(r.members,function(n,s){var o=e[n];if(o!=null){var a=zo(s);a=t?t+"."+a:a,vi(a,o,s,i)}})}function Gd(t,e,r,i){var n=1;kn.each(e,function(s,o){var a=r.flattened?".":".entry.",u=a+n+++".",c=u+(r.key.name||"key"),l=u+(r.value.name||"value");vi(t+c,s,r.key,i),vi(t+l,o,r.value,i)})}function $d(t,e,r,i){var n=r.member||{};if(e.length===0){i.call(this,t,null);return}kn.arrayEach(e,function(s,o){var a="."+(o+1);if(r.api.protocol==="ec2")a=a+"";else if(r.flattened){if(n.name){var u=t.split(".");u.pop(),u.push(zo(n)),t=u.join(".")}}else a="."+(n.name?n.name:"member")+a;vi(t+a,s,n,i)})}function vi(t,e,r,i){e!=null&&(r.type==="structure"?Ko(t,e,r,i):r.type==="list"?$d(t,e,r,i):r.type==="map"?Gd(t,e,r,i):i(t,r.toWireFormat(e).toString()))}Xo.exports=Ho});var On=I((h0,$o)=>{var Yd=le().memoizedProperty;function Jd(t,e,r,i){Yd(this,i(t),function(){return r(t,e)})}function Qd(t,e,r,i,n){i=i||String;var s=this;for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(Jd.call(s,o,t[o],r,i),n&&n(o,t[o]))}$o.exports=Qd});var vr=I((m0,ia)=>{var Zd=On(),ht=le();function j(t,e,r){r!=null&&ht.property.apply(this,arguments)}function Lt(t,e){t.constructor.prototype[e]||ht.memoizedProperty.apply(this,arguments)}function re(t,e,r){e=e||{},j(this,"shape",t.shape),j(this,"api",e.api,!1),j(this,"type",t.type),j(this,"enum",t.enum),j(this,"min",t.min),j(this,"max",t.max),j(this,"pattern",t.pattern),j(this,"location",t.location||this.location||"body"),j(this,"name",this.name||t.xmlName||t.queryName||t.locationName||r),j(this,"isStreaming",t.streaming||this.isStreaming||!1),j(this,"requiresLength",t.requiresLength,!1),j(this,"isComposite",t.isComposite||!1),j(this,"isShape",!0,!1),j(this,"isQueryName",!!t.queryName,!1),j(this,"isLocationName",!!t.locationName,!1),j(this,"isIdempotent",t.idempotencyToken===!0),j(this,"isJsonValue",t.jsonvalue===!0),j(this,"isSensitive",t.sensitive===!0||t.prototype&&t.prototype.sensitive===!0),j(this,"isEventStream",!!t.eventstream,!1),j(this,"isEvent",!!t.event,!1),j(this,"isEventPayload",!!t.eventpayload,!1),j(this,"isEventHeader",!!t.eventheader,!1),j(this,"isTimestampFormatSet",!!t.timestampFormat||t.prototype&&t.prototype.isTimestampFormatSet===!0,!1),j(this,"endpointDiscoveryId",!!t.endpointdiscoveryid,!1),j(this,"hostLabel",!!t.hostLabel,!1),e.documentation&&(j(this,"documentation",t.documentation),j(this,"documentationUrl",t.documentationUrl)),t.xmlAttribute&&j(this,"isXmlAttribute",t.xmlAttribute||!1),j(this,"defaultValue",null),this.toWireFormat=function(i){return i==null?"":i},this.toType=function(i){return i}}re.normalizedTypes={character:"string",double:"float",long:"integer",short:"integer",biginteger:"integer",bigdecimal:"float",blob:"binary"};re.types={structure:Yo,list:Jo,map:Qo,boolean:ra,timestamp:eh,float:th,integer:rh,string:Zo,base64:ta,binary:ea};re.resolve=function(e,r){if(e.shape){var i=r.api.shapes[e.shape];if(!i)throw new Error("Cannot find shape reference: "+e.shape);return i}else return null};re.create=function(e,r,i){if(e.isShape)return e;var n=re.resolve(e,r);if(n){var s=Object.keys(e);r.documentation||(s=s.filter(function(u){return!u.match(/documentation/)}));var o=function(){n.constructor.call(this,e,r,i)};return o.prototype=n,new o}else{e.type||(e.members?e.type="structure":e.member?e.type="list":e.key?e.type="map":e.type="string");var a=e.type;if(re.normalizedTypes[e.type]&&(e.type=re.normalizedTypes[e.type]),re.types[e.type])return new re.types[e.type](e,r,i);throw new Error("Unrecognized shape type: "+a)}};function Ln(t){re.apply(this,arguments),j(this,"isComposite",!0),t.flattened&&j(this,"flattened",t.flattened||!1)}function Yo(t,e){var r=this,i=null,n=!this.isShape;Ln.apply(this,arguments),n&&(j(this,"defaultValue",function(){return{}}),j(this,"members",{}),j(this,"memberNames",[]),j(this,"required",[]),j(this,"isRequired",function(){return!1}),j(this,"isDocument",!!t.document)),t.members&&(j(this,"members",new Zd(t.members,e,function(s,o){return re.create(o,e,s)})),Lt(this,"memberNames",function(){return t.xmlOrder||Object.keys(t.members)}),t.event&&(Lt(this,"eventPayloadMemberName",function(){for(var s=r.members,o=r.memberNames,a=0,u=o.length;a<u;a++)if(s[o[a]].isEventPayload)return o[a]}),Lt(this,"eventHeaderMemberNames",function(){for(var s=r.members,o=r.memberNames,a=[],u=0,c=o.length;u<c;u++)s[o[u]].isEventHeader&&a.push(o[u]);return a}))),t.required&&(j(this,"required",t.required),j(this,"isRequired",function(s){if(!i){i={};for(var o=0;o<t.required.length;o++)i[t.required[o]]=!0}return i[s]},!1,!0)),j(this,"resultWrapper",t.resultWrapper||null),t.payload&&j(this,"payload",t.payload),typeof t.xmlNamespace=="string"?j(this,"xmlNamespaceUri",t.xmlNamespace):typeof t.xmlNamespace=="object"&&(j(this,"xmlNamespacePrefix",t.xmlNamespace.prefix),j(this,"xmlNamespaceUri",t.xmlNamespace.uri))}function Jo(t,e){var r=this,i=!this.isShape;if(Ln.apply(this,arguments),i&&j(this,"defaultValue",function(){return[]}),t.member&&Lt(this,"member",function(){return re.create(t.member,e)}),this.flattened){var n=this.name;Lt(this,"name",function(){return r.member.name||n})}}function Qo(t,e){var r=!this.isShape;Ln.apply(this,arguments),r&&(j(this,"defaultValue",function(){return{}}),j(this,"key",re.create({type:"string"},e)),j(this,"value",re.create({type:"string"},e))),t.key&&Lt(this,"key",function(){return re.create(t.key,e)}),t.value&&Lt(this,"value",function(){return re.create(t.value,e)})}function eh(t){var e=this;if(re.apply(this,arguments),t.timestampFormat)j(this,"timestampFormat",t.timestampFormat);else if(e.isTimestampFormatSet&&this.timestampFormat)j(this,"timestampFormat",this.timestampFormat);else if(this.location==="header")j(this,"timestampFormat","rfc822");else if(this.location==="querystring")j(this,"timestampFormat","iso8601");else if(this.api)switch(this.api.protocol){case"json":case"rest-json":j(this,"timestampFormat","unixTimestamp");break;case"rest-xml":case"query":case"ec2":j(this,"timestampFormat","iso8601");break}this.toType=function(r){return r==null?null:typeof r.toUTCString=="function"?r:typeof r=="string"||typeof r=="number"?ht.date.parseTimestamp(r):null},this.toWireFormat=function(r){return ht.date.format(r,e.timestampFormat)}}function Zo(){re.apply(this,arguments);var t=["rest-xml","query","ec2"];this.toType=function(e){return e=this.api&&t.indexOf(this.api.protocol)>-1?e||"":e,this.isJsonValue?JSON.parse(e):e&&typeof e.toString=="function"?e.toString():e},this.toWireFormat=function(e){return this.isJsonValue?JSON.stringify(e):e}}function th(){re.apply(this,arguments),this.toType=function(t){return t==null?null:parseFloat(t)},this.toWireFormat=this.toType}function rh(){re.apply(this,arguments),this.toType=function(t){return t==null?null:parseInt(t,10)},this.toWireFormat=this.toType}function ea(){re.apply(this,arguments),this.toType=function(t){var e=ht.base64.decode(t);if(this.isSensitive&&ht.isNode()&&typeof ht.Buffer.alloc=="function"){var r=ht.Buffer.alloc(e.length,e);e.fill(0),e=r}return e},this.toWireFormat=ht.base64.encode}function ta(){ea.apply(this,arguments)}function ra(){re.apply(this,arguments),this.toType=function(t){return typeof t=="boolean"?t:t==null?null:t==="true"}}re.shapes={StructureShape:Yo,ListShape:Jo,MapShape:Qo,StringShape:Zo,BooleanShape:ra,Base64Shape:ta};ia.exports=re});var Mn=I((v0,oa)=>{var sa=V(),gr=le(),ih=Go(),na=vr(),nh=hi().populateHostPrefix;function sh(t){var e=t.service.api.operations[t.operation],r=t.httpRequest;r.headers["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8",r.params={Version:t.service.api.apiVersion,Action:e.name};var i=new ih;i.serialize(t.params,e.input,function(n,s){r.params[n]=s}),r.body=gr.queryParamsToString(r.params),nh(t)}function oh(t){var e,r=t.httpResponse.body.toString();if(r.match("<UnknownOperationException"))e={Code:"UnknownOperation",Message:"Unknown operation "+t.request.operation};else try{e=new sa.XML.Parser().parse(r)}catch{e={Code:t.httpResponse.statusCode,Message:t.httpResponse.statusMessage}}e.requestId&&!t.requestId&&(t.requestId=e.requestId),e.Errors&&(e=e.Errors),e.Error&&(e=e.Error),e.Code?t.error=gr.error(new Error,{code:e.Code,message:e.Message}):t.error=gr.error(new Error,{code:t.httpResponse.statusCode,message:null})}function ah(t){var e=t.request,r=e.service.api.operations[e.operation],i=r.output||{},n=i;if(n.resultWrapper){var s=na.create({type:"structure"});s.members[n.resultWrapper]=i,s.memberNames=[n.resultWrapper],gr.property(i,"name",i.resultWrapper),i=s}var o=new sa.XML.Parser;if(i&&i.members&&!i.members._XAMZRequestId){var a=na.create({type:"string"},{api:{protocol:"query"}},"requestId");i.members._XAMZRequestId=a}var u=o.parse(t.httpResponse.body.toString(),i);t.requestId=u._XAMZRequestId||u.requestId,u._XAMZRequestId&&delete u._XAMZRequestId,n.resultWrapper&&u[n.resultWrapper]&&(gr.update(u,u[n.resultWrapper]),delete u[n.resultWrapper]),t.data=u}oa.exports={buildRequest:sh,extractError:oh,extractData:ah}});var yr=I((g0,ua)=>{var Ee=le(),uh=hi().populateHostPrefix;function ch(t){t.httpRequest.method=t.service.api.operations[t.operation].httpMethod}function aa(t,e,r,i){var n=[t,e].join("/");n=n.replace(/\/+/g,"/");var s={},o=!1;if(Ee.each(r.members,function(u,c){var l=i[u];if(l!=null)if(c.location==="uri"){var d=new RegExp("\\{"+c.name+"(\\+)?\\}");n=n.replace(d,function(v,x){var g=x?Ee.uriEscapePath:Ee.uriEscape;return g(String(l))})}else c.location==="querystring"&&(o=!0,c.type==="list"?s[c.name]=l.map(function(v){return Ee.uriEscape(c.member.toWireFormat(v).toString())}):c.type==="map"?Ee.each(l,function(v,x){Array.isArray(x)?s[v]=x.map(function(g){return Ee.uriEscape(String(g))}):s[v]=Ee.uriEscape(String(x))}):s[c.name]=Ee.uriEscape(c.toWireFormat(l).toString()))}),o){n+=n.indexOf("?")>=0?"&":"?";var a=[];Ee.arrayEach(Object.keys(s).sort(),function(u){Array.isArray(s[u])||(s[u]=[s[u]]);for(var c=0;c<s[u].length;c++)a.push(Ee.uriEscape(String(u))+"="+s[u][c])}),n+=a.join("&")}return n}function lh(t){var e=t.service.api.operations[t.operation],r=e.input,i=aa(t.httpRequest.endpoint.path,e.httpPath,r,t.params);t.httpRequest.path=i}function fh(t){var e=t.service.api.operations[t.operation];Ee.each(e.input.members,function(r,i){var n=t.params[r];n!=null&&(i.location==="headers"&&i.type==="map"?Ee.each(n,function(s,o){t.httpRequest.headers[i.name+s]=o}):i.location==="header"&&(n=i.toWireFormat(n).toString(),i.isJsonValue&&(n=Ee.base64.encode(n)),t.httpRequest.headers[i.name]=n))})}function ph(t){ch(t),lh(t),fh(t),uh(t)}function dh(){}function hh(t){var e=t.request,r={},i=t.httpResponse,n=e.service.api.operations[e.operation],s=n.output,o={};Ee.each(i.headers,function(a,u){o[a.toLowerCase()]=u}),Ee.each(s.members,function(a,u){var c=(u.name||a).toLowerCase();if(u.location==="headers"&&u.type==="map"){r[a]={};var l=u.isLocationName?u.name:"",d=new RegExp("^"+l+"(.+)","i");Ee.each(i.headers,function(x,g){var E=x.match(d);E!==null&&(r[a][E[1]]=g)})}else if(u.location==="header"){if(o[c]!==void 0){var v=u.isJsonValue?Ee.base64.decode(o[c]):o[c];r[a]=u.toType(v)}}else u.location==="statusCode"&&(r[a]=parseInt(i.statusCode,10))}),t.data=r}ua.exports={buildRequest:ph,extractError:dh,extractData:hh,generateURI:aa}});var Un=I((y0,da)=>{var Bn=le(),la=yr(),fa=mi(),mh=fi(),ca=di(),pa=["GET","HEAD","DELETE"];function vh(t){var e=Bn.getRequestPayloadShape(t);e===void 0&&pa.indexOf(t.httpRequest.method)>=0&&delete t.httpRequest.headers["Content-Length"]}function gh(t){var e=new mh,r=t.service.api.operations[t.operation].input;if(r.payload){var i={},n=r.members[r.payload];i=t.params[r.payload],n.type==="structure"?(t.httpRequest.body=e.build(i||{},n),Fn(t)):i!==void 0&&(t.httpRequest.body=i,(n.type==="binary"||n.isStreaming)&&Fn(t,!0))}else t.httpRequest.body=e.build(t.params,r),Fn(t)}function Fn(t,e){if(!t.httpRequest.headers["Content-Type"]){var r=e?"binary/octet-stream":"application/json";t.httpRequest.headers["Content-Type"]=r}}function yh(t){la.buildRequest(t),pa.indexOf(t.httpRequest.method)<0&&gh(t)}function Eh(t){fa.extractError(t)}function Sh(t){la.extractData(t);var e=t.request,r=e.service.api.operations[e.operation],i=e.service.api.operations[e.operation].output||{},n,s=r.hasEventOutput;if(i.payload){var o=i.members[i.payload],a=t.httpResponse.body;if(o.isEventStream)n=new ca,t.data[payload]=Bn.createEventStream(AWS.HttpClient.streamsApiVersion===2?t.httpResponse.stream:a,n,o);else if(o.type==="structure"||o.type==="list"){var n=new ca;t.data[i.payload]=n.parse(a,o)}else o.type==="binary"||o.isStreaming?t.data[i.payload]=a:t.data[i.payload]=o.toType(a)}else{var u=t.data;fa.extractData(t),t.data=Bn.merge(u,t.data)}}da.exports={buildRequest:yh,extractError:Eh,extractData:Sh,unsetContentLength:vh}});var jn=I((E0,ha)=>{var ir=V(),Er=le(),Vn=yr();function wh(t){var e=t.service.api.operations[t.operation].input,r=new ir.XML.Builder,i=t.params,n=e.payload;if(n){var s=e.members[n];if(i=i[n],i===void 0)return;if(s.type==="structure"){var o=s.name;t.httpRequest.body=r.toXML(i,s,o,!0)}else t.httpRequest.body=i}else t.httpRequest.body=r.toXML(i,e,e.name||e.shape||Er.string.upperFirst(t.operation)+"Request")}function Th(t){Vn.buildRequest(t),["GET","HEAD"].indexOf(t.httpRequest.method)<0&&wh(t)}function Ch(t){Vn.extractError(t);var e;try{e=new ir.XML.Parser().parse(t.httpResponse.body.toString())}catch{e={Code:t.httpResponse.statusCode,Message:t.httpResponse.statusMessage}}e.Errors&&(e=e.Errors),e.Error&&(e=e.Error),e.Code?t.error=Er.error(new Error,{code:e.Code,message:e.Message}):t.error=Er.error(new Error,{code:t.httpResponse.statusCode,message:null})}function _h(t){Vn.extractData(t);var e,r=t.request,i=t.httpResponse.body,n=r.service.api.operations[r.operation],s=n.output,o=n.hasEventOutput,a=s.payload;if(a){var u=s.members[a];u.isEventStream?(e=new ir.XML.Parser,t.data[a]=Er.createEventStream(ir.HttpClient.streamsApiVersion===2?t.httpResponse.stream:t.httpResponse.body,e,u)):u.type==="structure"?(e=new ir.XML.Parser,t.data[a]=e.parse(i.toString(),u)):u.type==="binary"||u.isStreaming?t.data[a]=i:t.data[a]=u.toType(i)}else if(i.length>0){e=new ir.XML.Parser;var c=e.parse(i.toString(),s);Er.update(t.data,c)}}ha.exports={buildRequest:Th,extractError:Ch,extractData:_h}});var va=I((S0,ma)=>{function xh(t){return t.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}ma.exports={escapeAttribute:xh}});var ya=I((w0,ga)=>{var Ah=va().escapeAttribute;function Sr(t,e){e===void 0&&(e=[]),this.name=t,this.children=e,this.attributes={}}Sr.prototype.addAttribute=function(t,e){return this.attributes[t]=e,this};Sr.prototype.addChildNode=function(t){return this.children.push(t),this};Sr.prototype.removeAttribute=function(t){return delete this.attributes[t],this};Sr.prototype.toString=function(){for(var t=!!this.children.length,e="<"+this.name,r=this.attributes,i=0,n=Object.keys(r);i<n.length;i++){var s=n[i],o=r[s];typeof o<"u"&&o!==null&&(e+=" "+s+'="'+Ah(""+o)+'"')}return e+=t?">"+this.children.map(function(a){return a.toString()}).join("")+"</"+this.name+">":"/>"};ga.exports={XmlNode:Sr}});var Sa=I((T0,Ea)=>{function bh(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}Ea.exports={escapeElement:bh}});var Ca=I((C0,Ta)=>{var Rh=Sa().escapeElement;function wa(t){this.value=t}wa.prototype.toString=function(){return Rh(""+this.value)};Ta.exports={XmlText:wa}});var ba=I((_0,Aa)=>{var gi=le(),Mt=ya().XmlNode,Ih=Ca().XmlText;function _a(){}_a.prototype.toXML=function(t,e,r,i){var n=new Mt(r);return xa(n,e,!0),Ft(n,t,e),n.children.length>0||i?n.toString():""};function Ft(t,e,r){switch(r.type){case"structure":return Ph(t,e,r);case"map":return Nh(t,e,r);case"list":return Dh(t,e,r);default:return qh(t,e,r)}}function Ph(t,e,r){gi.arrayEach(r.memberNames,function(i){var n=r.members[i];if(n.location==="body"){var s=e[i],o=n.name;if(s!=null)if(n.isXmlAttribute)t.addAttribute(o,s);else if(n.flattened)Ft(t,s,n);else{var a=new Mt(o);t.addChildNode(a),xa(a,n),Ft(a,s,n)}}})}function Nh(t,e,r){var i=r.key.name||"key",n=r.value.name||"value";gi.each(e,function(s,o){var a=new Mt(r.flattened?r.name:"entry");t.addChildNode(a);var u=new Mt(i),c=new Mt(n);a.addChildNode(u),a.addChildNode(c),Ft(u,s,r.key),Ft(c,o,r.value)})}function Dh(t,e,r){r.flattened?gi.arrayEach(e,function(i){var n=r.member.name||r.name,s=new Mt(n);t.addChildNode(s),Ft(s,i,r.member)}):gi.arrayEach(e,function(i){var n=r.member.name||"member",s=new Mt(n);t.addChildNode(s),Ft(s,i,r.member)})}function qh(t,e,r){t.addChildNode(new Ih(r.toWireFormat(e)))}function xa(t,e,r){var i,n="xmlns";e.xmlNamespaceUri?(i=e.xmlNamespaceUri,e.xmlNamespacePrefix&&(n+=":"+e.xmlNamespacePrefix)):r&&e.api.xmlNamespaceUri&&(i=e.api.xmlNamespaceUri),i&&t.addAttribute(n,i)}Aa.exports=_a});var Wn=I((x0,Ia)=>{var wr=vr(),Ra=le(),tt=Ra.property,nr=Ra.memoizedProperty;function kh(t,e,r){var i=this;r=r||{},tt(this,"name",e.name||t),tt(this,"api",r.api,!1),e.http=e.http||{},tt(this,"endpoint",e.endpoint),tt(this,"httpMethod",e.http.method||"POST"),tt(this,"httpPath",e.http.requestUri||"/"),tt(this,"authtype",e.authtype||""),tt(this,"endpointDiscoveryRequired",e.endpointdiscovery?e.endpointdiscovery.required?"REQUIRED":"OPTIONAL":"NULL");var n=e.httpChecksumRequired||e.httpChecksum&&e.httpChecksum.requestChecksumRequired;tt(this,"httpChecksumRequired",n,!1),nr(this,"input",function(){return e.input?wr.create(e.input,r):new wr.create({type:"structure"},r)}),nr(this,"output",function(){return e.output?wr.create(e.output,r):new wr.create({type:"structure"},r)}),nr(this,"errors",function(){var s=[];if(!e.errors)return null;for(var o=0;o<e.errors.length;o++)s.push(wr.create(e.errors[o],r));return s}),nr(this,"paginator",function(){return r.api.paginators[t]}),r.documentation&&(tt(this,"documentation",e.documentation),tt(this,"documentationUrl",e.documentationUrl)),nr(this,"idempotentMembers",function(){var s=[],o=i.input,a=o.members;if(!o.members)return s;for(var u in a)a.hasOwnProperty(u)&&a[u].isIdempotent===!0&&s.push(u);return s}),nr(this,"hasEventOutput",function(){var s=i.output;return Oh(s)})}function Oh(t){var e=t.members,r=t.payload;if(!t.members)return!1;if(r){var i=e[r];return i.isEventStream}for(var n in e)if(!e.hasOwnProperty(n)&&e[n].isEventStream===!0)return!0;return!1}Ia.exports=kh});var Hn=I((A0,Pa)=>{var Tr=le().property;function Lh(t,e){Tr(this,"inputToken",e.input_token),Tr(this,"limitKey",e.limit_key),Tr(this,"moreResults",e.more_results),Tr(this,"outputToken",e.output_token),Tr(this,"resultKey",e.result_key)}Pa.exports=Lh});var zn=I((b0,Da)=>{var Na=le(),yi=Na.property;function Mh(t,e,r){r=r||{},yi(this,"name",t),yi(this,"api",r.api,!1),e.operation&&yi(this,"operation",Na.string.lowerFirst(e.operation));var i=this,n=["type","description","delay","maxAttempts","acceptors"];n.forEach(function(s){var o=e[s];o&&yi(i,s,o)})}Da.exports=Mh});var Kn=I((R0,Fh)=>{Fh.exports={acm:{name:"ACM",cors:!0},apigateway:{name:"APIGateway",cors:!0},applicationautoscaling:{prefix:"application-autoscaling",name:"ApplicationAutoScaling",cors:!0},appstream:{name:"AppStream"},autoscaling:{name:"AutoScaling",cors:!0},batch:{name:"Batch"},budgets:{name:"Budgets"},clouddirectory:{name:"CloudDirectory",versions:["2016-05-10*"]},cloudformation:{name:"CloudFormation",cors:!0},cloudfront:{name:"CloudFront",versions:["2013-05-12*","2013-11-11*","2014-05-31*","2014-10-21*","2014-11-06*","2015-04-17*","2015-07-27*","2015-09-17*","2016-01-13*","2016-01-28*","2016-08-01*","2016-08-20*","2016-09-07*","2016-09-29*","2016-11-25*","2017-03-25*","2017-10-30*","2018-06-18*","2018-11-05*","2019-03-26*"],cors:!0},cloudhsm:{name:"CloudHSM",cors:!0},cloudsearch:{name:"CloudSearch"},cloudsearchdomain:{name:"CloudSearchDomain"},cloudtrail:{name:"CloudTrail",cors:!0},cloudwatch:{prefix:"monitoring",name:"CloudWatch",cors:!0},cloudwatchevents:{prefix:"events",name:"CloudWatchEvents",versions:["2014-02-03*"],cors:!0},cloudwatchlogs:{prefix:"logs",name:"CloudWatchLogs",cors:!0},codebuild:{name:"CodeBuild",cors:!0},codecommit:{name:"CodeCommit",cors:!0},codedeploy:{name:"CodeDeploy",cors:!0},codepipeline:{name:"CodePipeline",cors:!0},cognitoidentity:{prefix:"cognito-identity",name:"CognitoIdentity",cors:!0},cognitoidentityserviceprovider:{prefix:"cognito-idp",name:"CognitoIdentityServiceProvider",cors:!0},cognitosync:{prefix:"cognito-sync",name:"CognitoSync",cors:!0},configservice:{prefix:"config",name:"ConfigService",cors:!0},cur:{name:"CUR",cors:!0},datapipeline:{name:"DataPipeline"},devicefarm:{name:"DeviceFarm",cors:!0},directconnect:{name:"DirectConnect",cors:!0},directoryservice:{prefix:"ds",name:"DirectoryService"},discovery:{name:"Discovery"},dms:{name:"DMS"},dynamodb:{name:"DynamoDB",cors:!0},dynamodbstreams:{prefix:"streams.dynamodb",name:"DynamoDBStreams",cors:!0},ec2:{name:"EC2",versions:["2013-06-15*","2013-10-15*","2014-02-01*","2014-05-01*","2014-06-15*","2014-09-01*","2014-10-01*","2015-03-01*","2015-04-15*","2015-10-01*","2016-04-01*","2016-09-15*"],cors:!0},ecr:{name:"ECR",cors:!0},ecs:{name:"ECS",cors:!0},efs:{prefix:"elasticfilesystem",name:"EFS",cors:!0},elasticache:{name:"ElastiCache",versions:["2012-11-15*","2014-03-24*","2014-07-15*","2014-09-30*"],cors:!0},elasticbeanstalk:{name:"ElasticBeanstalk",cors:!0},elb:{prefix:"elasticloadbalancing",name:"ELB",cors:!0},elbv2:{prefix:"elasticloadbalancingv2",name:"ELBv2",cors:!0},emr:{prefix:"elasticmapreduce",name:"EMR",cors:!0},es:{name:"ES"},elastictranscoder:{name:"ElasticTranscoder",cors:!0},firehose:{name:"Firehose",cors:!0},gamelift:{name:"GameLift",cors:!0},glacier:{name:"Glacier"},health:{name:"Health"},iam:{name:"IAM",cors:!0},importexport:{name:"ImportExport"},inspector:{name:"Inspector",versions:["2015-08-18*"],cors:!0},iot:{name:"Iot",cors:!0},iotdata:{prefix:"iot-data",name:"IotData",cors:!0},kinesis:{name:"Kinesis",cors:!0},kinesisanalytics:{name:"KinesisAnalytics"},kms:{name:"KMS",cors:!0},lambda:{name:"Lambda",cors:!0},lexruntime:{prefix:"runtime.lex",name:"LexRuntime",cors:!0},lightsail:{name:"Lightsail"},machinelearning:{name:"MachineLearning",cors:!0},marketplacecommerceanalytics:{name:"MarketplaceCommerceAnalytics",cors:!0},marketplacemetering:{prefix:"meteringmarketplace",name:"MarketplaceMetering"},mturk:{prefix:"mturk-requester",name:"MTurk",cors:!0},mobileanalytics:{name:"MobileAnalytics",cors:!0},opsworks:{name:"OpsWorks",cors:!0},opsworkscm:{name:"OpsWorksCM"},organizations:{name:"Organizations"},pinpoint:{name:"Pinpoint"},polly:{name:"Polly",cors:!0},rds:{name:"RDS",versions:["2014-09-01*"],cors:!0},redshift:{name:"Redshift",cors:!0},rekognition:{name:"Rekognition",cors:!0},resourcegroupstaggingapi:{name:"ResourceGroupsTaggingAPI"},route53:{name:"Route53",cors:!0},route53domains:{name:"Route53Domains",cors:!0},s3:{name:"S3",dualstackAvailable:!0,cors:!0},s3control:{name:"S3Control",dualstackAvailable:!0,xmlNoDefaultLists:!0},servicecatalog:{name:"ServiceCatalog",cors:!0},ses:{prefix:"email",name:"SES",cors:!0},shield:{name:"Shield"},simpledb:{prefix:"sdb",name:"SimpleDB"},sms:{name:"SMS"},snowball:{name:"Snowball"},sns:{name:"SNS",cors:!0},sqs:{name:"SQS",cors:!0},ssm:{name:"SSM",cors:!0},storagegateway:{name:"StorageGateway",cors:!0},stepfunctions:{prefix:"states",name:"StepFunctions"},sts:{name:"STS",cors:!0},support:{name:"Support"},swf:{name:"SWF"},xray:{name:"XRay",cors:!0},waf:{name:"WAF",cors:!0},wafregional:{prefix:"waf-regional",name:"WAFRegional"},workdocs:{name:"WorkDocs",cors:!0},workspaces:{name:"WorkSpaces"},codestar:{name:"CodeStar"},lexmodelbuildingservice:{prefix:"lex-models",name:"LexModelBuildingService",cors:!0},marketplaceentitlementservice:{prefix:"entitlement.marketplace",name:"MarketplaceEntitlementService"},athena:{name:"Athena",cors:!0},greengrass:{name:"Greengrass"},dax:{name:"DAX"},migrationhub:{prefix:"AWSMigrationHub",name:"MigrationHub"},cloudhsmv2:{name:"CloudHSMV2",cors:!0},glue:{name:"Glue"},mobile:{name:"Mobile"},pricing:{name:"Pricing",cors:!0},costexplorer:{prefix:"ce",name:"CostExplorer",cors:!0},mediaconvert:{name:"MediaConvert"},medialive:{name:"MediaLive"},mediapackage:{name:"MediaPackage"},mediastore:{name:"MediaStore"},mediastoredata:{prefix:"mediastore-data",name:"MediaStoreData",cors:!0},appsync:{name:"AppSync"},guardduty:{name:"GuardDuty"},mq:{name:"MQ"},comprehend:{name:"Comprehend",cors:!0},iotjobsdataplane:{prefix:"iot-jobs-data",name:"IoTJobsDataPlane"},kinesisvideoarchivedmedia:{prefix:"kinesis-video-archived-media",name:"KinesisVideoArchivedMedia",cors:!0},kinesisvideomedia:{prefix:"kinesis-video-media",name:"KinesisVideoMedia",cors:!0},kinesisvideo:{name:"KinesisVideo",cors:!0},sagemakerruntime:{prefix:"runtime.sagemaker",name:"SageMakerRuntime"},sagemaker:{name:"SageMaker"},translate:{name:"Translate",cors:!0},resourcegroups:{prefix:"resource-groups",name:"ResourceGroups",cors:!0},alexaforbusiness:{name:"AlexaForBusiness"},cloud9:{name:"Cloud9"},serverlessapplicationrepository:{prefix:"serverlessrepo",name:"ServerlessApplicationRepository"},servicediscovery:{name:"ServiceDiscovery"},workmail:{name:"WorkMail"},autoscalingplans:{prefix:"autoscaling-plans",name:"AutoScalingPlans"},transcribeservice:{prefix:"transcribe",name:"TranscribeService"},connect:{name:"Connect",cors:!0},acmpca:{prefix:"acm-pca",name:"ACMPCA"},fms:{name:"FMS"},secretsmanager:{name:"SecretsManager",cors:!0},iotanalytics:{name:"IoTAnalytics",cors:!0},iot1clickdevicesservice:{prefix:"iot1click-devices",name:"IoT1ClickDevicesService"},iot1clickprojects:{prefix:"iot1click-projects",name:"IoT1ClickProjects"},pi:{name:"PI"},neptune:{name:"Neptune"},mediatailor:{name:"MediaTailor"},eks:{name:"EKS"},macie:{name:"Macie"},dlm:{name:"DLM"},signer:{name:"Signer"},chime:{name:"Chime"},pinpointemail:{prefix:"pinpoint-email",name:"PinpointEmail"},ram:{name:"RAM"},route53resolver:{name:"Route53Resolver"},pinpointsmsvoice:{prefix:"sms-voice",name:"PinpointSMSVoice"},quicksight:{name:"QuickSight"},rdsdataservice:{prefix:"rds-data",name:"RDSDataService"},amplify:{name:"Amplify"},datasync:{name:"DataSync"},robomaker:{name:"RoboMaker"},transfer:{name:"Transfer"},globalaccelerator:{name:"GlobalAccelerator"},comprehendmedical:{name:"ComprehendMedical",cors:!0},kinesisanalyticsv2:{name:"KinesisAnalyticsV2"},mediaconnect:{name:"MediaConnect"},fsx:{name:"FSx"},securityhub:{name:"SecurityHub"},appmesh:{name:"AppMesh",versions:["2018-10-01*"]},licensemanager:{prefix:"license-manager",name:"LicenseManager"},kafka:{name:"Kafka"},apigatewaymanagementapi:{name:"ApiGatewayManagementApi"},apigatewayv2:{name:"ApiGatewayV2"},docdb:{name:"DocDB"},backup:{name:"Backup"},worklink:{name:"WorkLink"},textract:{name:"Textract"},managedblockchain:{name:"ManagedBlockchain"},mediapackagevod:{prefix:"mediapackage-vod",name:"MediaPackageVod"},groundstation:{name:"GroundStation"},iotthingsgraph:{name:"IoTThingsGraph"},iotevents:{name:"IoTEvents"},ioteventsdata:{prefix:"iotevents-data",name:"IoTEventsData"},personalize:{name:"Personalize",cors:!0},personalizeevents:{prefix:"personalize-events",name:"PersonalizeEvents",cors:!0},personalizeruntime:{prefix:"personalize-runtime",name:"PersonalizeRuntime",cors:!0},applicationinsights:{prefix:"application-insights",name:"ApplicationInsights"},servicequotas:{prefix:"service-quotas",name:"ServiceQuotas"},ec2instanceconnect:{prefix:"ec2-instance-connect",name:"EC2InstanceConnect"},eventbridge:{name:"EventBridge"},lakeformation:{name:"LakeFormation"},forecastservice:{prefix:"forecast",name:"ForecastService",cors:!0},forecastqueryservice:{prefix:"forecastquery",name:"ForecastQueryService",cors:!0},qldb:{name:"QLDB"},qldbsession:{prefix:"qldb-session",name:"QLDBSession"},workmailmessageflow:{name:"WorkMailMessageFlow"},codestarnotifications:{prefix:"codestar-notifications",name:"CodeStarNotifications"},savingsplans:{name:"SavingsPlans"},sso:{name:"SSO"},ssooidc:{prefix:"sso-oidc",name:"SSOOIDC"},marketplacecatalog:{prefix:"marketplace-catalog",name:"MarketplaceCatalog",cors:!0},dataexchange:{name:"DataExchange"},sesv2:{name:"SESV2"},migrationhubconfig:{prefix:"migrationhub-config",name:"MigrationHubConfig"},connectparticipant:{name:"ConnectParticipant"},appconfig:{name:"AppConfig"},iotsecuretunneling:{name:"IoTSecureTunneling"},wafv2:{name:"WAFV2"},elasticinference:{prefix:"elastic-inference",name:"ElasticInference"},imagebuilder:{name:"Imagebuilder"},schemas:{name:"Schemas"},accessanalyzer:{name:"AccessAnalyzer"},codegurureviewer:{prefix:"codeguru-reviewer",name:"CodeGuruReviewer"},codeguruprofiler:{name:"CodeGuruProfiler"},computeoptimizer:{prefix:"compute-optimizer",name:"ComputeOptimizer"},frauddetector:{name:"FraudDetector"},kendra:{name:"Kendra"},networkmanager:{name:"NetworkManager"},outposts:{name:"Outposts"},augmentedairuntime:{prefix:"sagemaker-a2i-runtime",name:"AugmentedAIRuntime"},ebs:{name:"EBS"},kinesisvideosignalingchannels:{prefix:"kinesis-video-signaling",name:"KinesisVideoSignalingChannels",cors:!0},detective:{name:"Detective"},codestarconnections:{prefix:"codestar-connections",name:"CodeStarconnections"},synthetics:{name:"Synthetics"},iotsitewise:{name:"IoTSiteWise"},macie2:{name:"Macie2"},codeartifact:{name:"CodeArtifact"},honeycode:{name:"Honeycode"},ivs:{name:"IVS"},braket:{name:"Braket"},identitystore:{name:"IdentityStore"},appflow:{name:"Appflow"},redshiftdata:{prefix:"redshift-data",name:"RedshiftData"},ssoadmin:{prefix:"sso-admin",name:"SSOAdmin"},timestreamquery:{prefix:"timestream-query",name:"TimestreamQuery"},timestreamwrite:{prefix:"timestream-write",name:"TimestreamWrite"},s3outposts:{name:"S3Outposts"},databrew:{name:"DataBrew"},servicecatalogappregistry:{prefix:"servicecatalog-appregistry",name:"ServiceCatalogAppRegistry"},networkfirewall:{prefix:"network-firewall",name:"NetworkFirewall"},mwaa:{name:"MWAA"},amplifybackend:{name:"AmplifyBackend"},appintegrations:{name:"AppIntegrations"},connectcontactlens:{prefix:"connect-contact-lens",name:"ConnectContactLens"},devopsguru:{prefix:"devops-guru",name:"DevOpsGuru"},ecrpublic:{prefix:"ecr-public",name:"ECRPUBLIC"},lookoutvision:{name:"LookoutVision"},sagemakerfeaturestoreruntime:{prefix:"sagemaker-featurestore-runtime",name:"SageMakerFeatureStoreRuntime"},customerprofiles:{prefix:"customer-profiles",name:"CustomerProfiles"},auditmanager:{name:"AuditManager"},emrcontainers:{prefix:"emr-containers",name:"EMRcontainers"},healthlake:{name:"HealthLake"},sagemakeredge:{prefix:"sagemaker-edge",name:"SagemakerEdge"},amp:{name:"Amp"},greengrassv2:{name:"GreengrassV2"},iotdeviceadvisor:{name:"IotDeviceAdvisor"},iotfleethub:{name:"IoTFleetHub"},iotwireless:{name:"IoTWireless"},location:{name:"Location",cors:!0},wellarchitected:{name:"WellArchitected"},lexmodelsv2:{prefix:"models.lex.v2",name:"LexModelsV2"},lexruntimev2:{prefix:"runtime.lex.v2",name:"LexRuntimeV2",cors:!0},fis:{name:"Fis"},lookoutmetrics:{name:"LookoutMetrics"},mgn:{name:"Mgn"},lookoutequipment:{name:"LookoutEquipment"},nimble:{name:"Nimble"},finspace:{name:"Finspace"},finspacedata:{prefix:"finspace-data",name:"Finspacedata"},ssmcontacts:{prefix:"ssm-contacts",name:"SSMContacts"},ssmincidents:{prefix:"ssm-incidents",name:"SSMIncidents"},applicationcostprofiler:{name:"ApplicationCostProfiler"},apprunner:{name:"AppRunner"},proton:{name:"Proton"},route53recoverycluster:{prefix:"route53-recovery-cluster",name:"Route53RecoveryCluster"},route53recoverycontrolconfig:{prefix:"route53-recovery-control-config",name:"Route53RecoveryControlConfig"},route53recoveryreadiness:{prefix:"route53-recovery-readiness",name:"Route53RecoveryReadiness"},chimesdkidentity:{prefix:"chime-sdk-identity",name:"ChimeSDKIdentity"},chimesdkmessaging:{prefix:"chime-sdk-messaging",name:"ChimeSDKMessaging"},snowdevicemanagement:{prefix:"snow-device-management",name:"SnowDeviceManagement"},memorydb:{name:"MemoryDB"},opensearch:{name:"OpenSearch"},kafkaconnect:{name:"KafkaConnect"},voiceid:{prefix:"voice-id",name:"VoiceID"},wisdom:{name:"Wisdom"},account:{name:"Account"},cloudcontrol:{name:"CloudControl"},grafana:{name:"Grafana"},panorama:{name:"Panorama"},chimesdkmeetings:{prefix:"chime-sdk-meetings",name:"ChimeSDKMeetings"},resiliencehub:{name:"Resiliencehub"},migrationhubstrategy:{name:"MigrationHubStrategy"},appconfigdata:{name:"AppConfigData"},drs:{name:"Drs"},migrationhubrefactorspaces:{prefix:"migration-hub-refactor-spaces",name:"MigrationHubRefactorSpaces"},evidently:{name:"Evidently"},inspector2:{name:"Inspector2"},rbin:{name:"Rbin"},rum:{name:"RUM"},backupgateway:{prefix:"backup-gateway",name:"BackupGateway"},iottwinmaker:{name:"IoTTwinMaker"},workspacesweb:{prefix:"workspaces-web",name:"WorkSpacesWeb"},amplifyuibuilder:{name:"AmplifyUIBuilder"},keyspaces:{name:"Keyspaces"},billingconductor:{name:"Billingconductor"},gamesparks:{name:"GameSparks"},pinpointsmsvoicev2:{prefix:"pinpoint-sms-voice-v2",name:"PinpointSMSVoiceV2"},ivschat:{name:"Ivschat"},chimesdkmediapipelines:{prefix:"chime-sdk-media-pipelines",name:"ChimeSDKMediaPipelines"},emrserverless:{prefix:"emr-serverless",name:"EMRServerless"},m2:{name:"M2"},connectcampaigns:{name:"ConnectCampaigns"},redshiftserverless:{prefix:"redshift-serverless",name:"RedshiftServerless"},rolesanywhere:{name:"RolesAnywhere"},licensemanagerusersubscriptions:{prefix:"license-manager-user-subscriptions",name:"LicenseManagerUserSubscriptions"},backupstorage:{name:"BackupStorage"},privatenetworks:{name:"PrivateNetworks"},supportapp:{prefix:"support-app",name:"SupportApp"},controltower:{name:"ControlTower"},iotfleetwise:{name:"IoTFleetWise"},migrationhuborchestrator:{name:"MigrationHubOrchestrator"},connectcases:{name:"ConnectCases"},resourceexplorer2:{prefix:"resource-explorer-2",name:"ResourceExplorer2"},scheduler:{name:"Scheduler"},chimesdkvoice:{prefix:"chime-sdk-voice",name:"ChimeSDKVoice"},iotroborunner:{prefix:"iot-roborunner",name:"IoTRoboRunner"},ssmsap:{prefix:"ssm-sap",name:"SsmSap"},oam:{name:"OAM"},arczonalshift:{prefix:"arc-zonal-shift",name:"ARCZonalShift"},omics:{name:"Omics"},opensearchserverless:{name:"OpenSearchServerless"},securitylake:{name:"SecurityLake"},simspaceweaver:{name:"SimSpaceWeaver"},docdbelastic:{prefix:"docdb-elastic",name:"DocDBElastic"},sagemakergeospatial:{prefix:"sagemaker-geospatial",name:"SageMakerGeospatial"},codecatalyst:{name:"CodeCatalyst"},pipes:{name:"Pipes"},sagemakermetrics:{prefix:"sagemaker-metrics",name:"SageMakerMetrics"},kinesisvideowebrtcstorage:{prefix:"kinesis-video-webrtc-storage",name:"KinesisVideoWebRTCStorage"},licensemanagerlinuxsubscriptions:{prefix:"license-manager-linux-subscriptions",name:"LicenseManagerLinuxSubscriptions"},kendraranking:{prefix:"kendra-ranking",name:"KendraRanking"},cleanrooms:{name:"CleanRooms"},cloudtraildata:{prefix:"cloudtrail-data",name:"CloudTrailData"},tnb:{name:"Tnb"},internetmonitor:{name:"InternetMonitor"}}});var Xn=I((I0,ka)=>{var Ei=On(),Bh=Wn(),Uh=vr(),Vh=Hn(),jh=zn(),qa=Kn(),Cr=le(),ie=Cr.property,Wh=Cr.memoizedProperty;function Hh(t,e){var r=this;t=t||{},e=e||{},e.api=this,t.metadata=t.metadata||{};var i=e.serviceIdentifier;delete e.serviceIdentifier,ie(this,"isApi",!0,!1),ie(this,"apiVersion",t.metadata.apiVersion),ie(this,"endpointPrefix",t.metadata.endpointPrefix),ie(this,"signingName",t.metadata.signingName),ie(this,"globalEndpoint",t.metadata.globalEndpoint),ie(this,"signatureVersion",t.metadata.signatureVersion),ie(this,"jsonVersion",t.metadata.jsonVersion),ie(this,"targetPrefix",t.metadata.targetPrefix),ie(this,"protocol",t.metadata.protocol),ie(this,"timestampFormat",t.metadata.timestampFormat),ie(this,"xmlNamespaceUri",t.metadata.xmlNamespace),ie(this,"abbreviation",t.metadata.serviceAbbreviation),ie(this,"fullName",t.metadata.serviceFullName),ie(this,"serviceId",t.metadata.serviceId),i&&qa[i]&&ie(this,"xmlNoDefaultLists",qa[i].xmlNoDefaultLists,!1),Wh(this,"className",function(){var s=t.metadata.serviceAbbreviation||t.metadata.serviceFullName;return s?(s=s.replace(/^Amazon|AWS\s*|\(.*|\s+|\W+/g,""),s==="ElasticLoadBalancing"&&(s="ELB"),s):null});function n(s,o){o.endpointoperation===!0&&ie(r,"endpointOperation",Cr.string.lowerFirst(s)),o.endpointdiscovery&&!r.hasRequiredEndpointDiscovery&&ie(r,"hasRequiredEndpointDiscovery",o.endpointdiscovery.required===!0)}ie(this,"operations",new Ei(t.operations,e,function(s,o){return new Bh(s,o,e)},Cr.string.lowerFirst,n)),ie(this,"shapes",new Ei(t.shapes,e,function(s,o){return Uh.create(o,e)})),ie(this,"paginators",new Ei(t.paginators,e,function(s,o){return new Vh(s,o,e)})),ie(this,"waiters",new Ei(t.waiters,e,function(s,o){return new jh(s,o,e)},Cr.string.lowerFirst)),e.documentation&&(ie(this,"documentation",t.documentation),ie(this,"documentationUrl",t.documentationUrl)),ie(this,"awsQueryCompatible",t.metadata.awsQueryCompatible)}ka.exports=Hh});var La=I((P0,Oa)=>{function Si(t,e){if(!Si.services.hasOwnProperty(t))throw new Error("InvalidService: Failed to load api for "+t);return Si.services[t][e]}Si.services={};Oa.exports=Si});var Ma=I(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});var zh=function(){function t(e,r){this.key=e,this.value=r}return t}(),Kh=function(){function t(e){if(this.nodeMap={},this.size=0,typeof e!="number"||e<1)throw new Error("Cache size can only be positive number");this.sizeLimit=e}return Object.defineProperty(t.prototype,"length",{get:function(){return this.size},enumerable:!0,configurable:!0}),t.prototype.prependToList=function(e){this.headerNode?(this.headerNode.prev=e,e.next=this.headerNode):this.tailNode=e,this.headerNode=e,this.size++},t.prototype.removeFromTail=function(){if(this.tailNode){var e=this.tailNode,r=e.prev;return r&&(r.next=void 0),e.prev=void 0,this.tailNode=r,this.size--,e}},t.prototype.detachFromList=function(e){this.headerNode===e&&(this.headerNode=e.next),this.tailNode===e&&(this.tailNode=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.next=void 0,e.prev=void 0,this.size--},t.prototype.get=function(e){if(this.nodeMap[e]){var r=this.nodeMap[e];return this.detachFromList(r),this.prependToList(r),r.value}},t.prototype.remove=function(e){if(this.nodeMap[e]){var r=this.nodeMap[e];this.detachFromList(r),delete this.nodeMap[e]}},t.prototype.put=function(e,r){if(this.nodeMap[e])this.remove(e);else if(this.size===this.sizeLimit){var i=this.removeFromTail(),n=i.key;delete this.nodeMap[n]}var s=new zh(e,r);this.nodeMap[e]=s,this.prependToList(s)},t.prototype.empty=function(){for(var e=Object.keys(this.nodeMap),r=0;r<e.length;r++){var i=e[r],n=this.nodeMap[i];this.detachFromList(n),delete this.nodeMap[i]}},t}();Gn.LRUCache=Kh});var Fa=I($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});var Xh=Ma(),Gh=1e3,$h=function(){function t(e){e===void 0&&(e=Gh),this.maxSize=e,this.cache=new Xh.LRUCache(e)}return Object.defineProperty(t.prototype,"size",{get:function(){return this.cache.length},enumerable:!0,configurable:!0}),t.prototype.put=function(e,r){var i=typeof e!="string"?t.getKeyString(e):e,n=this.populateValue(r);this.cache.put(i,n)},t.prototype.get=function(e){var r=typeof e!="string"?t.getKeyString(e):e,i=Date.now(),n=this.cache.get(r);if(n){for(var s=n.length-1;s>=0;s--){var o=n[s];o.Expire<i&&n.splice(s,1)}if(n.length===0){this.cache.remove(r);return}}return n},t.getKeyString=function(e){for(var r=[],i=Object.keys(e).sort(),n=0;n<i.length;n++){var s=i[n];e[s]!==void 0&&r.push(e[s])}return r.join(" ")},t.prototype.populateValue=function(e){var r=Date.now();return e.map(function(i){return{Address:i.Address||"",Expire:r+(i.CachePeriodInMinutes||1)*60*1e3}})},t.prototype.empty=function(){this.cache.empty()},t.prototype.remove=function(e){var r=typeof e!="string"?t.getKeyString(e):e;this.cache.remove(r)},t}();$n.EndpointCache=$h});var Yn=I((q0,Ba)=>{var mt=V();mt.SequentialExecutor=mt.util.inherit({constructor:function(){this._events={}},listeners:function(e){return this._events[e]?this._events[e].slice(0):[]},on:function(e,r,i){return this._events[e]?i?this._events[e].unshift(r):this._events[e].push(r):this._events[e]=[r],this},onAsync:function(e,r,i){return r._isAsync=!0,this.on(e,r,i)},removeListener:function(e,r){var i=this._events[e];if(i){for(var n=i.length,s=-1,o=0;o<n;++o)i[o]===r&&(s=o);s>-1&&i.splice(s,1)}return this},removeAllListeners:function(e){return e?delete this._events[e]:this._events={},this},emit:function(e,r,i){i||(i=function(){});var n=this.listeners(e),s=n.length;return this.callListeners(n,r,i),s>0},callListeners:function(e,r,i,n){var s=this,o=n||null;function a(c){if(c&&(o=mt.util.error(o||new Error,c),s._haltHandlersOnError))return i.call(s,o);s.callListeners(e,r,i,o)}for(;e.length>0;){var u=e.shift();if(u._isAsync){u.apply(s,r.concat([a]));return}else{try{u.apply(s,r)}catch(c){o=mt.util.error(o||new Error,c)}if(o&&s._haltHandlersOnError){i.call(s,o);return}}}i.call(s,o)},addListeners:function(e){var r=this;return e._events&&(e=e._events),mt.util.each(e,function(i,n){typeof n=="function"&&(n=[n]),mt.util.arrayEach(n,function(s){r.on(i,s)})}),r},addNamedListener:function(e,r,i,n){return this[e]=i,this.addListener(r,i,n),this},addNamedAsyncListener:function(e,r,i,n){return i._isAsync=!0,this.addNamedListener(e,r,i,n)},addNamedListeners:function(e){var r=this;return e(function(){r.addNamedListener.apply(r,arguments)},function(){r.addNamedAsyncListener.apply(r,arguments)}),this}});mt.SequentialExecutor.prototype.addListener=mt.SequentialExecutor.prototype.on;Ba.exports=mt.SequentialExecutor});var Ua=I((k0,Yh)=>{Yh.exports={rules:{"*/*":{endpoint:"{service}.{region}.amazonaws.com"},"cn-*/*":{endpoint:"{service}.{region}.amazonaws.com.cn"},"us-iso-*/*":"usIso","us-isob-*/*":"usIsob","*/budgets":"globalSSL","*/cloudfront":"globalSSL","*/sts":"globalSSL","*/importexport":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2",globalEndpoint:!0},"*/route53":"globalSSL","cn-*/route53":{endpoint:"{service}.amazonaws.com.cn",globalEndpoint:!0,signingRegion:"cn-northwest-1"},"us-gov-*/route53":"globalGovCloud","us-iso-*/route53":{endpoint:"{service}.c2s.ic.gov",globalEndpoint:!0,signingRegion:"us-iso-east-1"},"us-isob-*/route53":{endpoint:"{service}.sc2s.sgov.gov",globalEndpoint:!0,signingRegion:"us-isob-east-1"},"*/waf":"globalSSL","*/iam":"globalSSL","cn-*/iam":{endpoint:"{service}.cn-north-1.amazonaws.com.cn",globalEndpoint:!0,signingRegion:"cn-north-1"},"us-gov-*/iam":"globalGovCloud","us-gov-*/sts":{endpoint:"{service}.{region}.amazonaws.com"},"us-gov-west-1/s3":"s3signature","us-west-1/s3":"s3signature","us-west-2/s3":"s3signature","eu-west-1/s3":"s3signature","ap-southeast-1/s3":"s3signature","ap-southeast-2/s3":"s3signature","ap-northeast-1/s3":"s3signature","sa-east-1/s3":"s3signature","us-east-1/s3":{endpoint:"{service}.amazonaws.com",signatureVersion:"s3"},"us-east-1/sdb":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2"},"*/sdb":{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"v2"},"*/resource-explorer-2":"dualstackByDefault","*/kendra-ranking":"dualstackByDefault","*/internetmonitor":"dualstackByDefault","*/codecatalyst":"globalDualstackByDefault"},fipsRules:{"*/*":"fipsStandard","us-gov-*/*":"fipsStandard","us-iso-*/*":{endpoint:"{service}-fips.{region}.c2s.ic.gov"},"us-iso-*/dms":"usIso","us-isob-*/*":{endpoint:"{service}-fips.{region}.sc2s.sgov.gov"},"us-isob-*/dms":"usIsob","cn-*/*":{endpoint:"{service}-fips.{region}.amazonaws.com.cn"},"*/api.ecr":"fips.api.ecr","*/api.sagemaker":"fips.api.sagemaker","*/batch":"fipsDotPrefix","*/eks":"fipsDotPrefix","*/models.lex":"fips.models.lex","*/runtime.lex":"fips.runtime.lex","*/runtime.sagemaker":{endpoint:"runtime-fips.sagemaker.{region}.amazonaws.com"},"*/iam":"fipsWithoutRegion","*/route53":"fipsWithoutRegion","*/transcribe":"fipsDotPrefix","*/waf":"fipsWithoutRegion","us-gov-*/transcribe":"fipsDotPrefix","us-gov-*/api.ecr":"fips.api.ecr","us-gov-*/api.sagemaker":"fips.api.sagemaker","us-gov-*/models.lex":"fips.models.lex","us-gov-*/runtime.lex":"fips.runtime.lex","us-gov-*/acm-pca":"fipsWithServiceOnly","us-gov-*/batch":"fipsWithServiceOnly","us-gov-*/cloudformation":"fipsWithServiceOnly","us-gov-*/config":"fipsWithServiceOnly","us-gov-*/eks":"fipsWithServiceOnly","us-gov-*/elasticmapreduce":"fipsWithServiceOnly","us-gov-*/identitystore":"fipsWithServiceOnly","us-gov-*/dynamodb":"fipsWithServiceOnly","us-gov-*/elasticloadbalancing":"fipsWithServiceOnly","us-gov-*/guardduty":"fipsWithServiceOnly","us-gov-*/monitoring":"fipsWithServiceOnly","us-gov-*/resource-groups":"fipsWithServiceOnly","us-gov-*/runtime.sagemaker":"fipsWithServiceOnly","us-gov-*/servicecatalog-appregistry":"fipsWithServiceOnly","us-gov-*/servicequotas":"fipsWithServiceOnly","us-gov-*/ssm":"fipsWithServiceOnly","us-gov-*/sts":"fipsWithServiceOnly","us-gov-*/support":"fipsWithServiceOnly","us-gov-west-1/states":"fipsWithServiceOnly","us-iso-east-1/elasticfilesystem":{endpoint:"elasticfilesystem-fips.{region}.c2s.ic.gov"},"us-gov-west-1/organizations":"fipsWithServiceOnly","us-gov-west-1/route53":{endpoint:"route53.us-gov.amazonaws.com"},"*/resource-explorer-2":"fipsDualstackByDefault","*/kendra-ranking":"dualstackByDefault","*/internetmonitor":"dualstackByDefault","*/codecatalyst":"fipsGlobalDualstackByDefault"},dualstackRules:{"*/*":{endpoint:"{service}.{region}.api.aws"},"cn-*/*":{endpoint:"{service}.{region}.api.amazonwebservices.com.cn"},"*/s3":"dualstackLegacy","cn-*/s3":"dualstackLegacyCn","*/s3-control":"dualstackLegacy","cn-*/s3-control":"dualstackLegacyCn","ap-south-1/ec2":"dualstackLegacyEc2","eu-west-1/ec2":"dualstackLegacyEc2","sa-east-1/ec2":"dualstackLegacyEc2","us-east-1/ec2":"dualstackLegacyEc2","us-east-2/ec2":"dualstackLegacyEc2","us-west-2/ec2":"dualstackLegacyEc2"},dualstackFipsRules:{"*/*":{endpoint:"{service}-fips.{region}.api.aws"},"cn-*/*":{endpoint:"{service}-fips.{region}.api.amazonwebservices.com.cn"},"*/s3":"dualstackFipsLegacy","cn-*/s3":"dualstackFipsLegacyCn","*/s3-control":"dualstackFipsLegacy","cn-*/s3-control":"dualstackFipsLegacyCn"},patterns:{globalSSL:{endpoint:"https://{service}.amazonaws.com",globalEndpoint:!0,signingRegion:"us-east-1"},globalGovCloud:{endpoint:"{service}.us-gov.amazonaws.com",globalEndpoint:!0,signingRegion:"us-gov-west-1"},s3signature:{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"s3"},usIso:{endpoint:"{service}.{region}.c2s.ic.gov"},usIsob:{endpoint:"{service}.{region}.sc2s.sgov.gov"},fipsStandard:{endpoint:"{service}-fips.{region}.amazonaws.com"},fipsDotPrefix:{endpoint:"fips.{service}.{region}.amazonaws.com"},fipsWithoutRegion:{endpoint:"{service}-fips.amazonaws.com"},"fips.api.ecr":{endpoint:"ecr-fips.{region}.amazonaws.com"},"fips.api.sagemaker":{endpoint:"api-fips.sagemaker.{region}.amazonaws.com"},"fips.models.lex":{endpoint:"models-fips.lex.{region}.amazonaws.com"},"fips.runtime.lex":{endpoint:"runtime-fips.lex.{region}.amazonaws.com"},fipsWithServiceOnly:{endpoint:"{service}.{region}.amazonaws.com"},dualstackLegacy:{endpoint:"{service}.dualstack.{region}.amazonaws.com"},dualstackLegacyCn:{endpoint:"{service}.dualstack.{region}.amazonaws.com.cn"},dualstackFipsLegacy:{endpoint:"{service}-fips.dualstack.{region}.amazonaws.com"},dualstackFipsLegacyCn:{endpoint:"{service}-fips.dualstack.{region}.amazonaws.com.cn"},dualstackLegacyEc2:{endpoint:"api.ec2.{region}.aws"},dualstackByDefault:{endpoint:"{service}.{region}.api.aws"},fipsDualstackByDefault:{endpoint:"{service}-fips.{region}.api.aws"},globalDualstackByDefault:{endpoint:"{service}.global.api.aws"},fipsGlobalDualstackByDefault:{endpoint:"{service}-fips.global.api.aws"}}}});var ja=I((O0,Va)=>{var Jh=le(),_r=Ua();function Qh(t){if(!t)return null;var e=t.split("-");return e.length<3?null:e.slice(0,e.length-2).join("-")+"-*"}function Zh(t){var e=t.config.region,r=Qh(e),i=t.api.endpointPrefix;return[[e,i],[r,i],[e,"*"],[r,"*"],["*",i],["*","*"]].map(function(n){return n[0]&&n[1]?n.join("/"):null})}function em(t,e){Jh.each(e,function(r,i){r!=="globalEndpoint"&&(t.config[r]===void 0||t.config[r]===null)&&(t.config[r]=i)})}function tm(t){for(var e=Zh(t),r=t.config.useFipsEndpoint,i=t.config.useDualstackEndpoint,n=0;n<e.length;n++){var s=e[n];if(s){var o=r?i?_r.dualstackFipsRules:_r.fipsRules:i?_r.dualstackRules:_r.rules;if(Object.prototype.hasOwnProperty.call(o,s)){var a=o[s];typeof a=="string"&&(a=_r.patterns[a]),t.isGlobalEndpoint=!!a.globalEndpoint,a.signingRegion&&(t.signingRegion=a.signingRegion),a.signatureVersion||(a.signatureVersion="v4");var u=(t.api&&t.api.signatureVersion)==="bearer";em(t,Object.assign({},a,{signatureVersion:u?"bearer":a.signatureVersion}));return}}}}function rm(t){for(var e={"^(us|eu|ap|sa|ca|me)\\-\\w+\\-\\d+$":"amazonaws.com","^cn\\-\\w+\\-\\d+$":"amazonaws.com.cn","^us\\-gov\\-\\w+\\-\\d+$":"amazonaws.com","^us\\-iso\\-\\w+\\-\\d+$":"c2s.ic.gov","^us\\-isob\\-\\w+\\-\\d+$":"sc2s.sgov.gov"},r="amazonaws.com",i=Object.keys(e),n=0;n<i.length;n++){var s=RegExp(i[n]),o=e[i[n]];if(s.test(t))return o}return r}Va.exports={configureEndpoint:tm,getEndpointSuffix:rm}});var Jn=I((L0,Wa)=>{function im(t){return typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"))}function nm(t){return typeof t=="string"&&["aws-global","aws-us-gov-global"].includes(t)}function sm(t){return["fips-aws-global","aws-fips","aws-global"].includes(t)?"us-east-1":["fips-aws-us-gov-global","aws-us-gov-global"].includes(t)?"us-gov-west-1":t.replace(/fips-(dkr-|prod-)?|-fips/,"")}Wa.exports={isFipsRegion:im,isGlobalRegion:nm,getRealRegion:sm}});var za=I((M0,Ha)=>{var B=V(),om=Xn(),am=ja(),Qn=B.util.inherit,um=0,wi=Jn();B.Service=Qn({constructor:function(e){if(!this.loadServiceClass)throw B.util.error(new Error,"Service must be constructed with `new' operator");if(e){if(e.region){var r=e.region;wi.isFipsRegion(r)&&(e.region=wi.getRealRegion(r),e.useFipsEndpoint=!0),wi.isGlobalRegion(r)&&(e.region=wi.getRealRegion(r))}typeof e.useDualstack=="boolean"&&typeof e.useDualstackEndpoint!="boolean"&&(e.useDualstackEndpoint=e.useDualstack)}var i=this.loadServiceClass(e||{});if(i){var n=B.util.copy(e),s=new i(e);return Object.defineProperty(s,"_originalConfig",{get:function(){return n},enumerable:!1,configurable:!0}),s._clientId=++um,s}this.initialize(e)},initialize:function(e){var r=B.config[this.serviceIdentifier];if(this.config=new B.Config(B.config),r&&this.config.update(r,!0),e&&this.config.update(e,!0),this.validateService(),this.config.endpoint||am.configureEndpoint(this),this.config.endpoint=this.endpointFromTemplate(this.config.endpoint),this.setEndpoint(this.config.endpoint),B.SequentialExecutor.call(this),B.Service.addDefaultMonitoringListeners(this),(this.config.clientSideMonitoring||B.Service._clientSideMonitoring)&&this.publisher){var i=this.publisher;this.addNamedListener("PUBLISH_API_CALL","apiCall",function(s){process.nextTick(function(){i.eventHandler(s)})}),this.addNamedListener("PUBLISH_API_ATTEMPT","apiCallAttempt",function(s){process.nextTick(function(){i.eventHandler(s)})})}},validateService:function(){},loadServiceClass:function(e){var r=e;if(B.util.isEmpty(this.api)){if(r.apiConfig)return B.Service.defineServiceApi(this.constructor,r.apiConfig);if(this.constructor.services){r=new B.Config(B.config),r.update(e,!0);var i=r.apiVersions[this.constructor.serviceIdentifier];return i=i||r.apiVersion,this.getLatestServiceClass(i)}else return null}else return null},getLatestServiceClass:function(e){return e=this.getLatestServiceVersion(e),this.constructor.services[e]===null&&B.Service.defineServiceApi(this.constructor,e),this.constructor.services[e]},getLatestServiceVersion:function(e){if(!this.constructor.services||this.constructor.services.length===0)throw new Error("No services defined on "+this.constructor.serviceIdentifier);if(e?B.util.isType(e,Date)&&(e=B.util.date.iso8601(e).split("T")[0]):e="latest",Object.hasOwnProperty(this.constructor.services,e))return e;for(var r=Object.keys(this.constructor.services).sort(),i=null,n=r.length-1;n>=0;n--)if(r[n][r[n].length-1]!=="*"&&(i=r[n]),r[n].substr(0,10)<=e)return i;throw new Error("Could not find "+this.constructor.serviceIdentifier+" API to satisfy version constraint `"+e+"'")},api:{},defaultRetryCount:3,customizeRequests:function(e){if(!e)this.customRequestHandler=null;else if(typeof e=="function")this.customRequestHandler=e;else throw new Error("Invalid callback type '"+typeof e+"' provided in customizeRequests")},makeRequest:function(e,r,i){if(typeof r=="function"&&(i=r,r=null),r=r||{},this.config.params){var n=this.api.operations[e];n&&(r=B.util.copy(r),B.util.each(this.config.params,function(o,a){n.input.members[o]&&(r[o]===void 0||r[o]===null)&&(r[o]=a)}))}var s=new B.Request(this,e,r);return this.addAllRequestListeners(s),this.attachMonitoringEmitter(s),i&&s.send(i),s},makeUnauthenticatedRequest:function(e,r,i){typeof r=="function"&&(i=r,r={});var n=this.makeRequest(e,r).toUnauthenticated();return i?n.send(i):n},waitFor:function(e,r,i){var n=new B.ResourceWaiter(this,e);return n.wait(r,i)},addAllRequestListeners:function(e){for(var r=[B.events,B.EventListeners.Core,this.serviceInterface(),B.EventListeners.CorePost],i=0;i<r.length;i++)r[i]&&e.addListeners(r[i]);this.config.paramValidation||e.removeListener("validate",B.EventListeners.Core.VALIDATE_PARAMETERS),this.config.logger&&e.addListeners(B.EventListeners.Logger),this.setupRequestListeners(e),typeof this.constructor.prototype.customRequestHandler=="function"&&this.constructor.prototype.customRequestHandler(e),Object.prototype.hasOwnProperty.call(this,"customRequestHandler")&&typeof this.customRequestHandler=="function"&&this.customRequestHandler(e)},apiCallEvent:function(e){var r=e.service.api.operations[e.operation],i={Type:"ApiCall",Api:r?r.name:e.operation,Version:1,Service:e.service.api.serviceId||e.service.api.endpointPrefix,Region:e.httpRequest.region,MaxRetriesExceeded:0,UserAgent:e.httpRequest.getUserAgent()},n=e.response;if(n.httpResponse.statusCode&&(i.FinalHttpStatusCode=n.httpResponse.statusCode),n.error){var s=n.error,o=n.httpResponse.statusCode;o>299?(s.code&&(i.FinalAwsException=s.code),s.message&&(i.FinalAwsExceptionMessage=s.message)):((s.code||s.name)&&(i.FinalSdkException=s.code||s.name),s.message&&(i.FinalSdkExceptionMessage=s.message))}return i},apiAttemptEvent:function(e){var r=e.service.api.operations[e.operation],i={Type:"ApiCallAttempt",Api:r?r.name:e.operation,Version:1,Service:e.service.api.serviceId||e.service.api.endpointPrefix,Fqdn:e.httpRequest.endpoint.hostname,UserAgent:e.httpRequest.getUserAgent()},n=e.response;return n.httpResponse.statusCode&&(i.HttpStatusCode=n.httpResponse.statusCode),!e._unAuthenticated&&e.service.config.credentials&&e.service.config.credentials.accessKeyId&&(i.AccessKey=e.service.config.credentials.accessKeyId),n.httpResponse.headers&&(e.httpRequest.headers["x-amz-security-token"]&&(i.SessionToken=e.httpRequest.headers["x-amz-security-token"]),n.httpResponse.headers["x-amzn-requestid"]&&(i.XAmznRequestId=n.httpResponse.headers["x-amzn-requestid"]),n.httpResponse.headers["x-amz-request-id"]&&(i.XAmzRequestId=n.httpResponse.headers["x-amz-request-id"]),n.httpResponse.headers["x-amz-id-2"]&&(i.XAmzId2=n.httpResponse.headers["x-amz-id-2"])),i},attemptFailEvent:function(e){var r=this.apiAttemptEvent(e),i=e.response,n=i.error;return i.httpResponse.statusCode>299?(n.code&&(r.AwsException=n.code),n.message&&(r.AwsExceptionMessage=n.message)):((n.code||n.name)&&(r.SdkException=n.code||n.name),n.message&&(r.SdkExceptionMessage=n.message)),r},attachMonitoringEmitter:function(e){var r,i,n,s,o=0,a,u,c=this,l=!0;e.on("validate",function(){s=B.util.realClock.now(),u=Date.now()},l),e.on("sign",function(){i=B.util.realClock.now(),r=Date.now(),a=e.httpRequest.region,o++},l),e.on("validateResponse",function(){n=Math.round(B.util.realClock.now()-i)}),e.addNamedListener("API_CALL_ATTEMPT","success",function(){var v=c.apiAttemptEvent(e);v.Timestamp=r,v.AttemptLatency=n>=0?n:0,v.Region=a,c.emit("apiCallAttempt",[v])}),e.addNamedListener("API_CALL_ATTEMPT_RETRY","retry",function(){var v=c.attemptFailEvent(e);v.Timestamp=r,n=n||Math.round(B.util.realClock.now()-i),v.AttemptLatency=n>=0?n:0,v.Region=a,c.emit("apiCallAttempt",[v])}),e.addNamedListener("API_CALL","complete",function(){var v=c.apiCallEvent(e);if(v.AttemptCount=o,!(v.AttemptCount<=0)){v.Timestamp=u;var x=Math.round(B.util.realClock.now()-s);v.Latency=x>=0?x:0;var g=e.response;g.error&&g.error.retryable&&typeof g.retryCount=="number"&&typeof g.maxRetries=="number"&&g.retryCount>=g.maxRetries&&(v.MaxRetriesExceeded=1),c.emit("apiCall",[v])}})},setupRequestListeners:function(e){},getSigningName:function(){return this.api.signingName||this.api.endpointPrefix},getSignerClass:function(e){var r,i=null,n="";if(e){var s=e.service.api.operations||{};i=s[e.operation]||null,n=i?i.authtype:""}return this.config.signatureVersion?r=this.config.signatureVersion:n==="v4"||n==="v4-unsigned-body"?r="v4":n==="bearer"?r="bearer":r=this.api.signatureVersion,B.Signers.RequestSigner.getVersion(r)},serviceInterface:function(){switch(this.api.protocol){case"ec2":return B.EventListeners.Query;case"query":return B.EventListeners.Query;case"json":return B.EventListeners.Json;case"rest-json":return B.EventListeners.RestJson;case"rest-xml":return B.EventListeners.RestXml}if(this.api.protocol)throw new Error("Invalid service `protocol' "+this.api.protocol+" in API config")},successfulResponse:function(e){return e.httpResponse.statusCode<300},numRetries:function(){return this.config.maxRetries!==void 0?this.config.maxRetries:this.defaultRetryCount},retryDelays:function(e,r){return B.util.calculateRetryDelay(e,this.config.retryDelayOptions,r)},retryableError:function(e){return!!(this.timeoutError(e)||this.networkingError(e)||this.expiredCredentialsError(e)||this.throttledError(e)||e.statusCode>=500)},networkingError:function(e){return e.code==="NetworkingError"},timeoutError:function(e){return e.code==="TimeoutError"},expiredCredentialsError:function(e){return e.code==="ExpiredTokenException"},clockSkewError:function(e){switch(e.code){case"RequestTimeTooSkewed":case"RequestExpired":case"InvalidSignatureException":case"SignatureDoesNotMatch":case"AuthFailure":case"RequestInTheFuture":return!0;default:return!1}},getSkewCorrectedDate:function(){return new Date(Date.now()+this.config.systemClockOffset)},applyClockOffset:function(e){e&&(this.config.systemClockOffset=e-Date.now())},isClockSkewed:function(e){if(e)return Math.abs(this.getSkewCorrectedDate().getTime()-e)>=3e5},throttledError:function(e){if(e.statusCode===429)return!0;switch(e.code){case"ProvisionedThroughputExceededException":case"Throttling":case"ThrottlingException":case"RequestLimitExceeded":case"RequestThrottled":case"RequestThrottledException":case"TooManyRequestsException":case"TransactionInProgressException":case"EC2ThrottledException":return!0;default:return!1}},endpointFromTemplate:function(e){if(typeof e!="string")return e;var r=e;return r=r.replace(/\{service\}/g,this.api.endpointPrefix),r=r.replace(/\{region\}/g,this.config.region),r=r.replace(/\{scheme\}/g,this.config.sslEnabled?"https":"http"),r},setEndpoint:function(e){this.endpoint=new B.Endpoint(e,this.config)},paginationConfig:function(e,r){var i=this.api.operations[e].paginator;if(!i){if(r){var n=new Error;throw B.util.error(n,"No pagination configuration for "+e)}return null}return i}});B.util.update(B.Service,{defineMethods:function(e){B.util.each(e.prototype.api.operations,function(i){if(!e.prototype[i]){var n=e.prototype.api.operations[i];n.authtype==="none"?e.prototype[i]=function(s,o){return this.makeUnauthenticatedRequest(i,s,o)}:e.prototype[i]=function(s,o){return this.makeRequest(i,s,o)}}})},defineService:function(e,r,i){B.Service._serviceMap[e]=!0,Array.isArray(r)||(i=r,r=[]);var n=Qn(B.Service,i||{});if(typeof e=="string"){B.Service.addVersions(n,r);var s=n.serviceIdentifier||e;n.serviceIdentifier=s}else n.prototype.api=e,B.Service.defineMethods(n);if(B.SequentialExecutor.call(this.prototype),!this.prototype.publisher&&B.util.clientSideMonitoring){var o=B.util.clientSideMonitoring.Publisher,a=B.util.clientSideMonitoring.configProvider,u=a();this.prototype.publisher=new o(u),u.enabled&&(B.Service._clientSideMonitoring=!0)}return B.SequentialExecutor.call(n.prototype),B.Service.addDefaultMonitoringListeners(n.prototype),n},addVersions:function(e,r){Array.isArray(r)||(r=[r]),e.services=e.services||{};for(var i=0;i<r.length;i++)e.services[r[i]]===void 0&&(e.services[r[i]]=null);e.apiVersions=Object.keys(e.services).sort()},defineServiceApi:function(e,r,i){var n=Qn(e,{serviceIdentifier:e.serviceIdentifier});function s(o){o.isApi?n.prototype.api=o:n.prototype.api=new om(o,{serviceIdentifier:e.serviceIdentifier})}if(typeof r=="string"){if(i)s(i);else try{s(B.apiLoader(e.serviceIdentifier,r))}catch(o){throw B.util.error(o,{message:"Could not find API configuration "+e.serviceIdentifier+"-"+r})}Object.prototype.hasOwnProperty.call(e.services,r)||(e.apiVersions=e.apiVersions.concat(r).sort()),e.services[r]=n}else s(r);return B.Service.defineMethods(n),n},hasService:function(t){return Object.prototype.hasOwnProperty.call(B.Service._serviceMap,t)},addDefaultMonitoringListeners:function(e){e.addNamedListener("MONITOR_EVENTS_BUBBLE","apiCallAttempt",function(i){var n=Object.getPrototypeOf(e);n._events&&n.emit("apiCallAttempt",[i])}),e.addNamedListener("CALL_EVENTS_BUBBLE","apiCall",function(i){var n=Object.getPrototypeOf(e);n._events&&n.emit("apiCall",[i])})},_serviceMap:{}});B.util.mixin(B.Service,B.SequentialExecutor);Ha.exports=B.Service});var Zn=I(()=>{var We=V();We.Credentials=We.util.inherit({constructor:function(){if(We.util.hideProperties(this,["secretAccessKey"]),this.expired=!1,this.expireTime=null,this.refreshCallbacks=[],arguments.length===1&&typeof arguments[0]=="object"){var e=arguments[0].credentials||arguments[0];this.accessKeyId=e.accessKeyId,this.secretAccessKey=e.secretAccessKey,this.sessionToken=e.sessionToken}else this.accessKeyId=arguments[0],this.secretAccessKey=arguments[1],this.sessionToken=arguments[2]},expiryWindow:15,needsRefresh:function(){var e=We.util.date.getDate().getTime(),r=new Date(e+this.expiryWindow*1e3);return this.expireTime&&r>this.expireTime?!0:this.expired||!this.accessKeyId||!this.secretAccessKey},get:function(e){var r=this;this.needsRefresh()?this.refresh(function(i){i||(r.expired=!1),e&&e(i)}):e&&e()},refresh:function(e){this.expired=!1,e()},coalesceRefresh:function(e,r){var i=this;i.refreshCallbacks.push(e)===1&&i.load(function(s){We.util.arrayEach(i.refreshCallbacks,function(o){r?o(s):We.util.defer(function(){o(s)})}),i.refreshCallbacks.length=0})},load:function(e){e()}});We.Credentials.addPromisesToClass=function(e){this.prototype.getPromise=We.util.promisifyMethod("get",e),this.prototype.refreshPromise=We.util.promisifyMethod("refresh",e)};We.Credentials.deletePromisesFromClass=function(){delete this.prototype.getPromise,delete this.prototype.refreshPromise};We.util.addPromises(We.Credentials)});var es=I(()=>{var $e=V();$e.CredentialProviderChain=$e.util.inherit($e.Credentials,{constructor:function(e){e?this.providers=e:this.providers=$e.CredentialProviderChain.defaultProviders.slice(0),this.resolveCallbacks=[]},resolve:function(e){var r=this;if(r.providers.length===0)return e(new Error("No providers")),r;if(r.resolveCallbacks.push(e)===1){let o=function(a,u){if(!a&&u||i===n.length){$e.util.arrayEach(r.resolveCallbacks,function(l){l(a,u)}),r.resolveCallbacks.length=0;return}var c=n[i++];typeof c=="function"?u=c.call():u=c,u.get?u.get(function(l){o(l,l?null:u)}):o(null,u)};var s=o,i=0,n=r.providers.slice(0);o()}return r}});$e.CredentialProviderChain.defaultProviders=[];$e.CredentialProviderChain.addPromisesToClass=function(e){this.prototype.resolvePromise=$e.util.promisifyMethod("resolve",e)};$e.CredentialProviderChain.deletePromisesFromClass=function(){delete this.prototype.resolvePromise};$e.util.addPromises($e.CredentialProviderChain)});var Ka=I(()=>{var ne=V();Zn();es();var Ti;ne.Config=ne.util.inherit({constructor:function(e){e===void 0&&(e={}),e=this.extractCredentials(e),ne.util.each.call(this,this.keys,function(r,i){this.set(r,e[r],i)})},getCredentials:function(e){var r=this;function i(a){e(a,a?null:r.credentials)}function n(a,u){return new ne.util.error(u||new Error,{code:"CredentialsError",message:a,name:"CredentialsError"})}function s(){r.credentials.get(function(a){if(a){var u="Could not load credentials from "+r.credentials.constructor.name;a=n(u,a)}i(a)})}function o(){var a=null;(!r.credentials.accessKeyId||!r.credentials.secretAccessKey)&&(a=n("Missing credentials")),i(a)}r.credentials?typeof r.credentials.get=="function"?s():o():r.credentialProvider?r.credentialProvider.resolve(function(a,u){a&&(a=n("Could not load credentials from any providers",a)),r.credentials=u,i(a)}):i(n("No credentials to load"))},getToken:function(e){var r=this;function i(a){e(a,a?null:r.token)}function n(a,u){return new ne.util.error(u||new Error,{code:"TokenError",message:a,name:"TokenError"})}function s(){r.token.get(function(a){if(a){var u="Could not load token from "+r.token.constructor.name;a=n(u,a)}i(a)})}function o(){var a=null;r.token.token||(a=n("Missing token")),i(a)}r.token?typeof r.token.get=="function"?s():o():r.tokenProvider?r.tokenProvider.resolve(function(a,u){a&&(a=n("Could not load token from any providers",a)),r.token=u,i(a)}):i(n("No token to load"))},update:function(e,r){r=r||!1,e=this.extractCredentials(e),ne.util.each.call(this,e,function(i,n){(r||Object.prototype.hasOwnProperty.call(this.keys,i)||ne.Service.hasService(i))&&this.set(i,n)})},loadFromPath:function(e){this.clear();var r=JSON.parse(ne.util.readFileSync(e)),i=new ne.FileSystemCredentials(e),n=new ne.CredentialProviderChain;return n.providers.unshift(i),n.resolve(function(s,o){if(s)throw s;r.credentials=o}),this.constructor(r),this},clear:function(){ne.util.each.call(this,this.keys,function(e){delete this[e]}),this.set("credentials",void 0),this.set("credentialProvider",void 0)},set:function(e,r,i){r===void 0?(i===void 0&&(i=this.keys[e]),typeof i=="function"?this[e]=i.call(this):this[e]=i):e==="httpOptions"&&this[e]?this[e]=ne.util.merge(this[e],r):this[e]=r},keys:{credentials:null,credentialProvider:null,region:null,logger:null,apiVersions:{},apiVersion:null,endpoint:void 0,httpOptions:{timeout:12e4},maxRetries:void 0,maxRedirects:10,paramValidation:!0,sslEnabled:!0,s3ForcePathStyle:!1,s3BucketEndpoint:!1,s3DisableBodySigning:!0,s3UsEast1RegionalEndpoint:"legacy",s3UseArnRegion:void 0,computeChecksums:!0,convertResponseTypes:!0,correctClockSkew:!1,customUserAgent:null,dynamoDbCrc32:!0,systemClockOffset:0,signatureVersion:null,signatureCache:!0,retryDelayOptions:{},useAccelerateEndpoint:!1,clientSideMonitoring:!1,endpointDiscoveryEnabled:void 0,endpointCacheSize:1e3,hostPrefixEnabled:!0,stsRegionalEndpoints:"legacy",useFipsEndpoint:!1,useDualstackEndpoint:!1,token:null},extractCredentials:function(e){return e.accessKeyId&&e.secretAccessKey&&(e=ne.util.copy(e),e.credentials=new ne.Credentials(e)),e},setPromisesDependency:function(e){Ti=e,e===null&&typeof Promise=="function"&&(Ti=Promise);var r=[ne.Request,ne.Credentials,ne.CredentialProviderChain];ne.S3&&(r.push(ne.S3),ne.S3.ManagedUpload&&r.push(ne.S3.ManagedUpload)),ne.util.addPromises(r,Ti)},getPromisesDependency:function(){return Ti}});ne.config=new ne.Config});var _i=I(()=>{var Se=V(),Ci=Se.util.inherit;Se.Endpoint=Ci({constructor:function(e,r){if(Se.util.hideProperties(this,["slashes","auth","hash","search","query"]),typeof e>"u"||e===null)throw new Error("Invalid endpoint: "+e);if(typeof e!="string")return Se.util.copy(e);if(!e.match(/^http/)){var i=r&&r.sslEnabled!==void 0?r.sslEnabled:Se.config.sslEnabled;e=(i?"https":"http")+"://"+e}Se.util.update(this,Se.util.urlParse(e)),this.port?this.port=parseInt(this.port,10):this.port=this.protocol==="https:"?443:80}});Se.HttpRequest=Ci({constructor:function(e,r){e=new Se.Endpoint(e),this.method="POST",this.path=e.path||"/",this.headers={},this.body="",this.endpoint=e,this.region=r,this._userAgent="",this.setUserAgent()},setUserAgent:function(){this._userAgent=this.headers[this.getUserAgentHeaderName()]=Se.util.userAgent()},getUserAgentHeaderName:function(){var e=Se.util.isBrowser()?"X-Amz-":"";return e+"User-Agent"},appendToUserAgent:function(e){typeof e=="string"&&e&&(this._userAgent+=" "+e),this.headers[this.getUserAgentHeaderName()]=this._userAgent},getUserAgent:function(){return this._userAgent},pathname:function(){return this.path.split("?",1)[0]},search:function(){var e=this.path.split("?",2)[1];return e?(e=Se.util.queryStringParse(e),Se.util.queryParamsToString(e)):""},updateEndpoint:function(e){var r=new Se.Endpoint(e);this.endpoint=r,this.path=r.path||"/",this.headers.Host&&(this.headers.Host=r.host)}});Se.HttpResponse=Ci({constructor:function(){this.statusCode=void 0,this.headers={},this.body=void 0,this.streaming=!1,this.stream=null},createUnbufferedStream:function(){return this.streaming=!0,this.stream}});Se.HttpClient=Ci({});Se.HttpClient.getInstance=function(){return this.singleton===void 0&&(this.singleton=new this),this.singleton}});var eu=I((K0,Za)=>{var me=V(),Le=le(),Xa=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"];function xi(t){var e=t.service,r=e.api||{},i=r.operations,n={};return e.config.region&&(n.region=e.config.region),r.serviceId&&(n.serviceId=r.serviceId),e.config.credentials.accessKeyId&&(n.accessKeyId=e.config.credentials.accessKeyId),n}function $a(t,e,r){!r||e===void 0||e===null||r.type==="structure"&&r.required&&r.required.length>0&&Le.arrayEach(r.required,function(i){var n=r.members[i];if(n.endpointDiscoveryId===!0){var s=n.isLocationName?n.name:i;t[s]=String(e[i])}else $a(t,e[i],n)})}function Ai(t,e){var r={};return $a(r,t.params,e),r}function Ya(t){var e=t.service,r=e.api,i=r.operations?r.operations[t.operation]:void 0,n=i?i.input:void 0,s=Ai(t,n),o=xi(t);Object.keys(s).length>0&&(o=Le.update(o,s),i&&(o.operation=i.name));var a=me.endpointCache.get(o);if(!(a&&a.length===1&&a[0].Address===""))if(a&&a.length>0)t.httpRequest.updateEndpoint(a[0].Address);else{var u=e.makeRequest(r.endpointOperation,{Operation:i.name,Identifiers:s});Qa(u),u.removeListener("validate",me.EventListeners.Core.VALIDATE_PARAMETERS),u.removeListener("retry",me.EventListeners.Core.RETRY_CHECK),me.endpointCache.put(o,[{Address:"",CachePeriodInMinutes:1}]),u.send(function(c,l){l&&l.Endpoints?me.endpointCache.put(o,l.Endpoints):c&&me.endpointCache.put(o,[{Address:"",CachePeriodInMinutes:1}])})}}var vt={};function Ja(t,e){var r=t.service,i=r.api,n=i.operations?i.operations[t.operation]:void 0,s=n?n.input:void 0,o=Ai(t,s),a=xi(t);Object.keys(o).length>0&&(a=Le.update(a,o),n&&(a.operation=n.name));var u=me.EndpointCache.getKeyString(a),c=me.endpointCache.get(u);if(c&&c.length===1&&c[0].Address===""){vt[u]||(vt[u]=[]),vt[u].push({request:t,callback:e});return}else if(c&&c.length>0)t.httpRequest.updateEndpoint(c[0].Address),e();else{var l=r.makeRequest(i.endpointOperation,{Operation:n.name,Identifiers:o});l.removeListener("validate",me.EventListeners.Core.VALIDATE_PARAMETERS),Qa(l),me.endpointCache.put(u,[{Address:"",CachePeriodInMinutes:60}]),l.send(function(d,v){if(d){if(t.response.error=Le.error(d,{retryable:!1}),me.endpointCache.remove(a),vt[u]){var x=vt[u];Le.arrayEach(x,function(g){g.request.response.error=Le.error(d,{retryable:!1}),g.callback()}),delete vt[u]}}else if(v&&(me.endpointCache.put(u,v.Endpoints),t.httpRequest.updateEndpoint(v.Endpoints[0].Address),vt[u])){var x=vt[u];Le.arrayEach(x,function(E){E.request.httpRequest.updateEndpoint(v.Endpoints[0].Address),E.callback()}),delete vt[u]}e()})}}function Qa(t){var e=t.service.api,r=e.apiVersion;r&&!t.httpRequest.headers["x-amz-api-version"]&&(t.httpRequest.headers["x-amz-api-version"]=r)}function ts(t){var e=t.error,r=t.httpResponse;if(e&&(e.code==="InvalidEndpointException"||r.statusCode===421)){var i=t.request,n=i.service.api.operations||{},s=n[i.operation]?n[i.operation].input:void 0,o=Ai(i,s),a=xi(i);Object.keys(o).length>0&&(a=Le.update(a,o),n[i.operation]&&(a.operation=n[i.operation].name)),me.endpointCache.remove(a)}}function cm(t){if(t._originalConfig&&t._originalConfig.endpoint&&t._originalConfig.endpointDiscoveryEnabled===!0)throw Le.error(new Error,{code:"ConfigurationException",message:"Custom endpoint is supplied; endpointDiscoveryEnabled must not be true."});var e=me.config[t.serviceIdentifier]||{};return!!(me.config.endpoint||e.endpoint||t._originalConfig&&t._originalConfig.endpoint)}function Ga(t){return["false","0"].indexOf(t)>=0}function lm(t){var e=t.service||{};if(e.config.endpointDiscoveryEnabled!==void 0)return e.config.endpointDiscoveryEnabled;if(!Le.isBrowser()){for(var r=0;r<Xa.length;r++){var i=Xa[r];if(Object.prototype.hasOwnProperty.call(process.env,i)){if(process.env[i]===""||process.env[i]===void 0)throw Le.error(new Error,{code:"ConfigurationException",message:"environmental variable "+i+" cannot be set to nothing"});return!Ga(process.env[i])}}var n={};try{n=me.util.iniLoader?me.util.iniLoader.loadFrom({isConfig:!0,filename:process.env[me.util.sharedConfigFileEnv]}):{}}catch{}var s=n[process.env.AWS_PROFILE||me.util.defaultProfile]||{};if(Object.prototype.hasOwnProperty.call(s,"endpoint_discovery_enabled")){if(s.endpoint_discovery_enabled===void 0)throw Le.error(new Error,{code:"ConfigurationException",message:"config file entry 'endpoint_discovery_enabled' cannot be set to nothing"});return!Ga(s.endpoint_discovery_enabled)}}}function fm(t,e){var r=t.service||{};if(cm(r)||t.isPresigned())return e();var i=r.api.operations||{},n=i[t.operation],s=n?n.endpointDiscoveryRequired:"NULL",o=lm(t),a=r.api.hasRequiredEndpointDiscovery;switch((o||a)&&t.httpRequest.appendToUserAgent("endpoint-discovery"),s){case"OPTIONAL":(o||a)&&(Ya(t),t.addNamedListener("INVALIDATE_CACHED_ENDPOINTS","extractError",ts)),e();break;case"REQUIRED":if(o===!1){t.response.error=Le.error(new Error,{code:"ConfigurationException",message:"Endpoint Discovery is disabled but "+r.api.className+"."+t.operation+"() requires it. Please check your configurations."}),e();break}t.addNamedListener("INVALIDATE_CACHED_ENDPOINTS","extractError",ts),Ja(t,e);break;case"NULL":default:e();break}}Za.exports={discoverEndpoint:fm,requiredDiscoverEndpoint:Ja,optionalDiscoverEndpoint:Ya,marshallCustomIdentifiers:Ai,getCacheKey:xi,invalidateCachedEndpoint:ts}});var iu=I(()=>{var G=V(),Rt=Yn(),pm=eu().discoverEndpoint;G.EventListeners={Core:{}};function ru(t){if(!t.service.api.operations)return"";var e=t.service.api.operations[t.operation];return e?e.authtype:""}function tu(t){var e=t.service;return e.config.signatureVersion?e.config.signatureVersion:e.api.signatureVersion?e.api.signatureVersion:ru(t)}G.EventListeners={Core:new Rt().addNamedListeners(function(t,e){e("VALIDATE_CREDENTIALS","validate",function(n,s){if(!n.service.api.signatureVersion&&!n.service.config.signatureVersion)return s();var o=tu(n);if(o==="bearer"){n.service.config.getToken(function(a){a&&(n.response.error=G.util.error(a,{code:"TokenError"})),s()});return}n.service.config.getCredentials(function(a){a&&(n.response.error=G.util.error(a,{code:"CredentialsError",message:"Missing credentials in config, if using AWS_CONFIG_FILE, set AWS_SDK_LOAD_CONFIG=1"})),s()})}),t("VALIDATE_REGION","validate",function(n){if(!n.service.isGlobalEndpoint){var s=new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/);n.service.config.region?s.test(n.service.config.region)||(n.response.error=G.util.error(new Error,{code:"ConfigError",message:"Invalid region in config"})):n.response.error=G.util.error(new Error,{code:"ConfigError",message:"Missing region in config"})}}),t("BUILD_IDEMPOTENCY_TOKENS","validate",function(n){if(n.service.api.operations){var s=n.service.api.operations[n.operation];if(s){var o=s.idempotentMembers;if(o.length){for(var a=G.util.copy(n.params),u=0,c=o.length;u<c;u++)a[o[u]]||(a[o[u]]=G.util.uuid.v4());n.params=a}}}}),t("VALIDATE_PARAMETERS","validate",function(n){if(n.service.api.operations){var s=n.service.api.operations[n.operation].input,o=n.service.config.paramValidation;new G.ParamValidator(o).validate(s,n.params)}}),t("COMPUTE_CHECKSUM","afterBuild",function(n){if(n.service.api.operations){var s=n.service.api.operations[n.operation];if(s){var o=n.httpRequest.body,a=o&&(G.util.Buffer.isBuffer(o)||typeof o=="string"),u=n.httpRequest.headers;if(s.httpChecksumRequired&&n.service.config.computeChecksums&&a&&!u["Content-MD5"]){var c=G.util.crypto.md5(o,"base64");u["Content-MD5"]=c}}}}),e("COMPUTE_SHA256","afterBuild",function(n,s){if(n.haltHandlersOnError(),!!n.service.api.operations){var o=n.service.api.operations[n.operation],a=o?o.authtype:"";if(!n.service.api.signatureVersion&&!a&&!n.service.config.signatureVersion)return s();if(n.service.getSignerClass(n)===G.Signers.V4){var u=n.httpRequest.body||"";if(a.indexOf("unsigned-body")>=0)return n.httpRequest.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",s();G.util.computeSha256(u,function(c,l){c?s(c):(n.httpRequest.headers["X-Amz-Content-Sha256"]=l,s())})}else s()}}),t("SET_CONTENT_LENGTH","afterBuild",function(n){var s=ru(n),o=G.util.getRequestPayloadShape(n);if(n.httpRequest.headers["Content-Length"]===void 0)try{var a=G.util.string.byteLength(n.httpRequest.body);n.httpRequest.headers["Content-Length"]=a}catch(u){if(o&&o.isStreaming){if(o.requiresLength)throw u;if(s.indexOf("unsigned-body")>=0){n.httpRequest.headers["Transfer-Encoding"]="chunked";return}else throw u}throw u}}),t("SET_HTTP_HOST","afterBuild",function(n){n.httpRequest.headers.Host=n.httpRequest.endpoint.host}),t("SET_TRACE_ID","afterBuild",function(n){var s="X-Amzn-Trace-Id";if(G.util.isNode()&&!Object.hasOwnProperty.call(n.httpRequest.headers,s)){var o="AWS_LAMBDA_FUNCTION_NAME",a="_X_AMZN_TRACE_ID",u=process.env[o],c=process.env[a];typeof u=="string"&&u.length>0&&typeof c=="string"&&c.length>0&&(n.httpRequest.headers[s]=c)}}),t("RESTART","restart",function(){var n=this.response.error;!n||!n.retryable||(this.httpRequest=new G.HttpRequest(this.service.endpoint,this.service.region),this.response.retryCount<this.service.config.maxRetries?this.response.retryCount++:this.response.error=null)});var r=!0;e("DISCOVER_ENDPOINT","sign",pm,r),e("SIGN","sign",function(n,s){var o=n.service,a=tu(n);if(!a||a.length===0)return s();a==="bearer"?o.config.getToken(function(u,c){if(u)return n.response.error=u,s();try{var l=o.getSignerClass(n),d=new l(n.httpRequest);d.addAuthorization(c)}catch(v){n.response.error=v}s()}):o.config.getCredentials(function(u,c){if(u)return n.response.error=u,s();try{var l=o.getSkewCorrectedDate(),d=o.getSignerClass(n),v=n.service.api.operations||{},x=v[n.operation],g=new d(n.httpRequest,o.getSigningName(n),{signatureCache:o.config.signatureCache,operation:x,signatureVersion:o.api.signatureVersion});g.setServiceClientId(o._clientId),delete n.httpRequest.headers.Authorization,delete n.httpRequest.headers.Date,delete n.httpRequest.headers["X-Amz-Date"],g.addAuthorization(c,l),n.signedAt=l}catch(E){n.response.error=E}s()})}),t("VALIDATE_RESPONSE","validateResponse",function(n){this.service.successfulResponse(n,this)?(n.data={},n.error=null):(n.data=null,n.error=G.util.error(new Error,{code:"UnknownError",message:"An unknown error occurred."}))}),t("ERROR","error",function(n,s){var o=s.request.service.api.awsQueryCompatible;if(o){var a=s.httpResponse.headers,u=a?a["x-amzn-query-error"]:void 0;u&&u.includes(";")&&(s.error.code=u.split(";")[0])}},!0),e("SEND","send",function(n,s){n.httpResponse._abortCallback=s,n.error=null,n.data=null;function o(d){n.httpResponse.stream=d;var v=n.request.httpRequest.stream,x=n.request.service,g=x.api,E=n.request.operation,P=g.operations[E]||{};d.on("headers",function(h,w,R){if(n.request.emit("httpHeaders",[h,w,n,R]),!n.httpResponse.streaming)if(G.HttpClient.streamsApiVersion===2){if(P.hasEventOutput&&x.successfulResponse(n)){n.request.emit("httpDone"),s();return}d.on("readable",function(){var C=d.read();C!==null&&n.request.emit("httpData",[C,n])})}else d.on("data",function(C){n.request.emit("httpData",[C,n])})}),d.on("end",function(){if(!v||!v.didCallback){if(G.HttpClient.streamsApiVersion===2&&P.hasEventOutput&&x.successfulResponse(n))return;n.request.emit("httpDone"),s()}})}function a(d){d.on("sendProgress",function(x){n.request.emit("httpUploadProgress",[x,n])}),d.on("receiveProgress",function(x){n.request.emit("httpDownloadProgress",[x,n])})}function u(d){if(d.code!=="RequestAbortedError"){var v=d.code==="TimeoutError"?d.code:"NetworkingError";d=G.util.error(d,{code:v,region:n.request.httpRequest.region,hostname:n.request.httpRequest.endpoint.hostname,retryable:!0})}n.error=d,n.request.emit("httpError",[n.error,n],function(){s()})}function c(){var d=G.HttpClient.getInstance(),v=n.request.service.config.httpOptions||{};try{var x=d.handleRequest(n.request.httpRequest,v,o,u);a(x)}catch(g){u(g)}}var l=(n.request.service.getSkewCorrectedDate()-this.signedAt)/1e3;l>=60*10?this.emit("sign",[this],function(d){d?s(d):c()}):c()}),t("HTTP_HEADERS","httpHeaders",function(n,s,o,a){o.httpResponse.statusCode=n,o.httpResponse.statusMessage=a,o.httpResponse.headers=s,o.httpResponse.body=G.util.buffer.toBuffer(""),o.httpResponse.buffers=[],o.httpResponse.numBytes=0;var u=s.date||s.Date,c=o.request.service;if(u){var l=Date.parse(u);c.config.correctClockSkew&&c.isClockSkewed(l)&&c.applyClockOffset(l)}}),t("HTTP_DATA","httpData",function(n,s){if(n){if(G.util.isNode()){s.httpResponse.numBytes+=n.length;var o=s.httpResponse.headers["content-length"],a={loaded:s.httpResponse.numBytes,total:o};s.request.emit("httpDownloadProgress",[a,s])}s.httpResponse.buffers.push(G.util.buffer.toBuffer(n))}}),t("HTTP_DONE","httpDone",function(n){if(n.httpResponse.buffers&&n.httpResponse.buffers.length>0){var s=G.util.buffer.concat(n.httpResponse.buffers);n.httpResponse.body=s}delete n.httpResponse.numBytes,delete n.httpResponse.buffers}),t("FINALIZE_ERROR","retry",function(n){n.httpResponse.statusCode&&(n.error.statusCode=n.httpResponse.statusCode,n.error.retryable===void 0&&(n.error.retryable=this.service.retryableError(n.error,this)))}),t("INVALIDATE_CREDENTIALS","retry",function(n){if(n.error)switch(n.error.code){case"RequestExpired":case"ExpiredTokenException":case"ExpiredToken":n.error.retryable=!0,n.request.service.config.credentials.expired=!0}}),t("EXPIRED_SIGNATURE","retry",function(n){var s=n.error;s&&typeof s.code=="string"&&typeof s.message=="string"&&s.code.match(/Signature/)&&s.message.match(/expired/)&&(n.error.retryable=!0)}),t("CLOCK_SKEWED","retry",function(n){n.error&&this.service.clockSkewError(n.error)&&this.service.config.correctClockSkew&&(n.error.retryable=!0)}),t("REDIRECT","retry",function(n){n.error&&n.error.statusCode>=300&&n.error.statusCode<400&&n.httpResponse.headers.location&&(this.httpRequest.endpoint=new G.Endpoint(n.httpResponse.headers.location),this.httpRequest.headers.Host=this.httpRequest.endpoint.host,n.error.redirect=!0,n.error.retryable=!0)}),t("RETRY_CHECK","retry",function(n){n.error&&(n.error.redirect&&n.redirectCount<n.maxRedirects?n.error.retryDelay=0:n.retryCount<n.maxRetries&&(n.error.retryDelay=this.service.retryDelays(n.retryCount,n.error)||0))}),e("RESET_RETRY_STATE","afterRetry",function(n,s){var o,a=!1;n.error&&(o=n.error.retryDelay||0,n.error.retryable&&n.retryCount<n.maxRetries?(n.retryCount++,a=!0):n.error.redirect&&n.redirectCount<n.maxRedirects&&(n.redirectCount++,a=!0)),a&&o>=0?(n.error=null,setTimeout(s,o)):s()})}),CorePost:new Rt().addNamedListeners(function(t){t("EXTRACT_REQUEST_ID","extractData",G.util.extractRequestId),t("EXTRACT_REQUEST_ID","extractError",G.util.extractRequestId),t("ENOTFOUND_ERROR","httpError",function(r){function i(s){return s.errno==="ENOTFOUND"||typeof s.errno=="number"&&typeof G.util.getSystemErrorName=="function"&&["EAI_NONAME","EAI_NODATA"].indexOf(G.util.getSystemErrorName(s.errno)>=0)}if(r.code==="NetworkingError"&&i(r)){var n="Inaccessible host: `"+r.hostname+"' at port `"+r.port+"'. This service may not be available in the `"+r.region+"' region.";this.response.error=G.util.error(new Error(n),{code:"UnknownEndpoint",region:r.region,hostname:r.hostname,retryable:!0,originalError:r})}})}),Logger:new Rt().addNamedListeners(function(t){t("LOG_REQUEST","complete",function(r){var i=r.request,n=i.service.config.logger;if(!n)return;function s(u,c){if(!c)return c;if(u.isSensitive)return"***SensitiveInformation***";switch(u.type){case"structure":var l={};return G.util.each(c,function(x,g){Object.prototype.hasOwnProperty.call(u.members,x)?l[x]=s(u.members[x],g):l[x]=g}),l;case"list":var d=[];return G.util.arrayEach(c,function(x,g){d.push(s(u.member,x))}),d;case"map":var v={};return G.util.each(c,function(x,g){v[x]=s(u.value,g)}),v;default:return c}}function o(){var u=r.request.service.getSkewCorrectedDate().getTime(),c=(u-i.startTime.getTime())/1e3,l=!!n.isTTY,d=r.httpResponse.statusCode,v=i.params;if(i.service.api.operations&&i.service.api.operations[i.operation]&&i.service.api.operations[i.operation].input){var x=i.service.api.operations[i.operation].input;v=s(x,i.params)}var g=require("util").inspect(v,!0,null),E="";return l&&(E+="\x1B[33m"),E+="[AWS "+i.service.serviceIdentifier+" "+d,E+=" "+c.toString()+"s "+r.retryCount+" retries]",l&&(E+="\x1B[0;1m"),E+=" "+G.util.string.lowerFirst(i.operation),E+="("+g+")",l&&(E+="\x1B[0m"),E}var a=o();typeof n.log=="function"?n.log(a):typeof n.write=="function"&&n.write(a+`
`)})}),Json:new Rt().addNamedListeners(function(t){var e=mi();t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)}),Rest:new Rt().addNamedListeners(function(t){var e=yr();t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)}),RestJson:new Rt().addNamedListeners(function(t){var e=Un();t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError),t("UNSET_CONTENT_LENGTH","afterBuild",e.unsetContentLength)}),RestXml:new Rt().addNamedListeners(function(t){var e=jn();t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)}),Query:new Rt().addNamedListeners(function(t){var e=Mn();t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)})}});var su=I(($0,nu)=>{function rs(t,e){this.currentState=e||null,this.states=t||{}}rs.prototype.runTo=function(e,r,i,n){typeof e=="function"&&(n=i,i=r,r=e,e=null);var s=this,o=s.states[s.currentState];o.fn.call(i||s,n,function(a){if(a)if(o.fail)s.currentState=o.fail;else return r?r.call(i,a):null;else if(o.accept)s.currentState=o.accept;else return r?r.call(i):null;if(s.currentState===e)return r?r.call(i,a):null;s.runTo(e,r,i,a)})};rs.prototype.addState=function(e,r,i,n){return typeof r=="function"?(n=r,r=null,i=null):typeof i=="function"&&(n=i,i=null),this.currentState||(this.currentState=e),this.states[e]={accept:r,fail:i,fn:n},this};nu.exports=rs});var Ri=I(bi=>{(function(t){"use strict";function e(p){return p!==null?Object.prototype.toString.call(p)==="[object Array]":!1}function r(p){return p!==null?Object.prototype.toString.call(p)==="[object Object]":!1}function i(p,y){if(p===y)return!0;var T=Object.prototype.toString.call(p);if(T!==Object.prototype.toString.call(y))return!1;if(e(p)===!0){if(p.length!==y.length)return!1;for(var D=0;D<p.length;D++)if(i(p[D],y[D])===!1)return!1;return!0}if(r(p)===!0){var k={};for(var F in p)if(hasOwnProperty.call(p,F)){if(i(p[F],y[F])===!1)return!1;k[F]=!0}for(var X in y)if(hasOwnProperty.call(y,X)&&k[X]!==!0)return!1;return!0}return!1}function n(p){if(p===""||p===!1||p===null)return!0;if(e(p)&&p.length===0)return!0;if(r(p)){for(var y in p)if(p.hasOwnProperty(y))return!1;return!0}else return!1}function s(p){for(var y=Object.keys(p),T=[],D=0;D<y.length;D++)T.push(p[y[D]]);return T}function o(p,y){var T={};for(var D in p)T[D]=p[D];for(var k in y)T[k]=y[k];return T}var a;typeof String.prototype.trimLeft=="function"?a=function(p){return p.trimLeft()}:a=function(p){return p.match(/^\s*(.*)/)[1]};var u=0,c=1,l=2,d=3,v=4,x=5,g=6,E=7,P=8,S=9,h={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},w="EOF",R="UnquotedIdentifier",N="QuotedIdentifier",C="Rbracket",_="Rparen",O="Comma",W="Colon",M="Rbrace",H="Number",A="Current",ge="Expref",pe="Pipe",Q="Or",Oe="And",at="EQ",ut="GT",qt="LT",$="GTE",$t="LTE",wt="NE",Fe="Flatten",xe="Star",ct="Filter",kt="Dot",Yt="Not",Tt="Lbrace",lt="Lbracket",m="Lparen",f="Literal",q={".":kt,"*":xe,",":O,":":W,"{":Tt,"}":M,"]":C,"(":m,")":_,"@":A},b={"<":!0,">":!0,"=":!0,"!":!0},J={" ":!0,"	":!0,"\n":!0};function ae(p){return p>="a"&&p<="z"||p>="A"&&p<="Z"||p==="_"}function ue(p){return p>="0"&&p<="9"||p==="-"}function _e(p){return p>="a"&&p<="z"||p>="A"&&p<="Z"||p>="0"&&p<="9"||p==="_"}function Pe(){}Pe.prototype={tokenize:function(p){var y=[];this._current=0;for(var T,D,k;this._current<p.length;)if(ae(p[this._current]))T=this._current,D=this._consumeUnquotedIdentifier(p),y.push({type:R,value:D,start:T});else if(q[p[this._current]]!==void 0)y.push({type:q[p[this._current]],value:p[this._current],start:this._current}),this._current++;else if(ue(p[this._current]))k=this._consumeNumber(p),y.push(k);else if(p[this._current]==="[")k=this._consumeLBracket(p),y.push(k);else if(p[this._current]==='"')T=this._current,D=this._consumeQuotedIdentifier(p),y.push({type:N,value:D,start:T});else if(p[this._current]==="'")T=this._current,D=this._consumeRawStringLiteral(p),y.push({type:f,value:D,start:T});else if(p[this._current]==="`"){T=this._current;var F=this._consumeLiteral(p);y.push({type:f,value:F,start:T})}else if(b[p[this._current]]!==void 0)y.push(this._consumeOperator(p));else if(J[p[this._current]]!==void 0)this._current++;else if(p[this._current]==="&")T=this._current,this._current++,p[this._current]==="&"?(this._current++,y.push({type:Oe,value:"&&",start:T})):y.push({type:ge,value:"&",start:T});else if(p[this._current]==="|")T=this._current,this._current++,p[this._current]==="|"?(this._current++,y.push({type:Q,value:"||",start:T})):y.push({type:pe,value:"|",start:T});else{var X=new Error("Unknown character:"+p[this._current]);throw X.name="LexerError",X}return y},_consumeUnquotedIdentifier:function(p){var y=this._current;for(this._current++;this._current<p.length&&_e(p[this._current]);)this._current++;return p.slice(y,this._current)},_consumeQuotedIdentifier:function(p){var y=this._current;this._current++;for(var T=p.length;p[this._current]!=='"'&&this._current<T;){var D=this._current;p[D]==="\\"&&(p[D+1]==="\\"||p[D+1]==='"')?D+=2:D++,this._current=D}return this._current++,JSON.parse(p.slice(y,this._current))},_consumeRawStringLiteral:function(p){var y=this._current;this._current++;for(var T=p.length;p[this._current]!=="'"&&this._current<T;){var D=this._current;p[D]==="\\"&&(p[D+1]==="\\"||p[D+1]==="'")?D+=2:D++,this._current=D}this._current++;var k=p.slice(y+1,this._current-1);return k.replace("\\'","'")},_consumeNumber:function(p){var y=this._current;this._current++;for(var T=p.length;ue(p[this._current])&&this._current<T;)this._current++;var D=parseInt(p.slice(y,this._current));return{type:H,value:D,start:y}},_consumeLBracket:function(p){var y=this._current;return this._current++,p[this._current]==="?"?(this._current++,{type:ct,value:"[?",start:y}):p[this._current]==="]"?(this._current++,{type:Fe,value:"[]",start:y}):{type:lt,value:"[",start:y}},_consumeOperator:function(p){var y=this._current,T=p[y];if(this._current++,T==="!")return p[this._current]==="="?(this._current++,{type:wt,value:"!=",start:y}):{type:Yt,value:"!",start:y};if(T==="<")return p[this._current]==="="?(this._current++,{type:$t,value:"<=",start:y}):{type:qt,value:"<",start:y};if(T===">")return p[this._current]==="="?(this._current++,{type:$,value:">=",start:y}):{type:ut,value:">",start:y};if(T==="="&&p[this._current]==="=")return this._current++,{type:at,value:"==",start:y}},_consumeLiteral:function(p){this._current++;for(var y=this._current,T=p.length,D;p[this._current]!=="`"&&this._current<T;){var k=this._current;p[k]==="\\"&&(p[k+1]==="\\"||p[k+1]==="`")?k+=2:k++,this._current=k}var F=a(p.slice(y,this._current));return F=F.replace("\\`","`"),this._looksLikeJSON(F)?D=JSON.parse(F):D=JSON.parse('"'+F+'"'),this._current++,D},_looksLikeJSON:function(p){var y='[{"',T=["true","false","null"],D="-0123456789";if(p==="")return!1;if(y.indexOf(p[0])>=0)return!0;if(T.indexOf(p)>=0)return!0;if(D.indexOf(p[0])>=0)try{return JSON.parse(p),!0}catch{return!1}else return!1}};var z={};z[w]=0,z[R]=0,z[N]=0,z[C]=0,z[_]=0,z[O]=0,z[M]=0,z[H]=0,z[A]=0,z[ge]=0,z[pe]=1,z[Q]=2,z[Oe]=3,z[at]=5,z[ut]=5,z[qt]=5,z[$]=5,z[$t]=5,z[wt]=5,z[Fe]=9,z[xe]=20,z[ct]=21,z[kt]=40,z[Yt]=45,z[Tt]=50,z[lt]=55,z[m]=60;function ce(){}ce.prototype={parse:function(p){this._loadTokens(p),this.index=0;var y=this.expression(0);if(this._lookahead(0)!==w){var T=this._lookaheadToken(0),D=new Error("Unexpected token type: "+T.type+", value: "+T.value);throw D.name="ParserError",D}return y},_loadTokens:function(p){var y=new Pe,T=y.tokenize(p);T.push({type:w,value:"",start:p.length}),this.tokens=T},expression:function(p){var y=this._lookaheadToken(0);this._advance();for(var T=this.nud(y),D=this._lookahead(0);p<z[D];)this._advance(),T=this.led(D,T),D=this._lookahead(0);return T},_lookahead:function(p){return this.tokens[this.index+p].type},_lookaheadToken:function(p){return this.tokens[this.index+p]},_advance:function(){this.index++},nud:function(p){var y,T,D;switch(p.type){case f:return{type:"Literal",value:p.value};case R:return{type:"Field",name:p.value};case N:var k={type:"Field",name:p.value};if(this._lookahead(0)===m)throw new Error("Quoted identifier not allowed for function names.");return k;case Yt:return T=this.expression(z.Not),{type:"NotExpression",children:[T]};case xe:return y={type:"Identity"},T=null,this._lookahead(0)===C?T={type:"Identity"}:T=this._parseProjectionRHS(z.Star),{type:"ValueProjection",children:[y,T]};case ct:return this.led(p.type,{type:"Identity"});case Tt:return this._parseMultiselectHash();case Fe:return y={type:Fe,children:[{type:"Identity"}]},T=this._parseProjectionRHS(z.Flatten),{type:"Projection",children:[y,T]};case lt:return this._lookahead(0)===H||this._lookahead(0)===W?(T=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},T)):this._lookahead(0)===xe&&this._lookahead(1)===C?(this._advance(),this._advance(),T=this._parseProjectionRHS(z.Star),{type:"Projection",children:[{type:"Identity"},T]}):this._parseMultiselectList();case A:return{type:A};case ge:return D=this.expression(z.Expref),{type:"ExpressionReference",children:[D]};case m:for(var F=[];this._lookahead(0)!==_;)this._lookahead(0)===A?(D={type:A},this._advance()):D=this.expression(0),F.push(D);return this._match(_),F[0];default:this._errorToken(p)}},led:function(p,y){var T;switch(p){case kt:var D=z.Dot;return this._lookahead(0)!==xe?(T=this._parseDotRHS(D),{type:"Subexpression",children:[y,T]}):(this._advance(),T=this._parseProjectionRHS(D),{type:"ValueProjection",children:[y,T]});case pe:return T=this.expression(z.Pipe),{type:pe,children:[y,T]};case Q:return T=this.expression(z.Or),{type:"OrExpression",children:[y,T]};case Oe:return T=this.expression(z.And),{type:"AndExpression",children:[y,T]};case m:for(var k=y.name,F=[],X,Y;this._lookahead(0)!==_;)this._lookahead(0)===A?(X={type:A},this._advance()):X=this.expression(0),this._lookahead(0)===O&&this._match(O),F.push(X);return this._match(_),Y={type:"Function",name:k,children:F},Y;case ct:var Ae=this.expression(0);return this._match(C),this._lookahead(0)===Fe?T={type:"Identity"}:T=this._parseProjectionRHS(z.Filter),{type:"FilterProjection",children:[y,T,Ae]};case Fe:var ft={type:Fe,children:[y]},de=this._parseProjectionRHS(z.Flatten);return{type:"Projection",children:[ft,de]};case at:case wt:case ut:case $:case qt:case $t:return this._parseComparator(y,p);case lt:var K=this._lookaheadToken(0);return K.type===H||K.type===W?(T=this._parseIndexExpression(),this._projectIfSlice(y,T)):(this._match(xe),this._match(C),T=this._parseProjectionRHS(z.Star),{type:"Projection",children:[y,T]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(p){if(this._lookahead(0)===p)this._advance();else{var y=this._lookaheadToken(0),T=new Error("Expected "+p+", got: "+y.type);throw T.name="ParserError",T}},_errorToken:function(p){var y=new Error("Invalid token ("+p.type+'): "'+p.value+'"');throw y.name="ParserError",y},_parseIndexExpression:function(){if(this._lookahead(0)===W||this._lookahead(1)===W)return this._parseSliceExpression();var p={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(C),p},_projectIfSlice:function(p,y){var T={type:"IndexExpression",children:[p,y]};return y.type==="Slice"?{type:"Projection",children:[T,this._parseProjectionRHS(z.Star)]}:T},_parseSliceExpression:function(){for(var p=[null,null,null],y=0,T=this._lookahead(0);T!==C&&y<3;){if(T===W)y++,this._advance();else if(T===H)p[y]=this._lookaheadToken(0).value,this._advance();else{var D=this._lookahead(0),k=new Error("Syntax error, unexpected token: "+D.value+"("+D.type+")");throw k.name="Parsererror",k}T=this._lookahead(0)}return this._match(C),{type:"Slice",children:p}},_parseComparator:function(p,y){var T=this.expression(z[y]);return{type:"Comparator",name:y,children:[p,T]}},_parseDotRHS:function(p){var y=this._lookahead(0),T=[R,N,xe];if(T.indexOf(y)>=0)return this.expression(p);if(y===lt)return this._match(lt),this._parseMultiselectList();if(y===Tt)return this._match(Tt),this._parseMultiselectHash()},_parseProjectionRHS:function(p){var y;if(z[this._lookahead(0)]<10)y={type:"Identity"};else if(this._lookahead(0)===lt)y=this.expression(p);else if(this._lookahead(0)===ct)y=this.expression(p);else if(this._lookahead(0)===kt)this._match(kt),y=this._parseDotRHS(p);else{var T=this._lookaheadToken(0),D=new Error("Sytanx error, unexpected token: "+T.value+"("+T.type+")");throw D.name="ParserError",D}return y},_parseMultiselectList:function(){for(var p=[];this._lookahead(0)!==C;){var y=this.expression(0);if(p.push(y),this._lookahead(0)===O&&(this._match(O),this._lookahead(0)===C))throw new Error("Unexpected token Rbracket")}return this._match(C),{type:"MultiSelectList",children:p}},_parseMultiselectHash:function(){for(var p=[],y=[R,N],T,D,k,F;;){if(T=this._lookaheadToken(0),y.indexOf(T.type)<0)throw new Error("Expecting an identifier token, got: "+T.type);if(D=T.value,this._advance(),this._match(W),k=this.expression(0),F={type:"KeyValuePair",name:D,value:k},p.push(F),this._lookahead(0)===O)this._match(O);else if(this._lookahead(0)===M){this._match(M);break}}return{type:"MultiSelectHash",children:p}}};function Be(p){this.runtime=p}Be.prototype={search:function(p,y){return this.visit(p,y)},visit:function(p,y){var T,D,k,F,X,Y,Ae,ft,de,K;switch(p.type){case"Field":return y!==null&&r(y)?(Y=y[p.name],Y===void 0?null:Y):null;case"Subexpression":for(k=this.visit(p.children[0],y),K=1;K<p.children.length;K++)if(k=this.visit(p.children[1],k),k===null)return null;return k;case"IndexExpression":return Ae=this.visit(p.children[0],y),ft=this.visit(p.children[1],Ae),ft;case"Index":if(!e(y))return null;var pt=p.value;return pt<0&&(pt=y.length+pt),k=y[pt],k===void 0&&(k=null),k;case"Slice":if(!e(y))return null;var Kf=p.children.slice(0),rn=this.computeSliceParams(y.length,Kf),Is=rn[0],Ps=rn[1],nn=rn[2];if(k=[],nn>0)for(K=Is;K<Ps;K+=nn)k.push(y[K]);else for(K=Is;K>Ps;K+=nn)k.push(y[K]);return k;case"Projection":var Xe=this.visit(p.children[0],y);if(!e(Xe))return null;for(de=[],K=0;K<Xe.length;K++)D=this.visit(p.children[1],Xe[K]),D!==null&&de.push(D);return de;case"ValueProjection":if(Xe=this.visit(p.children[0],y),!r(Xe))return null;de=[];var Ns=s(Xe);for(K=0;K<Ns.length;K++)D=this.visit(p.children[1],Ns[K]),D!==null&&de.push(D);return de;case"FilterProjection":if(Xe=this.visit(p.children[0],y),!e(Xe))return null;var sn=[],Ds=[];for(K=0;K<Xe.length;K++)T=this.visit(p.children[2],Xe[K]),n(T)||sn.push(Xe[K]);for(var on=0;on<sn.length;on++)D=this.visit(p.children[1],sn[on]),D!==null&&Ds.push(D);return Ds;case"Comparator":switch(F=this.visit(p.children[0],y),X=this.visit(p.children[1],y),p.name){case at:k=i(F,X);break;case wt:k=!i(F,X);break;case ut:k=F>X;break;case $:k=F>=X;break;case qt:k=F<X;break;case $t:k=F<=X;break;default:throw new Error("Unknown comparator: "+p.name)}return k;case Fe:var an=this.visit(p.children[0],y);if(!e(an))return null;var Qr=[];for(K=0;K<an.length;K++)D=an[K],e(D)?Qr.push.apply(Qr,D):Qr.push(D);return Qr;case"Identity":return y;case"MultiSelectList":if(y===null)return null;for(de=[],K=0;K<p.children.length;K++)de.push(this.visit(p.children[K],y));return de;case"MultiSelectHash":if(y===null)return null;de={};var un;for(K=0;K<p.children.length;K++)un=p.children[K],de[un.name]=this.visit(un.value,y);return de;case"OrExpression":return T=this.visit(p.children[0],y),n(T)&&(T=this.visit(p.children[1],y)),T;case"AndExpression":return F=this.visit(p.children[0],y),n(F)===!0?F:this.visit(p.children[1],y);case"NotExpression":return F=this.visit(p.children[0],y),n(F);case"Literal":return p.value;case pe:return Ae=this.visit(p.children[0],y),this.visit(p.children[1],Ae);case A:return y;case"Function":var qs=[];for(K=0;K<p.children.length;K++)qs.push(this.visit(p.children[K],y));return this.runtime.callFunction(p.name,qs);case"ExpressionReference":var ks=p.children[0];return ks.jmespathType=ge,ks;default:throw new Error("Unknown node type: "+p.type)}},computeSliceParams:function(p,y){var T=y[0],D=y[1],k=y[2],F=[null,null,null];if(k===null)k=1;else if(k===0){var X=new Error("Invalid slice, step cannot be 0");throw X.name="RuntimeError",X}var Y=k<0;return T===null?T=Y?p-1:0:T=this.capSliceRange(p,T,k),D===null?D=Y?-1:p:D=this.capSliceRange(p,D,k),F[0]=T,F[1]=D,F[2]=k,F},capSliceRange:function(p,y,T){return y<0?(y+=p,y<0&&(y=T<0?-1:0)):y>=p&&(y=T<0?p-1:p),y}};function $r(p){this._interpreter=p,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[u]}]},avg:{_func:this._functionAvg,_signature:[{types:[P]}]},ceil:{_func:this._functionCeil,_signature:[{types:[u]}]},contains:{_func:this._functionContains,_signature:[{types:[l,d]},{types:[c]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[l]},{types:[l]}]},floor:{_func:this._functionFloor,_signature:[{types:[u]}]},length:{_func:this._functionLength,_signature:[{types:[l,d,v]}]},map:{_func:this._functionMap,_signature:[{types:[g]},{types:[d]}]},max:{_func:this._functionMax,_signature:[{types:[P,S]}]},merge:{_func:this._functionMerge,_signature:[{types:[v],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[d]},{types:[g]}]},sum:{_func:this._functionSum,_signature:[{types:[P]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[l]},{types:[l]}]},min:{_func:this._functionMin,_signature:[{types:[P,S]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[d]},{types:[g]}]},type:{_func:this._functionType,_signature:[{types:[c]}]},keys:{_func:this._functionKeys,_signature:[{types:[v]}]},values:{_func:this._functionValues,_signature:[{types:[v]}]},sort:{_func:this._functionSort,_signature:[{types:[S,P]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[d]},{types:[g]}]},join:{_func:this._functionJoin,_signature:[{types:[l]},{types:[S]}]},reverse:{_func:this._functionReverse,_signature:[{types:[l,d]}]},to_array:{_func:this._functionToArray,_signature:[{types:[c]}]},to_string:{_func:this._functionToString,_signature:[{types:[c]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[c]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[c],variadic:!0}]}}}$r.prototype={callFunction:function(p,y){var T=this.functionTable[p];if(T===void 0)throw new Error("Unknown function: "+p+"()");return this._validateArgs(p,y,T._signature),T._func.call(this,y)},_validateArgs:function(p,y,T){var D;if(T[T.length-1].variadic){if(y.length<T.length)throw D=T.length===1?" argument":" arguments",new Error("ArgumentError: "+p+"() takes at least"+T.length+D+" but received "+y.length)}else if(y.length!==T.length)throw D=T.length===1?" argument":" arguments",new Error("ArgumentError: "+p+"() takes "+T.length+D+" but received "+y.length);for(var k,F,X,Y=0;Y<T.length;Y++){X=!1,k=T[Y].types,F=this._getTypeName(y[Y]);for(var Ae=0;Ae<k.length;Ae++)if(this._typeMatches(F,k[Ae],y[Y])){X=!0;break}if(!X){var ft=k.map(function(de){return h[de]}).join(",");throw new Error("TypeError: "+p+"() expected argument "+(Y+1)+" to be type "+ft+" but received type "+h[F]+" instead.")}}},_typeMatches:function(p,y,T){if(y===c)return!0;if(y===S||y===P||y===d){if(y===d)return p===d;if(p===d){var D;y===P?D=u:y===S&&(D=l);for(var k=0;k<T.length;k++)if(!this._typeMatches(this._getTypeName(T[k]),D,T[k]))return!1;return!0}}else return p===y},_getTypeName:function(p){switch(Object.prototype.toString.call(p)){case"[object String]":return l;case"[object Number]":return u;case"[object Array]":return d;case"[object Boolean]":return x;case"[object Null]":return E;case"[object Object]":return p.jmespathType===ge?g:v}},_functionStartsWith:function(p){return p[0].lastIndexOf(p[1])===0},_functionEndsWith:function(p){var y=p[0],T=p[1];return y.indexOf(T,y.length-T.length)!==-1},_functionReverse:function(p){var y=this._getTypeName(p[0]);if(y===l){for(var T=p[0],D="",k=T.length-1;k>=0;k--)D+=T[k];return D}else{var F=p[0].slice(0);return F.reverse(),F}},_functionAbs:function(p){return Math.abs(p[0])},_functionCeil:function(p){return Math.ceil(p[0])},_functionAvg:function(p){for(var y=0,T=p[0],D=0;D<T.length;D++)y+=T[D];return y/T.length},_functionContains:function(p){return p[0].indexOf(p[1])>=0},_functionFloor:function(p){return Math.floor(p[0])},_functionLength:function(p){return r(p[0])?Object.keys(p[0]).length:p[0].length},_functionMap:function(p){for(var y=[],T=this._interpreter,D=p[0],k=p[1],F=0;F<k.length;F++)y.push(T.visit(D,k[F]));return y},_functionMerge:function(p){for(var y={},T=0;T<p.length;T++){var D=p[T];for(var k in D)y[k]=D[k]}return y},_functionMax:function(p){if(p[0].length>0){var y=this._getTypeName(p[0][0]);if(y===u)return Math.max.apply(Math,p[0]);for(var T=p[0],D=T[0],k=1;k<T.length;k++)D.localeCompare(T[k])<0&&(D=T[k]);return D}else return null},_functionMin:function(p){if(p[0].length>0){var y=this._getTypeName(p[0][0]);if(y===u)return Math.min.apply(Math,p[0]);for(var T=p[0],D=T[0],k=1;k<T.length;k++)T[k].localeCompare(D)<0&&(D=T[k]);return D}else return null},_functionSum:function(p){for(var y=0,T=p[0],D=0;D<T.length;D++)y+=T[D];return y},_functionType:function(p){switch(this._getTypeName(p[0])){case u:return"number";case l:return"string";case d:return"array";case v:return"object";case x:return"boolean";case g:return"expref";case E:return"null"}},_functionKeys:function(p){return Object.keys(p[0])},_functionValues:function(p){for(var y=p[0],T=Object.keys(y),D=[],k=0;k<T.length;k++)D.push(y[T[k]]);return D},_functionJoin:function(p){var y=p[0],T=p[1];return T.join(y)},_functionToArray:function(p){return this._getTypeName(p[0])===d?p[0]:[p[0]]},_functionToString:function(p){return this._getTypeName(p[0])===l?p[0]:JSON.stringify(p[0])},_functionToNumber:function(p){var y=this._getTypeName(p[0]),T;return y===u?p[0]:y===l&&(T=+p[0],!isNaN(T))?T:null},_functionNotNull:function(p){for(var y=0;y<p.length;y++)if(this._getTypeName(p[y])!==E)return p[y];return null},_functionSort:function(p){var y=p[0].slice(0);return y.sort(),y},_functionSortBy:function(p){var y=p[0].slice(0);if(y.length===0)return y;var T=this._interpreter,D=p[1],k=this._getTypeName(T.visit(D,y[0]));if([u,l].indexOf(k)<0)throw new Error("TypeError");for(var F=this,X=[],Y=0;Y<y.length;Y++)X.push([Y,y[Y]]);X.sort(function(ft,de){var K=T.visit(D,ft[1]),pt=T.visit(D,de[1]);if(F._getTypeName(K)!==k)throw new Error("TypeError: expected "+k+", received "+F._getTypeName(K));if(F._getTypeName(pt)!==k)throw new Error("TypeError: expected "+k+", received "+F._getTypeName(pt));return K>pt?1:K<pt?-1:ft[0]-de[0]});for(var Ae=0;Ae<X.length;Ae++)y[Ae]=X[Ae][1];return y},_functionMaxBy:function(p){for(var y=p[1],T=p[0],D=this.createKeyFunction(y,[u,l]),k=-1/0,F,X,Y=0;Y<T.length;Y++)X=D(T[Y]),X>k&&(k=X,F=T[Y]);return F},_functionMinBy:function(p){for(var y=p[1],T=p[0],D=this.createKeyFunction(y,[u,l]),k=1/0,F,X,Y=0;Y<T.length;Y++)X=D(T[Y]),X<k&&(k=X,F=T[Y]);return F},createKeyFunction:function(p,y){var T=this,D=this._interpreter,k=function(F){var X=D.visit(p,F);if(y.indexOf(T._getTypeName(X))<0){var Y="TypeError: expected one of "+y+", received "+T._getTypeName(X);throw new Error(Y)}return X};return k}};function Yr(p){var y=new ce,T=y.parse(p);return T}function lr(p){var y=new Pe;return y.tokenize(p)}function Jr(p,y){var T=new ce,D=new $r,k=new Be(D);D._interpreter=k;var F=T.parse(y);return k.search(F,p)}t.tokenize=lr,t.compile=Yr,t.search=Jr,t.strictDeepEqual=i})(typeof bi>"u"?bi.jmespath={}:bi)});var au=I(()=>{var ee=V(),ou=su(),dm=ee.util.inherit,Ii=ee.util.domain,hm=Ri(),mm={success:1,error:1,complete:1};function vm(t){return Object.prototype.hasOwnProperty.call(mm,t._asm.currentState)}var is=new ou;is.setupStates=function(){var t=function(e,r){var i=this;i._haltHandlersOnError=!1,i.emit(i._asm.currentState,function(n){if(n)if(vm(i))if(Ii&&i.domain instanceof Ii.Domain)n.domainEmitter=i,n.domain=i.domain,n.domainThrown=!1,i.domain.emit("error",n);else throw n;else i.response.error=n,r(n);else r(i.response.error)})};this.addState("validate","build","error",t),this.addState("build","afterBuild","restart",t),this.addState("afterBuild","sign","restart",t),this.addState("sign","send","retry",t),this.addState("retry","afterRetry","afterRetry",t),this.addState("afterRetry","sign","error",t),this.addState("send","validateResponse","retry",t),this.addState("validateResponse","extractData","extractError",t),this.addState("extractError","extractData","retry",t),this.addState("extractData","success","retry",t),this.addState("restart","build","error",t),this.addState("success","complete","complete",t),this.addState("error","complete","complete",t),this.addState("complete",null,null,t)};is.setupStates();ee.Request=dm({constructor:function(e,r,i){var n=e.endpoint,s=e.config.region,o=e.config.customUserAgent;e.signingRegion?s=e.signingRegion:e.isGlobalEndpoint&&(s="us-east-1"),this.domain=Ii&&Ii.active,this.service=e,this.operation=r,this.params=i||{},this.httpRequest=new ee.HttpRequest(n,s),this.httpRequest.appendToUserAgent(o),this.startTime=e.getSkewCorrectedDate(),this.response=new ee.Response(this),this._asm=new ou(is.states,"validate"),this._haltHandlersOnError=!1,ee.SequentialExecutor.call(this),this.emit=this.emitEvent},send:function(e){return e&&(this.httpRequest.appendToUserAgent("callback"),this.on("complete",function(r){e.call(r,r.error,r.data)})),this.runTo(),this.response},build:function(e){return this.runTo("send",e)},runTo:function(e,r){return this._asm.runTo(e,r,this),this},abort:function(){return this.removeAllListeners("validateResponse"),this.removeAllListeners("extractError"),this.on("validateResponse",function(r){r.error=ee.util.error(new Error("Request aborted by user"),{code:"RequestAbortedError",retryable:!1})}),this.httpRequest.stream&&!this.httpRequest.stream.didCallback&&(this.httpRequest.stream.abort(),this.httpRequest._abortCallback?this.httpRequest._abortCallback():this.removeAllListeners("send")),this},eachPage:function(e){e=ee.util.fn.makeAsync(e,3);function r(i){e.call(i,i.error,i.data,function(n){n!==!1&&(i.hasNextPage()?i.nextPage().on("complete",r).send():e.call(i,null,null,ee.util.fn.noop))})}this.on("complete",r).send()},eachItem:function(e){var r=this;function i(n,s){if(n)return e(n,null);if(s===null)return e(null,null);var o=r.service.paginationConfig(r.operation),a=o.resultKey;Array.isArray(a)&&(a=a[0]);var u=hm.search(s,a),c=!0;return ee.util.arrayEach(u,function(l){if(c=e(null,l),c===!1)return ee.util.abort}),c}this.eachPage(i)},isPageable:function(){return!!this.service.paginationConfig(this.operation)},createReadStream:function(){var e=ee.util.stream,r=this,i=null;return ee.HttpClient.streamsApiVersion===2?(i=new e.PassThrough,process.nextTick(function(){r.send()})):(i=new e.Stream,i.readable=!0,i.sent=!1,i.on("newListener",function(n){!i.sent&&n==="data"&&(i.sent=!0,process.nextTick(function(){r.send()}))})),this.on("error",function(n){i.emit("error",n)}),this.on("httpHeaders",function(s,o,a){if(s<300){r.removeListener("httpData",ee.EventListeners.Core.HTTP_DATA),r.removeListener("httpError",ee.EventListeners.Core.HTTP_ERROR),r.on("httpError",function(E){a.error=E,a.error.retryable=!1});var u=!1,c;if(r.httpRequest.method!=="HEAD"&&(c=parseInt(o["content-length"],10)),c!==void 0&&!isNaN(c)&&c>=0){u=!0;var l=0}var d=function(){u&&l!==c?i.emit("error",ee.util.error(new Error("Stream content length mismatch. Received "+l+" of "+c+" bytes."),{code:"StreamContentLengthMismatch"})):ee.HttpClient.streamsApiVersion===2?i.end():i.emit("end")},v=a.httpResponse.createUnbufferedStream();if(ee.HttpClient.streamsApiVersion===2)if(u){var x=new e.PassThrough;x._write=function(g){return g&&g.length&&(l+=g.length),e.PassThrough.prototype._write.apply(this,arguments)},x.on("end",d),i.on("error",function(g){u=!1,v.unpipe(x),x.emit("end"),x.end()}),v.pipe(x).pipe(i,{end:!1})}else v.pipe(i);else u&&v.on("data",function(g){g&&g.length&&(l+=g.length)}),v.on("data",function(g){i.emit("data",g)}),v.on("end",d);v.on("error",function(g){u=!1,i.emit("error",g)})}}),i},emitEvent:function(e,r,i){typeof r=="function"&&(i=r,r=null),i||(i=function(){}),r||(r=this.eventParameters(e,this.response));var n=ee.SequentialExecutor.prototype.emit;n.call(this,e,r,function(s){s&&(this.response.error=s),i.call(this,s)})},eventParameters:function(e){switch(e){case"restart":case"validate":case"sign":case"build":case"afterValidate":case"afterBuild":return[this];case"error":return[this.response.error,this.response];default:return[this.response]}},presign:function(e,r){return!r&&typeof e=="function"&&(r=e,e=null),new ee.Signers.Presign().sign(this.toGet(),e,r)},isPresigned:function(){return Object.prototype.hasOwnProperty.call(this.httpRequest.headers,"presigned-expires")},toUnauthenticated:function(){return this._unAuthenticated=!0,this.removeListener("validate",ee.EventListeners.Core.VALIDATE_CREDENTIALS),this.removeListener("sign",ee.EventListeners.Core.SIGN),this},toGet:function(){return(this.service.api.protocol==="query"||this.service.api.protocol==="ec2")&&(this.removeListener("build",this.buildAsGet),this.addListener("build",this.buildAsGet)),this},buildAsGet:function(e){e.httpRequest.method="GET",e.httpRequest.path=e.service.endpoint.path+"?"+e.httpRequest.body,e.httpRequest.body="",delete e.httpRequest.headers["Content-Length"],delete e.httpRequest.headers["Content-Type"]},haltHandlersOnError:function(){this._haltHandlersOnError=!0}});ee.Request.addPromisesToClass=function(e){this.prototype.promise=function(){var i=this;return this.httpRequest.appendToUserAgent("promise"),new e(function(n,s){i.on("complete",function(o){o.error?s(o.error):n(Object.defineProperty(o.data||{},"$response",{value:o}))}),i.runTo()})}};ee.Request.deletePromisesFromClass=function(){delete this.prototype.promise};ee.util.addPromises(ee.Request);ee.util.mixin(ee.Request,ee.SequentialExecutor)});var cu=I(()=>{var xr=V(),gm=xr.util.inherit,uu=Ri();xr.Response=gm({constructor:function(e){this.request=e,this.data=null,this.error=null,this.retryCount=0,this.redirectCount=0,this.httpResponse=new xr.HttpResponse,e&&(this.maxRetries=e.service.numRetries(),this.maxRedirects=e.service.config.maxRedirects)},nextPage:function(e){var r,i=this.request.service,n=this.request.operation;try{r=i.paginationConfig(n,!0)}catch(u){this.error=u}if(!this.hasNextPage()){if(e)e(this.error,null);else if(this.error)throw this.error;return null}var s=xr.util.copy(this.request.params);if(this.nextPageTokens){var o=r.inputToken;typeof o=="string"&&(o=[o]);for(var a=0;a<o.length;a++)s[o[a]]=this.nextPageTokens[a];return i.makeRequest(this.request.operation,s,e)}else return e?e(null,null):null},hasNextPage:function(){if(this.cacheNextPageTokens(),this.nextPageTokens)return!0;if(this.nextPageTokens!==void 0)return!1},cacheNextPageTokens:function(){if(Object.prototype.hasOwnProperty.call(this,"nextPageTokens"))return this.nextPageTokens;this.nextPageTokens=void 0;var e=this.request.service.paginationConfig(this.request.operation);if(!e)return this.nextPageTokens;if(this.nextPageTokens=null,e.moreResults&&!uu.search(this.data,e.moreResults))return this.nextPageTokens;var r=e.outputToken;return typeof r=="string"&&(r=[r]),xr.util.arrayEach.call(this,r,function(i){var n=uu.search(this.data,i);n&&(this.nextPageTokens=this.nextPageTokens||[],this.nextPageTokens.push(n))}),this.nextPageTokens}})});var fu=I(()=>{var Bt=V(),ym=Bt.util.inherit,sr=Ri();function lu(t){var e=t.request._waiter,r=e.config.acceptors,i=!1,n="retry";r.forEach(function(s){if(!i){var o=e.matchers[s.matcher];o&&o(t,s.expected,s.argument)&&(i=!0,n=s.state)}}),!i&&t.error&&(n="failure"),n==="success"?e.setSuccess(t):e.setError(t,n==="retry")}Bt.ResourceWaiter=ym({constructor:function(e,r){this.service=e,this.state=r,this.loadWaiterConfig(this.state)},service:null,state:null,config:null,matchers:{path:function(t,e,r){try{var i=sr.search(t.data,r)}catch{return!1}return sr.strictDeepEqual(i,e)},pathAll:function(t,e,r){try{var i=sr.search(t.data,r)}catch{return!1}Array.isArray(i)||(i=[i]);var n=i.length;if(!n)return!1;for(var s=0;s<n;s++)if(!sr.strictDeepEqual(i[s],e))return!1;return!0},pathAny:function(t,e,r){try{var i=sr.search(t.data,r)}catch{return!1}Array.isArray(i)||(i=[i]);for(var n=i.length,s=0;s<n;s++)if(sr.strictDeepEqual(i[s],e))return!0;return!1},status:function(t,e){var r=t.httpResponse.statusCode;return typeof r=="number"&&r===e},error:function(t,e){return typeof e=="string"&&t.error?e===t.error.code:e===!!t.error}},listeners:new Bt.SequentialExecutor().addNamedListeners(function(t){t("RETRY_CHECK","retry",function(e){var r=e.request._waiter;e.error&&e.error.code==="ResourceNotReady"&&(e.error.retryDelay=(r.config.delay||0)*1e3)}),t("CHECK_OUTPUT","extractData",lu),t("CHECK_ERROR","extractError",lu)}),wait:function(e,r){typeof e=="function"&&(r=e,e=void 0),e&&e.$waiter&&(e=Bt.util.copy(e),typeof e.$waiter.delay=="number"&&(this.config.delay=e.$waiter.delay),typeof e.$waiter.maxAttempts=="number"&&(this.config.maxAttempts=e.$waiter.maxAttempts),delete e.$waiter);var i=this.service.makeRequest(this.config.operation,e);return i._waiter=this,i.response.maxRetries=this.config.maxAttempts,i.addListeners(this.listeners),r&&i.send(r),i},setSuccess:function(e){e.error=null,e.data=e.data||{},e.request.removeAllListeners("extractData")},setError:function(e,r){e.data=null,e.error=Bt.util.error(e.error||new Error,{code:"ResourceNotReady",message:"Resource is not in the state "+this.state,retryable:r})},loadWaiterConfig:function(e){if(!this.service.api.waiters[e])throw new Bt.util.error(new Error,{code:"StateNotFoundError",message:"State "+e+" not found."});this.config=Bt.util.copy(this.service.api.waiters[e])}})});var du=I((iE,pu)=>{var gt=V(),Em=gt.util.inherit;gt.Signers.V2=Em(gt.Signers.RequestSigner,{addAuthorization:function(e,r){r||(r=gt.util.date.getDate());var i=this.request;i.params.Timestamp=gt.util.date.iso8601(r),i.params.SignatureVersion="2",i.params.SignatureMethod="HmacSHA256",i.params.AWSAccessKeyId=e.accessKeyId,e.sessionToken&&(i.params.SecurityToken=e.sessionToken),delete i.params.Signature,i.params.Signature=this.signature(e),i.body=gt.util.queryParamsToString(i.params),i.headers["Content-Length"]=i.body.length},signature:function(e){return gt.util.crypto.hmac(e.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var e=[];return e.push(this.request.method),e.push(this.request.endpoint.host.toLowerCase()),e.push(this.request.pathname()),e.push(gt.util.queryParamsToString(this.request.params)),e.join(`
`)}});pu.exports=gt.Signers.V2});var ns=I((nE,hu)=>{var rt=V(),Sm=rt.util.inherit;rt.Signers.V3=Sm(rt.Signers.RequestSigner,{addAuthorization:function(e,r){var i=rt.util.date.rfc822(r);this.request.headers["X-Amz-Date"]=i,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken),this.request.headers["X-Amzn-Authorization"]=this.authorization(e,i)},authorization:function(e){return"AWS3 AWSAccessKeyId="+e.accessKeyId+",Algorithm=HmacSHA256,SignedHeaders="+this.signedHeaders()+",Signature="+this.signature(e)},signedHeaders:function(){var e=[];return rt.util.arrayEach(this.headersToSign(),function(i){e.push(i.toLowerCase())}),e.sort().join(";")},canonicalHeaders:function(){var e=this.request.headers,r=[];return rt.util.arrayEach(this.headersToSign(),function(n){r.push(n.toLowerCase().trim()+":"+String(e[n]).trim())}),r.sort().join(`
`)+`
`},headersToSign:function(){var e=[];return rt.util.each(this.request.headers,function(i){(i==="Host"||i==="Content-Encoding"||i.match(/^X-Amz/i))&&e.push(i)}),e},signature:function(e){return rt.util.crypto.hmac(e.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var e=[];return e.push(this.request.method),e.push("/"),e.push(""),e.push(this.canonicalHeaders()),e.push(this.request.body),rt.util.crypto.sha256(e.join(`
`))}});hu.exports=rt.Signers.V3});var vu=I((sE,mu)=>{var Pi=V(),wm=Pi.util.inherit;ns();Pi.Signers.V3Https=wm(Pi.Signers.V3,{authorization:function(e){return"AWS3-HTTPS AWSAccessKeyId="+e.accessKeyId+",Algorithm=HmacSHA256,Signature="+this.signature(e)},stringToSign:function(){return this.request.headers["X-Amz-Date"]}});mu.exports=Pi.Signers.V3Https});var Eu=I((oE,yu)=>{var Ar=V(),br={},Ni=[],Tm=50,gu="aws4_request";yu.exports={createScope:function(e,r,i){return[e.substr(0,8),r,i,gu].join("/")},getSigningKey:function(e,r,i,n,s){var o=Ar.util.crypto.hmac(e.secretAccessKey,e.accessKeyId,"base64"),a=[o,r,i,n].join("_");if(s=s!==!1,s&&a in br)return br[a];var u=Ar.util.crypto.hmac("AWS4"+e.secretAccessKey,r,"buffer"),c=Ar.util.crypto.hmac(u,i,"buffer"),l=Ar.util.crypto.hmac(c,n,"buffer"),d=Ar.util.crypto.hmac(l,gu,"buffer");return s&&(br[a]=d,Ni.push(a),Ni.length>Tm&&delete br[Ni.shift()]),d},emptyCache:function(){br={},Ni=[]}}});var Tu=I((aE,wu)=>{var Ie=V(),Su=Eu(),Cm=Ie.util.inherit,Di="presigned-expires";Ie.Signers.V4=Cm(Ie.Signers.RequestSigner,{constructor:function(e,r,i){Ie.Signers.RequestSigner.call(this,e),this.serviceName=r,i=i||{},this.signatureCache=typeof i.signatureCache=="boolean"?i.signatureCache:!0,this.operation=i.operation,this.signatureVersion=i.signatureVersion},algorithm:"AWS4-HMAC-SHA256",addAuthorization:function(e,r){var i=Ie.util.date.iso8601(r).replace(/[:\-]|\.\d{3}/g,"");this.isPresigned()?this.updateForPresigned(e,i):this.addHeaders(e,i),this.request.headers.Authorization=this.authorization(e,i)},addHeaders:function(e,r){this.request.headers["X-Amz-Date"]=r,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken)},updateForPresigned:function(e,r){var i=this.credentialString(r),n={"X-Amz-Date":r,"X-Amz-Algorithm":this.algorithm,"X-Amz-Credential":e.accessKeyId+"/"+i,"X-Amz-Expires":this.request.headers[Di],"X-Amz-SignedHeaders":this.signedHeaders()};e.sessionToken&&(n["X-Amz-Security-Token"]=e.sessionToken),this.request.headers["Content-Type"]&&(n["Content-Type"]=this.request.headers["Content-Type"]),this.request.headers["Content-MD5"]&&(n["Content-MD5"]=this.request.headers["Content-MD5"]),this.request.headers["Cache-Control"]&&(n["Cache-Control"]=this.request.headers["Cache-Control"]),Ie.util.each.call(this,this.request.headers,function(o,a){if(o!==Di&&this.isSignableHeader(o)){var u=o.toLowerCase();u.indexOf("x-amz-meta-")===0?n[u]=a:u.indexOf("x-amz-")===0&&(n[o]=a)}});var s=this.request.path.indexOf("?")>=0?"&":"?";this.request.path+=s+Ie.util.queryParamsToString(n)},authorization:function(e,r){var i=[],n=this.credentialString(r);return i.push(this.algorithm+" Credential="+e.accessKeyId+"/"+n),i.push("SignedHeaders="+this.signedHeaders()),i.push("Signature="+this.signature(e,r)),i.join(", ")},signature:function(e,r){var i=Su.getSigningKey(e,r.substr(0,8),this.request.region,this.serviceName,this.signatureCache);return Ie.util.crypto.hmac(i,this.stringToSign(r),"hex")},stringToSign:function(e){var r=[];return r.push("AWS4-HMAC-SHA256"),r.push(e),r.push(this.credentialString(e)),r.push(this.hexEncodedHash(this.canonicalString())),r.join(`
`)},canonicalString:function(){var e=[],r=this.request.pathname();return this.serviceName!=="s3"&&this.signatureVersion!=="s3v4"&&(r=Ie.util.uriEscapePath(r)),e.push(this.request.method),e.push(r),e.push(this.request.search()),e.push(this.canonicalHeaders()+`
`),e.push(this.signedHeaders()),e.push(this.hexEncodedBodyHash()),e.join(`
`)},canonicalHeaders:function(){var e=[];Ie.util.each.call(this,this.request.headers,function(i,n){e.push([i,n])}),e.sort(function(i,n){return i[0].toLowerCase()<n[0].toLowerCase()?-1:1});var r=[];return Ie.util.arrayEach.call(this,e,function(i){var n=i[0].toLowerCase();if(this.isSignableHeader(n)){var s=i[1];if(typeof s>"u"||s===null||typeof s.toString!="function")throw Ie.util.error(new Error("Header "+n+" contains invalid value"),{code:"InvalidHeader"});r.push(n+":"+this.canonicalHeaderValues(s.toString()))}}),r.join(`
`)},canonicalHeaderValues:function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")},signedHeaders:function(){var e=[];return Ie.util.each.call(this,this.request.headers,function(r){r=r.toLowerCase(),this.isSignableHeader(r)&&e.push(r)}),e.sort().join(";")},credentialString:function(e){return Su.createScope(e.substr(0,8),this.request.region,this.serviceName)},hexEncodedHash:function(e){return Ie.util.crypto.sha256(e,"hex")},hexEncodedBodyHash:function(){var e=this.request;return this.isPresigned()&&["s3","s3-object-lambda"].indexOf(this.serviceName)>-1&&!e.body?"UNSIGNED-PAYLOAD":e.headers["X-Amz-Content-Sha256"]?e.headers["X-Amz-Content-Sha256"]:this.hexEncodedHash(this.request.body||"")},unsignableHeaders:["authorization","content-type","content-length","user-agent",Di,"expect","x-amzn-trace-id"],isSignableHeader:function(e){return e.toLowerCase().indexOf("x-amz-")===0?!0:this.unsignableHeaders.indexOf(e)<0},isPresigned:function(){return!!this.request.headers[Di]}});wu.exports=Ie.Signers.V4});var _u=I((uE,Cu)=>{var it=V(),_m=it.util.inherit;it.Signers.S3=_m(it.Signers.RequestSigner,{subResources:{acl:1,accelerate:1,analytics:1,cors:1,lifecycle:1,delete:1,inventory:1,location:1,logging:1,metrics:1,notification:1,partNumber:1,policy:1,requestPayment:1,replication:1,restore:1,tagging:1,torrent:1,uploadId:1,uploads:1,versionId:1,versioning:1,versions:1,website:1},responseHeaders:{"response-content-type":1,"response-content-language":1,"response-expires":1,"response-cache-control":1,"response-content-disposition":1,"response-content-encoding":1},addAuthorization:function(e,r){this.request.headers["presigned-expires"]||(this.request.headers["X-Amz-Date"]=it.util.date.rfc822(r)),e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken);var i=this.sign(e.secretAccessKey,this.stringToSign()),n="AWS "+e.accessKeyId+":"+i;this.request.headers.Authorization=n},stringToSign:function(){var e=this.request,r=[];r.push(e.method),r.push(e.headers["Content-MD5"]||""),r.push(e.headers["Content-Type"]||""),r.push(e.headers["presigned-expires"]||"");var i=this.canonicalizedAmzHeaders();return i&&r.push(i),r.push(this.canonicalizedResource()),r.join(`
`)},canonicalizedAmzHeaders:function(){var e=[];it.util.each(this.request.headers,function(i){i.match(/^x-amz-/i)&&e.push(i)}),e.sort(function(i,n){return i.toLowerCase()<n.toLowerCase()?-1:1});var r=[];return it.util.arrayEach.call(this,e,function(i){r.push(i.toLowerCase()+":"+String(this.request.headers[i]))}),r.join(`
`)},canonicalizedResource:function(){var e=this.request,r=e.path.split("?"),i=r[0],n=r[1],s="";if(e.virtualHostedBucket&&(s+="/"+e.virtualHostedBucket),s+=i,n){var o=[];it.util.arrayEach.call(this,n.split("&"),function(a){var u=a.split("=")[0],c=a.split("=")[1];if(this.subResources[u]||this.responseHeaders[u]){var l={name:u};c!==void 0&&(this.subResources[u]?l.value=c:l.value=decodeURIComponent(c)),o.push(l)}}),o.sort(function(a,u){return a.name<u.name?-1:1}),o.length&&(n=[],it.util.arrayEach(o,function(a){a.value===void 0?n.push(a.name):n.push(a.name+"="+a.value)}),s+="?"+n.join("&"))}return s},sign:function(e,r){return it.util.crypto.hmac(e,r,"base64","sha1")}});Cu.exports=it.Signers.S3});var Au=I((cE,xu)=>{var we=V(),xm=we.util.inherit,or="presigned-expires";function Am(t){var e=t.httpRequest.headers[or],r=t.service.getSignerClass(t);if(delete t.httpRequest.headers["User-Agent"],delete t.httpRequest.headers["X-Amz-User-Agent"],r===we.Signers.V4){if(e>604800){var i="Presigning does not support expiry time greater than a week with SigV4 signing.";throw we.util.error(new Error,{code:"InvalidExpiryTime",message:i,retryable:!1})}t.httpRequest.headers[or]=e}else if(r===we.Signers.S3){var n=t.service?t.service.getSkewCorrectedDate():we.util.date.getDate();t.httpRequest.headers[or]=parseInt(we.util.date.unixTimestamp(n)+e,10).toString()}else throw we.util.error(new Error,{message:"Presigning only supports S3 or SigV4 signing.",code:"UnsupportedSigner",retryable:!1})}function bm(t){var e=t.httpRequest.endpoint,r=we.util.urlParse(t.httpRequest.path),i={};r.search&&(i=we.util.queryStringParse(r.search.substr(1)));var n=t.httpRequest.headers.Authorization.split(" ");if(n[0]==="AWS")n=n[1].split(":"),i.Signature=n.pop(),i.AWSAccessKeyId=n.join(":"),we.util.each(t.httpRequest.headers,function(a,u){a===or&&(a="Expires"),a.indexOf("x-amz-meta-")===0&&(delete i[a],a=a.toLowerCase()),i[a]=u}),delete t.httpRequest.headers[or],delete i.Authorization,delete i.Host;else if(n[0]==="AWS4-HMAC-SHA256"){n.shift();var s=n.join(" "),o=s.match(/Signature=(.*?)(?:,|\s|\r?\n|$)/)[1];i["X-Amz-Signature"]=o,delete i.Expires}e.pathname=r.pathname,e.search=we.util.queryParamsToString(i)}we.Signers.Presign=xm({sign:function(e,r,i){if(e.httpRequest.headers[or]=r||3600,e.on("build",Am),e.on("sign",bm),e.removeListener("afterBuild",we.EventListeners.Core.SET_CONTENT_LENGTH),e.removeListener("afterBuild",we.EventListeners.Core.COMPUTE_SHA256),e.emit("beforePresign",[e]),i)e.build(function(){this.response.error?i(this.response.error):i(null,we.util.urlFormat(e.httpRequest.endpoint))});else{if(e.build(),e.response.error)throw e.response.error;return we.util.urlFormat(e.httpRequest.endpoint)}}});xu.exports=we.Signers.Presign});var bu=I(()=>{var qi=V();qi.Signers.Bearer=qi.util.inherit(qi.Signers.RequestSigner,{constructor:function(e){qi.Signers.RequestSigner.call(this,e)},addAuthorization:function(e){this.request.headers.Authorization="Bearer "+e.token}})});var Ru=I(()=>{var nt=V(),Rm=nt.util.inherit;nt.Signers.RequestSigner=Rm({constructor:function(e){this.request=e},setServiceClientId:function(e){this.serviceClientId=e},getServiceClientId:function(){return this.serviceClientId}});nt.Signers.RequestSigner.getVersion=function(e){switch(e){case"v2":return nt.Signers.V2;case"v3":return nt.Signers.V3;case"s3v4":return nt.Signers.V4;case"v4":return nt.Signers.V4;case"s3":return nt.Signers.S3;case"v3https":return nt.Signers.V3Https;case"bearer":return nt.Signers.Bearer}throw new Error("Unknown signing version "+e)};du();ns();vu();Tu();_u();Au();bu()});var Iu=I(()=>{var Ye=V();Ye.ParamValidator=Ye.util.inherit({constructor:function(e){(e===!0||e===void 0)&&(e={min:!0}),this.validation=e},validate:function(e,r,i){if(this.errors=[],this.validateMember(e,r||{},i||"params"),this.errors.length>1){var n=this.errors.join(`
* `);throw n="There were "+this.errors.length+` validation errors:
* `+n,Ye.util.error(new Error(n),{code:"MultipleValidationErrors",errors:this.errors})}else{if(this.errors.length===1)throw this.errors[0];return!0}},fail:function(e,r){this.errors.push(Ye.util.error(new Error(r),{code:e}))},validateStructure:function(e,r,i){if(e.isDocument)return!0;this.validateType(r,i,["object"],"structure");for(var n,s=0;e.required&&s<e.required.length;s++){n=e.required[s];var o=r[n];o==null&&this.fail("MissingRequiredParameter","Missing required key '"+n+"' in "+i)}for(n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var a=r[n],u=e.members[n];if(u!==void 0){var c=[i,n].join(".");this.validateMember(u,a,c)}else a!=null&&this.fail("UnexpectedParameter","Unexpected key '"+n+"' found in "+i)}return!0},validateMember:function(e,r,i){switch(e.type){case"structure":return this.validateStructure(e,r,i);case"list":return this.validateList(e,r,i);case"map":return this.validateMap(e,r,i);default:return this.validateScalar(e,r,i)}},validateList:function(e,r,i){if(this.validateType(r,i,[Array])){this.validateRange(e,r.length,i,"list member count");for(var n=0;n<r.length;n++)this.validateMember(e.member,r[n],i+"["+n+"]")}},validateMap:function(e,r,i){if(this.validateType(r,i,["object"],"map")){var n=0;for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(this.validateMember(e.key,s,i+"[key='"+s+"']"),this.validateMember(e.value,r[s],i+"['"+s+"']"),n++);this.validateRange(e,n,i,"map member count")}},validateScalar:function(e,r,i){switch(e.type){case null:case void 0:case"string":return this.validateString(e,r,i);case"base64":case"binary":return this.validatePayload(r,i);case"integer":case"float":return this.validateNumber(e,r,i);case"boolean":return this.validateType(r,i,["boolean"]);case"timestamp":return this.validateType(r,i,[Date,/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z$/,"number"],"Date object, ISO-8601 string, or a UNIX timestamp");default:return this.fail("UnkownType","Unhandled type "+e.type+" for "+i)}},validateString:function(e,r,i){var n=["string"];e.isJsonValue&&(n=n.concat(["number","object","boolean"])),r!==null&&this.validateType(r,i,n)&&(this.validateEnum(e,r,i),this.validateRange(e,r.length,i,"string length"),this.validatePattern(e,r,i),this.validateUri(e,r,i))},validateUri:function(e,r,i){e.location==="uri"&&r.length===0&&this.fail("UriParameterError",'Expected uri parameter to have length >= 1, but found "'+r+'" for '+i)},validatePattern:function(e,r,i){this.validation.pattern&&e.pattern!==void 0&&(new RegExp(e.pattern).test(r)||this.fail("PatternMatchError",'Provided value "'+r+'" does not match regex pattern /'+e.pattern+"/ for "+i))},validateRange:function(e,r,i,n){this.validation.min&&e.min!==void 0&&r<e.min&&this.fail("MinRangeError","Expected "+n+" >= "+e.min+", but found "+r+" for "+i),this.validation.max&&e.max!==void 0&&r>e.max&&this.fail("MaxRangeError","Expected "+n+" <= "+e.max+", but found "+r+" for "+i)},validateEnum:function(e,r,i){this.validation.enum&&e.enum!==void 0&&e.enum.indexOf(r)===-1&&this.fail("EnumError","Found string value of "+r+", but expected "+e.enum.join("|")+" for "+i)},validateType:function(e,r,i,n){if(e==null)return!1;for(var s=!1,o=0;o<i.length;o++){if(typeof i[o]=="string"){if(typeof e===i[o])return!0}else if(i[o]instanceof RegExp){if((e||"").toString().match(i[o]))return!0}else{if(e instanceof i[o]||Ye.util.isType(e,i[o]))return!0;!n&&!s&&(i=i.slice()),i[o]=Ye.util.typeName(i[o])}s=!0}var a=n;a||(a=i.join(", ").replace(/,([^,]+)$/,", or$1"));var u=a.match(/^[aeiou]/i)?"n":"";return this.fail("InvalidParameterType","Expected "+r+" to be a"+u+" "+a),!1},validateNumber:function(e,r,i){if(r!=null){if(typeof r=="string"){var n=parseFloat(r);n.toString()===r&&(r=n)}this.validateType(r,i,["number"])&&this.validateRange(e,r,i,"numeric value")}},validatePayload:function(e,r){if(e!=null&&typeof e!="string"&&!(e&&typeof e.byteLength=="number")){if(Ye.util.isNode()){var i=Ye.util.stream.Stream;if(Ye.util.Buffer.isBuffer(e)||e instanceof i)return}else if(typeof Blob!==void 0&&e instanceof Blob)return;var n=["Buffer","Stream","File","Blob","ArrayBuffer","DataView"];if(e){for(var s=0;s<n.length;s++)if(Ye.util.isType(e,n[s])||Ye.util.typeName(e.constructor)===n[s])return}this.fail("InvalidParameterType","Expected "+r+" to be a string, Buffer, Stream, Blob, or typed array object")}}})});var Pu=I((vE,ss)=>{var Im=[`We are formalizing our plans to enter AWS SDK for JavaScript (v2) into maintenance mode in 2023.
`,"Please migrate your code to use AWS SDK for JavaScript (v3).","For more information, check the migration guide at https://a.co/7PzMCcy"].join(`
`);ss.exports={suppress:!1};function Pm(){typeof process<"u"&&typeof process.emitWarning=="function"&&process.emitWarning(Im,{type:"NOTE"})}setTimeout(function(){ss.exports.suppress||Pm()},0)});var V=I((gE,Nu)=>{var yt={util:le()},Nm={};Nm.toString();Nu.exports=yt;yt.util.update(yt,{VERSION:"2.1331.0",Signers:{},Protocol:{Json:mi(),Query:Mn(),Rest:yr(),RestJson:Un(),RestXml:jn()},XML:{Builder:ba(),Parser:null},JSON:{Builder:fi(),Parser:di()},Model:{Api:Xn(),Operation:Wn(),Shape:vr(),Paginator:Hn(),ResourceWaiter:zn()},apiLoader:La(),EndpointCache:Fa().EndpointCache});Yn();za();Ka();_i();iu();au();cu();fu();Ru();Iu();Pu();yt.events=new yt.SequentialExecutor;yt.util.memoizedProperty(yt,"endpointCache",function(){return new yt.EndpointCache(yt.config.endpointCacheSize)},!0)});var as=I(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.default=km;var Dm=qm(require("crypto"));function qm(t){return t&&t.__esModule?t:{default:t}}function km(){return Dm.default.randomBytes(16)}});var Oi=I(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.default=void 0;var Du=[];for(Rr=0;Rr<256;++Rr)Du[Rr]=(Rr+256).toString(16).substr(1);var Rr;function Om(t,e){var r=e||0,i=Du;return[i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]]].join("")}var Lm=Om;ki.default=Lm});var Ou=I(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.default=void 0;var Mm=ku(as()),Fm=ku(Oi());function ku(t){return t&&t.__esModule?t:{default:t}}var qu,us,cs=0,ls=0;function Bm(t,e,r){var i=e&&r||0,n=e||[];t=t||{};var s=t.node||qu,o=t.clockseq!==void 0?t.clockseq:us;if(s==null||o==null){var a=t.random||(t.rng||Mm.default)();s==null&&(s=qu=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=us=(a[6]<<8|a[7])&16383)}var u=t.msecs!==void 0?t.msecs:new Date().getTime(),c=t.nsecs!==void 0?t.nsecs:ls+1,l=u-cs+(c-ls)/1e4;if(l<0&&t.clockseq===void 0&&(o=o+1&16383),(l<0||u>cs)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");cs=u,ls=c,us=o,u+=122192928e5;var d=((u&268435455)*1e4+c)%4294967296;n[i++]=d>>>24&255,n[i++]=d>>>16&255,n[i++]=d>>>8&255,n[i++]=d&255;var v=u/4294967296*1e4&268435455;n[i++]=v>>>8&255,n[i++]=v&255,n[i++]=v>>>24&15|16,n[i++]=v>>>16&255,n[i++]=o>>>8|128,n[i++]=o&255;for(var x=0;x<6;++x)n[i+x]=s[x];return e||(0,Fm.default)(n)}var Um=Bm;Li.default=Um});var fs=I(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.default=zm;Ut.URL=Ut.DNS=void 0;var Vm=jm(Oi());function jm(t){return t&&t.__esModule?t:{default:t}}function Wm(t){var e=[];return t.replace(/[a-fA-F0-9]{2}/g,function(r){e.push(parseInt(r,16))}),e}function Hm(t){t=unescape(encodeURIComponent(t));for(var e=new Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}var Lu="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Ut.DNS=Lu;var Mu="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Ut.URL=Mu;function zm(t,e,r){var i=function(n,s,o,a){var u=o&&a||0;if(typeof n=="string"&&(n=Hm(n)),typeof s=="string"&&(s=Wm(s)),!Array.isArray(n))throw TypeError("value must be an array of bytes");if(!Array.isArray(s)||s.length!==16)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var c=r(s.concat(n));if(c[6]=c[6]&15|e,c[8]=c[8]&63|128,o)for(var l=0;l<16;++l)o[u+l]=c[l];return o||(0,Vm.default)(c)};try{i.name=t}catch{}return i.DNS=Lu,i.URL=Mu,i}});var Fu=I(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.default=void 0;var Km=Xm(require("crypto"));function Xm(t){return t&&t.__esModule?t:{default:t}}function Gm(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),Km.default.createHash("md5").update(t).digest()}var $m=Gm;Mi.default=$m});var Uu=I(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.default=void 0;var Ym=Bu(fs()),Jm=Bu(Fu());function Bu(t){return t&&t.__esModule?t:{default:t}}var Qm=(0,Ym.default)("v3",48,Jm.default),Zm=Qm;Fi.default=Zm});var ju=I(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.default=void 0;var ev=Vu(as()),tv=Vu(Oi());function Vu(t){return t&&t.__esModule?t:{default:t}}function rv(t,e,r){var i=e&&r||0;typeof t=="string"&&(e=t==="binary"?new Array(16):null,t=null),t=t||{};var n=t.random||(t.rng||ev.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e)for(var s=0;s<16;++s)e[i+s]=n[s];return e||(0,tv.default)(n)}var iv=rv;Bi.default=iv});var Wu=I(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.default=void 0;var nv=sv(require("crypto"));function sv(t){return t&&t.__esModule?t:{default:t}}function ov(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),nv.default.createHash("sha1").update(t).digest()}var av=ov;Ui.default=av});var zu=I(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.default=void 0;var uv=Hu(fs()),cv=Hu(Wu());function Hu(t){return t&&t.__esModule?t:{default:t}}var lv=(0,uv.default)("v5",80,cv.default),fv=lv;Vi.default=fv});var Ku=I(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});Object.defineProperty(ar,"v1",{enumerable:!0,get:function(){return pv.default}});Object.defineProperty(ar,"v3",{enumerable:!0,get:function(){return dv.default}});Object.defineProperty(ar,"v4",{enumerable:!0,get:function(){return hv.default}});Object.defineProperty(ar,"v5",{enumerable:!0,get:function(){return mv.default}});var pv=ji(Ou()),dv=ji(Uu()),hv=ji(ju()),mv=ji(zu());function ji(t){return t&&t.__esModule?t:{default:t}}});var le=I((RE,Xu)=>{var He,L={environment:"nodejs",engine:function(){if(L.isBrowser()&&typeof navigator<"u")return navigator.userAgent;var e=process.platform+"/"+process.version;return process.env.AWS_EXECUTION_ENV&&(e+=" exec-env/"+process.env.AWS_EXECUTION_ENV),e},userAgent:function(){var e=L.environment,r="aws-sdk-"+e+"/"+V().VERSION;return e==="nodejs"&&(r+=" "+L.engine()),r},uriEscape:function(e){var r=encodeURIComponent(e);return r=r.replace(/[^A-Za-z0-9_.~\-%]+/g,escape),r=r.replace(/[*]/g,function(i){return"%"+i.charCodeAt(0).toString(16).toUpperCase()}),r},uriEscapePath:function(e){var r=[];return L.arrayEach(e.split("/"),function(i){r.push(L.uriEscape(i))}),r.join("/")},urlParse:function(e){return L.url.parse(e)},urlFormat:function(e){return L.url.format(e)},queryStringParse:function(e){return L.querystring.parse(e)},queryParamsToString:function(e){var r=[],i=L.uriEscape,n=Object.keys(e).sort();return L.arrayEach(n,function(s){var o=e[s],a=i(s),u=a+"=";if(Array.isArray(o)){var c=[];L.arrayEach(o,function(l){c.push(i(l))}),u=a+"="+c.sort().join("&"+a+"=")}else o!=null&&(u=a+"="+i(o));r.push(u)}),r.join("&")},readFileSync:function(e){return L.isBrowser()?null:require("fs").readFileSync(e,"utf-8")},base64:{encode:function(e){if(typeof e=="number")throw L.error(new Error("Cannot base64 encode number "+e));if(e===null||typeof e>"u")return e;var r=L.buffer.toBuffer(e);return r.toString("base64")},decode:function(e){if(typeof e=="number")throw L.error(new Error("Cannot base64 decode number "+e));return e===null||typeof e>"u"?e:L.buffer.toBuffer(e,"base64")}},buffer:{toBuffer:function(t,e){return typeof L.Buffer.from=="function"&&L.Buffer.from!==Uint8Array.from?L.Buffer.from(t,e):new L.Buffer(t,e)},alloc:function(t,e,r){if(typeof t!="number")throw new Error("size passed to alloc must be a number.");if(typeof L.Buffer.alloc=="function")return L.Buffer.alloc(t,e,r);var i=new L.Buffer(t);return e!==void 0&&typeof i.fill=="function"&&i.fill(e,void 0,void 0,r),i},toStream:function(e){L.Buffer.isBuffer(e)||(e=L.buffer.toBuffer(e));var r=new L.stream.Readable,i=0;return r._read=function(n){if(i>=e.length)return r.push(null);var s=i+n;s>e.length&&(s=e.length),r.push(e.slice(i,s)),i=s},r},concat:function(t){var e=0,r=0,i=null,n;for(n=0;n<t.length;n++)e+=t[n].length;for(i=L.buffer.alloc(e),n=0;n<t.length;n++)t[n].copy(i,r),r+=t[n].length;return i}},string:{byteLength:function(e){if(e==null)return 0;if(typeof e=="string"&&(e=L.buffer.toBuffer(e)),typeof e.byteLength=="number")return e.byteLength;if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size;if(typeof e.path=="string")return require("fs").lstatSync(e.path).size;throw L.error(new Error("Cannot determine length of "+e),{object:e})},upperFirst:function(e){return e[0].toUpperCase()+e.substr(1)},lowerFirst:function(e){return e[0].toLowerCase()+e.substr(1)}},ini:{parse:function(e){var r,i={};return L.arrayEach(e.split(/\r?\n/),function(n){n=n.split(/(^|\s)[;#]/)[0].trim();var s=n[0]==="["&&n[n.length-1]==="]";if(s){if(r=n.substring(1,n.length-1),r==="__proto__"||r.split(/\s/)[1]==="__proto__")throw L.error(new Error("Cannot load profile name '"+r+"' from shared ini file."))}else if(r){var o=n.indexOf("="),a=0,u=n.length-1,c=o!==-1&&o!==a&&o!==u;if(c){var l=n.substring(0,o).trim(),d=n.substring(o+1).trim();i[r]=i[r]||{},i[r][l]=d}}}),i}},fn:{noop:function(){},callback:function(t){if(t)throw t},makeAsync:function(e,r){return r&&r<=e.length?e:function(){var i=Array.prototype.slice.call(arguments,0),n=i.pop(),s=e.apply(null,i);n(s)}}},date:{getDate:function(){return He||(He=V()),He.config.systemClockOffset?new Date(new Date().getTime()+He.config.systemClockOffset):new Date},iso8601:function(e){return e===void 0&&(e=L.date.getDate()),e.toISOString().replace(/\.\d{3}Z$/,"Z")},rfc822:function(e){return e===void 0&&(e=L.date.getDate()),e.toUTCString()},unixTimestamp:function(e){return e===void 0&&(e=L.date.getDate()),e.getTime()/1e3},from:function(e){return typeof e=="number"?new Date(e*1e3):new Date(e)},format:function(e,r){return r||(r="iso8601"),L.date[r](L.date.from(e))},parseTimestamp:function(e){if(typeof e=="number")return new Date(e*1e3);if(e.match(/^\d+$/))return new Date(e*1e3);if(e.match(/^\d{4}/))return new Date(e);if(e.match(/^\w{3},/))return new Date(e);throw L.error(new Error("unhandled timestamp format: "+e),{code:"TimestampParserError"})}},crypto:{crc32Table:[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],crc32:function(e){var r=L.crypto.crc32Table,i=-1;typeof e=="string"&&(e=L.buffer.toBuffer(e));for(var n=0;n<e.length;n++){var s=e.readUInt8(n);i=i>>>8^r[(i^s)&255]}return(i^-1)>>>0},hmac:function(e,r,i,n){return i||(i="binary"),i==="buffer"&&(i=void 0),n||(n="sha256"),typeof r=="string"&&(r=L.buffer.toBuffer(r)),L.crypto.lib.createHmac(n,e).update(r).digest(i)},md5:function(e,r,i){return L.crypto.hash("md5",e,r,i)},sha256:function(e,r,i){return L.crypto.hash("sha256",e,r,i)},hash:function(t,e,r,i){var n=L.crypto.createHash(t);r||(r="binary"),r==="buffer"&&(r=void 0),typeof e=="string"&&(e=L.buffer.toBuffer(e));var s=L.arraySliceFn(e),o=L.Buffer.isBuffer(e);if(L.isBrowser()&&typeof ArrayBuffer<"u"&&e&&e.buffer instanceof ArrayBuffer&&(o=!0),i&&typeof e=="object"&&typeof e.on=="function"&&!o)e.on("data",function(d){n.update(d)}),e.on("error",function(d){i(d)}),e.on("end",function(){i(null,n.digest(r))});else if(i&&s&&!o&&typeof FileReader<"u"){var a=0,u=1024*512,c=new FileReader;c.onerror=function(){i(new Error("Failed to read data."))},c.onload=function(){var d=new L.Buffer(new Uint8Array(c.result));n.update(d),a+=d.length,c._continueReading()},c._continueReading=function(){if(a>=e.size){i(null,n.digest(r));return}var d=a+u;d>e.size&&(d=e.size),c.readAsArrayBuffer(s.call(e,a,d))},c._continueReading()}else{L.isBrowser()&&typeof e=="object"&&!o&&(e=new L.Buffer(new Uint8Array(e)));var l=n.update(e).digest(r);return i&&i(null,l),l}},toHex:function(e){for(var r=[],i=0;i<e.length;i++)r.push(("0"+e.charCodeAt(i).toString(16)).substr(-2,2));return r.join("")},createHash:function(e){return L.crypto.lib.createHash(e)}},abort:{},each:function(e,r){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=r.call(this,i,e[i]);if(n===L.abort)break}},arrayEach:function(e,r){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=r.call(this,e[i],parseInt(i,10));if(n===L.abort)break}},update:function(e,r){return L.each(r,function(n,s){e[n]=s}),e},merge:function(e,r){return L.update(L.copy(e),r)},copy:function(e){if(e==null)return e;var r={};for(var i in e)r[i]=e[i];return r},isEmpty:function(e){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))return!1;return!0},arraySliceFn:function(e){var r=e.slice||e.webkitSlice||e.mozSlice;return typeof r=="function"?r:null},isType:function(e,r){return typeof r=="function"&&(r=L.typeName(r)),Object.prototype.toString.call(e)==="[object "+r+"]"},typeName:function(e){if(Object.prototype.hasOwnProperty.call(e,"name"))return e.name;var r=e.toString(),i=r.match(/^\s*function (.+)\(/);return i?i[1]:r},error:function(e,r){var i=null;return typeof e.message=="string"&&e.message!==""&&(typeof r=="string"||r&&r.message)&&(i=L.copy(e),i.message=e.message),e.message=e.message||null,typeof r=="string"?e.message=r:typeof r=="object"&&r!==null&&(L.update(e,r),r.message&&(e.message=r.message),(r.code||r.name)&&(e.code=r.code||r.name),r.stack&&(e.stack=r.stack)),typeof Object.defineProperty=="function"&&(Object.defineProperty(e,"name",{writable:!0,enumerable:!1}),Object.defineProperty(e,"message",{enumerable:!0})),e.name=String(r&&r.name||e.name||e.code||"Error"),e.time=new Date,i&&(e.originalError=i),e},inherit:function(e,r){var i=null;if(r===void 0)r=e,e=Object,i={};else{var n=function(){};n.prototype=e.prototype,i=new n}return r.constructor===Object&&(r.constructor=function(){if(e!==Object)return e.apply(this,arguments)}),r.constructor.prototype=i,L.update(r.constructor.prototype,r),r.constructor.__super__=e,r.constructor},mixin:function(){for(var e=arguments[0],r=1;r<arguments.length;r++)for(var i in arguments[r].prototype){var n=arguments[r].prototype[i];i!=="constructor"&&(e.prototype[i]=n)}return e},hideProperties:function(e,r){typeof Object.defineProperty=="function"&&L.arrayEach(r,function(i){Object.defineProperty(e,i,{enumerable:!1,writable:!0,configurable:!0})})},property:function(e,r,i,n,s){var o={configurable:!0,enumerable:n!==void 0?n:!0};typeof i=="function"&&!s?o.get=i:(o.value=i,o.writable=!0),Object.defineProperty(e,r,o)},memoizedProperty:function(e,r,i,n){var s=null;L.property(e,r,function(){return s===null&&(s=i()),s},n)},hoistPayloadMember:function(e){var r=e.request,i=r.operation,n=r.service.api.operations[i],s=n.output;if(s.payload&&!n.hasEventOutput){var o=s.members[s.payload],a=e.data[s.payload];o.type==="structure"&&L.each(a,function(u,c){L.property(e.data,u,c,!1)})}},computeSha256:function(e,r){if(L.isNode()){var i=L.stream.Stream,n=require("fs");if(typeof i=="function"&&e instanceof i)if(typeof e.path=="string"){var s={};typeof e.start=="number"&&(s.start=e.start),typeof e.end=="number"&&(s.end=e.end),e=n.createReadStream(e.path,s)}else return r(new Error("Non-file stream objects are not supported with SigV4"))}L.crypto.sha256(e,"hex",function(o,a){o?r(o):r(null,a)})},isClockSkewed:function(e){if(e)return L.property(He.config,"isClockSkewed",Math.abs(new Date().getTime()-e)>=3e5,!1),He.config.isClockSkewed},applyClockOffset:function(e){e&&(He.config.systemClockOffset=e-new Date().getTime())},extractRequestId:function(e){var r=e.httpResponse.headers["x-amz-request-id"]||e.httpResponse.headers["x-amzn-requestid"];!r&&e.data&&e.data.ResponseMetadata&&(r=e.data.ResponseMetadata.RequestId),r&&(e.requestId=r),e.error&&(e.error.requestId=r)},addPromises:function(e,r){var i=!1;r===void 0&&He&&He.config&&(r=He.config.getPromisesDependency()),r===void 0&&typeof Promise<"u"&&(r=Promise),typeof r!="function"&&(i=!0),Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var s=e[n];i?s.deletePromisesFromClass&&s.deletePromisesFromClass():s.addPromisesToClass&&s.addPromisesToClass(r)}},promisifyMethod:function(e,r){return function(){var n=this,s=Array.prototype.slice.call(arguments);return new r(function(o,a){s.push(function(u,c){u?a(u):o(c)}),n[e].apply(n,s)})}},isDualstackAvailable:function(e){if(!e)return!1;var r=Kn();return typeof e!="string"&&(e=e.serviceIdentifier),typeof e!="string"||!r.hasOwnProperty(e)?!1:!!r[e].dualstackAvailable},calculateRetryDelay:function(e,r,i){r||(r={});var n=r.customBackoff||null;if(typeof n=="function")return n(e,i);var s=typeof r.base=="number"?r.base:100,o=Math.random()*(Math.pow(2,e)*s);return o},handleRequestWithRetries:function(e,r,i){r||(r={});var n=He.HttpClient.getInstance(),s=r.httpOptions||{},o=0,a=function(c){var l=r.maxRetries||0;if(c&&c.code==="TimeoutError"&&(c.retryable=!0),c&&c.retryable&&o<l){var d=L.calculateRetryDelay(o,r.retryDelayOptions,c);if(d>=0){o++,setTimeout(u,d+(c.retryAfter||0));return}}i(c)},u=function(){var c="";n.handleRequest(e,s,function(l){l.on("data",function(d){c+=d.toString()}),l.on("end",function(){var d=l.statusCode;if(d<300)i(null,c);else{var v=parseInt(l.headers["retry-after"],10)*1e3||0,x=L.error(new Error,{statusCode:d,retryable:d>=500||d===429});v&&x.retryable&&(x.retryAfter=v),a(x)}})},a)};He.util.defer(u)},uuid:{v4:function(){return Ku().v4()}},convertPayloadToString:function(e){var r=e.request,i=r.operation,n=r.service.api.operations[i].output||{};n.payload&&e.data[n.payload]&&(e.data[n.payload]=e.data[n.payload].toString())},defer:function(e){typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick(e):typeof setImmediate=="function"?setImmediate(e):setTimeout(e,0)},getRequestPayloadShape:function(e){var r=e.service.api.operations;if(r){var i=(r||{})[e.operation];if(!(!i||!i.input||!i.input.payload))return i.input.members[i.input.payload]}},getProfilesFromSharedConfig:function(e,r){var i={},n={};if(process.env[L.configOptInEnv])var n=e.loadFrom({isConfig:!0,filename:process.env[L.sharedConfigFileEnv]});var s={};try{var s=e.loadFrom({filename:r||process.env[L.configOptInEnv]&&process.env[L.sharedCredentialsFileEnv]})}catch(c){if(!process.env[L.configOptInEnv])throw c}for(var o=0,a=Object.keys(n);o<a.length;o++)i[a[o]]=u(i[a[o]]||{},n[a[o]]);for(var o=0,a=Object.keys(s);o<a.length;o++)i[a[o]]=u(i[a[o]]||{},s[a[o]]);return i;function u(c,l){for(var d=0,v=Object.keys(l);d<v.length;d++)c[v[d]]=l[v[d]];return c}},ARN:{validate:function(e){return e&&e.indexOf("arn:")===0&&e.split(":").length>=6},parse:function(e){var r=e.split(":");return{partition:r[1],service:r[2],region:r[3],accountId:r[4],resource:r.slice(5).join(":")}},build:function(e){if(e.service===void 0||e.region===void 0||e.accountId===void 0||e.resource===void 0)throw L.error(new Error("Input ARN object is invalid"));return"arn:"+(e.partition||"aws")+":"+e.service+":"+e.region+":"+e.accountId+":"+e.resource}},defaultProfile:"default",configOptInEnv:"AWS_SDK_LOAD_CONFIG",sharedCredentialsFileEnv:"AWS_SHARED_CREDENTIALS_FILE",sharedConfigFileEnv:"AWS_CONFIG_FILE",imdsDisabledEnv:"AWS_EC2_METADATA_DISABLED"};Xu.exports=L});var Ju=I((IE,Yu)=>{var vv=V().util,Gu=require("stream").Transform,$u=vv.buffer.alloc;function Ir(t){Gu.call(this,t),this.currentMessageTotalLength=0,this.currentMessagePendingLength=0,this.currentMessage=null,this.messageLengthBuffer=null}Ir.prototype=Object.create(Gu.prototype);Ir.prototype._transform=function(t,e,r){for(var i=t.length,n=0;n<i;){if(!this.currentMessage){var s=i-n;this.messageLengthBuffer||(this.messageLengthBuffer=$u(4));var o=Math.min(4-this.currentMessagePendingLength,s);if(t.copy(this.messageLengthBuffer,this.currentMessagePendingLength,n,n+o),this.currentMessagePendingLength+=o,n+=o,this.currentMessagePendingLength<4)break;this.allocateMessage(this.messageLengthBuffer.readUInt32BE(0)),this.messageLengthBuffer=null}var a=Math.min(this.currentMessageTotalLength-this.currentMessagePendingLength,i-n);t.copy(this.currentMessage,this.currentMessagePendingLength,n,n+a),this.currentMessagePendingLength+=a,n+=a,this.currentMessageTotalLength&&this.currentMessageTotalLength===this.currentMessagePendingLength&&(this.push(this.currentMessage),this.currentMessage=null,this.currentMessageTotalLength=0,this.currentMessagePendingLength=0)}r()};Ir.prototype._flush=function(t){this.currentMessageTotalLength?this.currentMessageTotalLength===this.currentMessagePendingLength?t(null,this.currentMessage):t(new Error("Truncated event message received.")):t()};Ir.prototype.allocateMessage=function(t){if(typeof t!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+t);this.currentMessageTotalLength=t,this.currentMessagePendingLength=4,this.currentMessage=$u(t),this.currentMessage.writeUInt32BE(t,0)};Yu.exports={EventMessageChunkerStream:Ir}});var tc=I((PE,ec)=>{var Qu=V().util,gv=Qu.buffer.toBuffer;function Pr(t){if(t.length!==8)throw new Error("Int64 buffers must be exactly 8 bytes");Qu.Buffer.isBuffer(t)||(t=gv(t)),this.bytes=t}Pr.fromNumber=function(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(t+" is too large (or, if negative, too small) to represent as an Int64");for(var e=new Uint8Array(8),r=7,i=Math.abs(Math.round(t));r>-1&&i>0;r--,i/=256)e[r]=i;return t<0&&Zu(e),new Pr(e)};Pr.prototype.valueOf=function(){var t=this.bytes.slice(0),e=t[0]&128;return e&&Zu(t),parseInt(t.toString("hex"),16)*(e?-1:1)};Pr.prototype.toString=function(){return String(this.valueOf())};function Zu(t){for(var e=0;e<8;e++)t[e]^=255;for(var e=7;e>-1&&(t[e]++,t[e]===0);e--);}ec.exports={Int64:Pr}});var nc=I((NE,ic)=>{var Wi=V().util,yv=Wi.buffer.toBuffer,rc=4,Hi=rc*2,Nr=4,Ev=Hi+Nr*2;function Sv(t){if(Wi.Buffer.isBuffer(t)||(t=yv(t)),t.length<Ev)throw new Error("Provided message too short to accommodate event stream message overhead");if(t.length!==t.readUInt32BE(0))throw new Error("Reported message length does not match received message length");var e=t.readUInt32BE(Hi);if(e!==Wi.crypto.crc32(t.slice(0,Hi)))throw new Error("The prelude checksum specified in the message ("+e+") does not match the calculated CRC32 checksum.");var r=t.readUInt32BE(t.length-Nr);if(r!==Wi.crypto.crc32(t.slice(0,t.length-Nr)))throw new Error("The message checksum did not match the expected value of "+r);var i=Hi+Nr,n=i+t.readUInt32BE(rc);return{headers:t.slice(i,n),body:t.slice(n,t.length-Nr)}}ic.exports={splitMessage:Sv}});var uc=I((DE,ac)=>{var sc=tc().Int64,wv=nc().splitMessage,oc="boolean",Tv="byte",Cv="short",_v="integer",xv="long",Av="binary",bv="string",Rv="timestamp",Iv="uuid";function Pv(t){for(var e={},r=0;r<t.length;){var i=t.readUInt8(r++),n=t.slice(r,r+i).toString();switch(r+=i,t.readUInt8(r++)){case 0:e[n]={type:oc,value:!0};break;case 1:e[n]={type:oc,value:!1};break;case 2:e[n]={type:Tv,value:t.readInt8(r++)};break;case 3:e[n]={type:Cv,value:t.readInt16BE(r)},r+=2;break;case 4:e[n]={type:_v,value:t.readInt32BE(r)},r+=4;break;case 5:e[n]={type:xv,value:new sc(t.slice(r,r+8))},r+=8;break;case 6:var s=t.readUInt16BE(r);r+=2,e[n]={type:Av,value:t.slice(r,r+s)},r+=s;break;case 7:var o=t.readUInt16BE(r);r+=2,e[n]={type:bv,value:t.slice(r,r+o).toString()},r+=o;break;case 8:e[n]={type:Rv,value:new Date(new sc(t.slice(r,r+8)).valueOf())},r+=8;break;case 9:var a=t.slice(r,r+16).toString("hex");r+=16,e[n]={type:Iv,value:a.substr(0,8)+"-"+a.substr(8,4)+"-"+a.substr(12,4)+"-"+a.substr(16,4)+"-"+a.substr(20)};break;default:throw new Error("Unrecognized header type tag")}}return e}function Nv(t){var e=wv(t);return{headers:Pv(e.headers),body:e.body}}ac.exports={parseMessage:Nv}});var ps=I((qE,cc)=>{var Dv=uc().parseMessage;function qv(t,e,r){var i=Dv(e),n=i.headers[":message-type"];if(n){if(n.value==="error")throw kv(i);if(n.value!=="event")return}var s=i.headers[":event-type"],o=r.members[s.value];if(o){var a={},u=o.eventPayloadMemberName;if(u){var c=o.members[u];c.type==="binary"?a[u]=i.body:a[u]=t.parse(i.body.toString(),c)}for(var l=o.eventHeaderMemberNames,d=0;d<l.length;d++){var v=l[d];i.headers[v]&&(a[v]=o.members[v].toType(i.headers[v].value))}var x={};return x[s.value]=a,x}}function kv(t){var e=t.headers[":error-code"],r=t.headers[":error-message"],i=new Error(r.value||r);return i.code=i.name=e.value||e,i}cc.exports={parseEvent:qv}});var pc=I((kE,fc)=>{var lc=require("stream").Transform,Ov=ps().parseEvent;function ds(t){t=t||{},t.readableObjectMode=!0,lc.call(this,t),this._readableState.objectMode=!0,this.parser=t.parser,this.eventStreamModel=t.eventStreamModel}ds.prototype=Object.create(lc.prototype);ds.prototype._transform=function(t,e,r){try{var i=Ov(this.parser,t,this.eventStreamModel);return this.push(i),r()}catch(n){r(n)}};fc.exports={EventUnmarshallerStream:ds}});var hc=I((OE,dc)=>{var Lv=Ju().EventMessageChunkerStream,Mv=pc().EventUnmarshallerStream;function Fv(t,e,r){var i=new Mv({parser:e,eventStreamModel:r}),n=new Lv;return t.pipe(n).pipe(i),t.on("error",function(s){n.emit("error",s)}),n.on("error",function(s){i.emit("error",s)}),i}dc.exports={createEventStream:Fv}});var vc=I((LE,mc)=>{function Bv(t){for(var e=[],r=0;r<t.length;){var i=t.readInt32BE(r),n=t.slice(r,i+r);r+=i,e.push(n)}return e}mc.exports={eventMessageChunker:Bv}});var yc=I((ME,gc)=>{var Uv=vc().eventMessageChunker,Vv=ps().parseEvent;function jv(t,e,r){for(var i=Uv(t),n=[],s=0;s<i.length;s++)n.push(Vv(e,i[s],r));return n}gc.exports={createEventStream:jv}});var Sc=I((FE,Ec)=>{Ec.exports={now:function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6}}});var Tc=I((BE,wc)=>{var Wv=V().util,Hv=require("dgram"),zv=Wv.buffer.toBuffer,Kv=1024*8;function Vt(t){t=t||{},this.enabled=t.enabled||!1,this.port=t.port||31e3,this.clientId=t.clientId||"",this.address=t.host||"127.0.0.1",this.clientId.length>255&&(this.clientId=this.clientId.substr(0,255)),this.messagesInFlight=0}Vt.prototype.fieldsToTrim={UserAgent:256,SdkException:128,SdkExceptionMessage:512,AwsException:128,AwsExceptionMessage:512,FinalSdkException:128,FinalSdkExceptionMessage:512,FinalAwsException:128,FinalAwsExceptionMessage:512};Vt.prototype.trimFields=function(t){for(var e=Object.keys(this.fieldsToTrim),r=0,i=e.length;r<i;r++){var n=e[r];if(t.hasOwnProperty(n)){var s=this.fieldsToTrim[n],o=t[n];o&&o.length>s&&(t[n]=o.substr(0,s))}}return t};Vt.prototype.eventHandler=function(t){t.ClientId=this.clientId,this.trimFields(t);var e=zv(JSON.stringify(t));!this.enabled||e.length>Kv||this.publishDatagram(e)};Vt.prototype.publishDatagram=function(t){var e=this,r=this.getClient();this.messagesInFlight++,this.client.send(t,0,t.length,this.port,this.address,function(i,n){--e.messagesInFlight<=0&&e.destroyClient()})};Vt.prototype.getClient=function(){return this.client||(this.client=Hv.createSocket("udp4")),this.client};Vt.prototype.destroyClient=function(){this.client&&(this.client.close(),this.client=void 0)};wc.exports={Publisher:Vt}});var xc=I((UE,_c)=>{var hs=V();function Xv(){var t={port:void 0,clientId:void 0,enabled:void 0,host:void 0};return Gv(t)||$v(t),Cc(t)}function Gv(t){return t.port=t.port||process.env.AWS_CSM_PORT,t.enabled=t.enabled||process.env.AWS_CSM_ENABLED,t.clientId=t.clientId||process.env.AWS_CSM_CLIENT_ID,t.host=t.host||process.env.AWS_CSM_HOST,t.port&&t.enabled&&t.clientId&&t.host||["false","0"].indexOf(t.enabled)>=0}function $v(t){var e;try{var r=hs.util.iniLoader.loadFrom({isConfig:!0,filename:process.env[hs.util.sharedConfigFileEnv]}),e=r[process.env.AWS_PROFILE||hs.util.defaultProfile]}catch{return!1}return e?(t.port=t.port||e.csm_port,t.enabled=t.enabled||e.csm_enabled,t.clientId=t.clientId||e.csm_client_id,t.host=t.host||e.csm_host,t.port&&t.enabled&&t.clientId&&t.host):t}function Cc(t){var e=["false","0",void 0];return!t.enabled||e.indexOf(t.enabled.toLowerCase())>=0?t.enabled=!1:t.enabled=!0,t.port=t.port?parseInt(t.port,10):void 0,t}_c.exports=Xv});var ms=I((VE,Rc)=>{var ur=V(),Ac=require("os"),Yv=require("path");function bc(t){return ur.util.ini.parse(ur.util.readFileSync(t))}function Jv(t){var e={};return Object.keys(t).forEach(function(r){/^sso-session\s/.test(r)||Object.defineProperty(e,r.replace(/^profile\s/,""),{value:t[r],enumerable:!0})}),e}function Qv(t){var e={};return Object.keys(t).forEach(function(r){/^sso-session\s/.test(r)&&Object.defineProperty(e,r.replace(/^sso-session\s/,""),{value:t[r],enumerable:!0})}),e}ur.IniLoader=ur.util.inherit({constructor:function(){this.resolvedProfiles={},this.resolvedSsoSessions={}},clearCachedFiles:function(){this.resolvedProfiles={},this.resolvedSsoSessions={}},loadFrom:function(e){e=e||{};var r=e.isConfig===!0,i=e.filename||this.getDefaultFilePath(r);if(!this.resolvedProfiles[i]){var n=bc(i);r?Object.defineProperty(this.resolvedProfiles,i,{value:Jv(n)}):Object.defineProperty(this.resolvedProfiles,i,{value:n})}return this.resolvedProfiles[i]},loadSsoSessionsFrom:function(e){e=e||{};var r=e.filename||this.getDefaultFilePath(!0);if(!this.resolvedSsoSessions[r]){var i=bc(r);Object.defineProperty(this.resolvedSsoSessions,r,{value:Qv(i)})}return this.resolvedSsoSessions[r]},getDefaultFilePath:function(e){return Yv.join(this.getHomeDir(),".aws",e?"config":"credentials")},getHomeDir:function(){var e=process.env,r=e.HOME||e.USERPROFILE||(e.HOMEPATH?(e.HOMEDRIVE||"C:/")+e.HOMEPATH:null);if(r)return r;if(typeof Ac.homedir=="function")return Ac.homedir();throw ur.util.error(new Error("Cannot load credentials, HOME path not set"))}});var Zv=ur.IniLoader;Rc.exports={IniLoader:Zv}});var Pc=I((jE,Ic)=>{var eg=ms().IniLoader;Ic.exports.iniLoader=new eg});var Dc=I((WE,Nc)=>{var Dr=V();function vs(t,e){if(typeof t=="string"){if(["legacy","regional"].indexOf(t.toLowerCase())>=0)return t.toLowerCase();throw Dr.util.error(new Error,e)}}function tg(t,e){t=t||{};var r;if(t[e.clientConfig]&&(r=vs(t[e.clientConfig],{code:"InvalidConfiguration",message:'invalid "'+e.clientConfig+'" configuration. Expect "legacy"  or "regional". Got "'+t[e.clientConfig]+'".'}),r)||!Dr.util.isNode())return r;if(Object.prototype.hasOwnProperty.call(process.env,e.env)){var i=process.env[e.env];if(r=vs(i,{code:"InvalidEnvironmentalVariable",message:"invalid "+e.env+' environmental variable. Expect "legacy"  or "regional". Got "'+process.env[e.env]+'".'}),r)return r}var n={};try{var s=Dr.util.getProfilesFromSharedConfig(Dr.util.iniLoader);n=s[process.env.AWS_PROFILE||Dr.util.defaultProfile]}catch{}if(n&&Object.prototype.hasOwnProperty.call(n,e.sharedConfig)){var o=n[e.sharedConfig];if(r=vs(o,{code:"InvalidConfiguration",message:"invalid "+e.sharedConfig+' profile config. Expect "legacy"  or "regional". Got "'+n[e.sharedConfig]+'".'}),r)return r}return r}Nc.exports=tg});var qc=I(()=>{var zi=V(),rg=Dc(),ig="AWS_STS_REGIONAL_ENDPOINTS",ng="sts_regional_endpoints";zi.util.update(zi.STS.prototype,{credentialsFrom:function(e,r){return e?(r||(r=new zi.TemporaryCredentials),r.expired=!1,r.accessKeyId=e.Credentials.AccessKeyId,r.secretAccessKey=e.Credentials.SecretAccessKey,r.sessionToken=e.Credentials.SessionToken,r.expireTime=e.Credentials.Expiration,r):null},assumeRoleWithWebIdentity:function(e,r){return this.makeUnauthenticatedRequest("assumeRoleWithWebIdentity",e,r)},assumeRoleWithSAML:function(e,r){return this.makeUnauthenticatedRequest("assumeRoleWithSAML",e,r)},setupRequestListeners:function(e){e.addListener("validate",this.optInRegionalEndpoint,!0)},optInRegionalEndpoint:function(e){var r=e.service,i=r.config;if(i.stsRegionalEndpoints=rg(r._originalConfig,{env:ig,sharedConfig:ng,clientConfig:"stsRegionalEndpoints"}),i.stsRegionalEndpoints==="regional"&&r.isGlobalEndpoint){if(!i.region)throw zi.util.error(new Error,{code:"ConfigError",message:"Missing region in config"});var n=i.endpoint.indexOf(".amazonaws.com"),s=i.endpoint.substring(0,n)+"."+i.region+i.endpoint.substring(n);e.httpRequest.updateEndpoint(s),e.httpRequest.region=i.region}}})});var kc=I((KE,sg)=>{sg.exports={version:"2.0",metadata:{apiVersion:"2011-06-15",endpointPrefix:"sts",globalEndpoint:"sts.amazonaws.com",protocol:"query",serviceAbbreviation:"AWS STS",serviceFullName:"AWS Security Token Service",serviceId:"STS",signatureVersion:"v4",uid:"sts-2011-06-15",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/"},operations:{AssumeRole:{input:{type:"structure",required:["RoleArn","RoleSessionName"],members:{RoleArn:{},RoleSessionName:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"},Tags:{shape:"S8"},TransitiveTagKeys:{type:"list",member:{}},ExternalId:{},SerialNumber:{},TokenCode:{},SourceIdentity:{}}},output:{resultWrapper:"AssumeRoleResult",type:"structure",members:{Credentials:{shape:"Si"},AssumedRoleUser:{shape:"Sn"},PackedPolicySize:{type:"integer"},SourceIdentity:{}}}},AssumeRoleWithSAML:{input:{type:"structure",required:["RoleArn","PrincipalArn","SAMLAssertion"],members:{RoleArn:{},PrincipalArn:{},SAMLAssertion:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithSAMLResult",type:"structure",members:{Credentials:{shape:"Si"},AssumedRoleUser:{shape:"Sn"},PackedPolicySize:{type:"integer"},Subject:{},SubjectType:{},Issuer:{},Audience:{},NameQualifier:{},SourceIdentity:{}}}},AssumeRoleWithWebIdentity:{input:{type:"structure",required:["RoleArn","RoleSessionName","WebIdentityToken"],members:{RoleArn:{},RoleSessionName:{},WebIdentityToken:{},ProviderId:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithWebIdentityResult",type:"structure",members:{Credentials:{shape:"Si"},SubjectFromWebIdentityToken:{},AssumedRoleUser:{shape:"Sn"},PackedPolicySize:{type:"integer"},Provider:{},Audience:{},SourceIdentity:{}}}},DecodeAuthorizationMessage:{input:{type:"structure",required:["EncodedMessage"],members:{EncodedMessage:{}}},output:{resultWrapper:"DecodeAuthorizationMessageResult",type:"structure",members:{DecodedMessage:{}}}},GetAccessKeyInfo:{input:{type:"structure",required:["AccessKeyId"],members:{AccessKeyId:{}}},output:{resultWrapper:"GetAccessKeyInfoResult",type:"structure",members:{Account:{}}}},GetCallerIdentity:{input:{type:"structure",members:{}},output:{resultWrapper:"GetCallerIdentityResult",type:"structure",members:{UserId:{},Account:{},Arn:{}}}},GetFederationToken:{input:{type:"structure",required:["Name"],members:{Name:{},Policy:{},PolicyArns:{shape:"S4"},DurationSeconds:{type:"integer"},Tags:{shape:"S8"}}},output:{resultWrapper:"GetFederationTokenResult",type:"structure",members:{Credentials:{shape:"Si"},FederatedUser:{type:"structure",required:["FederatedUserId","Arn"],members:{FederatedUserId:{},Arn:{}}},PackedPolicySize:{type:"integer"}}}},GetSessionToken:{input:{type:"structure",members:{DurationSeconds:{type:"integer"},SerialNumber:{},TokenCode:{}}},output:{resultWrapper:"GetSessionTokenResult",type:"structure",members:{Credentials:{shape:"Si"}}}}},shapes:{S4:{type:"list",member:{type:"structure",members:{arn:{}}}},S8:{type:"list",member:{type:"structure",required:["Key","Value"],members:{Key:{},Value:{}}}},Si:{type:"structure",required:["AccessKeyId","SecretAccessKey","SessionToken","Expiration"],members:{AccessKeyId:{},SecretAccessKey:{},SessionToken:{},Expiration:{type:"timestamp"}}},Sn:{type:"structure",required:["AssumedRoleId","Arn"],members:{AssumedRoleId:{},Arn:{}}}}}});var Oc=I((XE,og)=>{og.exports={pagination:{}}});var It=I((GE,Mc)=>{Xi();var Ki=V(),ag=Ki.Service,Lc=Ki.apiLoader;Lc.services.sts={};Ki.STS=ag.defineService("sts",["2011-06-15"]);qc();Object.defineProperty(Lc.services.sts,"2011-06-15",{get:function(){var e=kc();return e.paginators=Oc().pagination,e},enumerable:!0,configurable:!0});Mc.exports=Ki.STS});var Fc=I(()=>{var jt=V(),ug=It();jt.TemporaryCredentials=jt.util.inherit(jt.Credentials,{constructor:function(e,r){jt.Credentials.call(this),this.loadMasterCredentials(r),this.expired=!0,this.params=e||{},this.params.RoleArn&&(this.params.RoleSessionName=this.params.RoleSessionName||"temporary-credentials")},refresh:function(e){this.coalesceRefresh(e||jt.util.fn.callback)},load:function(e){var r=this;r.createClients(),r.masterCredentials.get(function(){r.service.config.credentials=r.masterCredentials;var i=r.params.RoleArn?r.service.assumeRole:r.service.getSessionToken;i.call(r.service,function(n,s){n||r.service.credentialsFrom(s,r),e(n)})})},loadMasterCredentials:function(e){for(this.masterCredentials=e||jt.config.credentials;this.masterCredentials.masterCredentials;)this.masterCredentials=this.masterCredentials.masterCredentials;typeof this.masterCredentials.get!="function"&&(this.masterCredentials=new jt.Credentials(this.masterCredentials))},createClients:function(){this.service=this.service||new ug({params:this.params})}})});var Bc=I(()=>{var st=V(),cg=It();st.ChainableTemporaryCredentials=st.util.inherit(st.Credentials,{constructor:function(e){st.Credentials.call(this),e=e||{},this.errorCode="ChainableTemporaryCredentialsProviderFailure",this.expired=!0,this.tokenCodeFn=null;var r=st.util.copy(e.params)||{};if(r.RoleArn&&(r.RoleSessionName=r.RoleSessionName||"temporary-credentials"),r.SerialNumber){if(!e.tokenCodeFn||typeof e.tokenCodeFn!="function")throw new st.util.error(new Error("tokenCodeFn must be a function when params.SerialNumber is given"),{code:this.errorCode});this.tokenCodeFn=e.tokenCodeFn}var i=st.util.merge({params:r,credentials:e.masterCredentials||st.config.credentials},e.stsConfig||{});this.service=new cg(i)},refresh:function(e){this.coalesceRefresh(e||st.util.fn.callback)},load:function(e){var r=this,i=r.service.config.params.RoleArn?"assumeRole":"getSessionToken";this.getTokenCode(function(n,s){var o={};if(n){e(n);return}s&&(o.TokenCode=s),r.service[i](o,function(a,u){a||r.service.credentialsFrom(u,r),e(a)})})},getTokenCode:function(e){var r=this;this.tokenCodeFn?this.tokenCodeFn(this.service.config.params.SerialNumber,function(i,n){if(i){var s=i;i instanceof Error&&(s=i.message),e(st.util.error(new Error("Error fetching MFA token: "+s),{code:r.errorCode}));return}e(null,n)}):e(null)}})});var Uc=I(()=>{var Wt=V(),lg=It();Wt.WebIdentityCredentials=Wt.util.inherit(Wt.Credentials,{constructor:function(e,r){Wt.Credentials.call(this),this.expired=!0,this.params=e,this.params.RoleSessionName=this.params.RoleSessionName||"web-identity",this.data=null,this._clientConfig=Wt.util.copy(r||{})},refresh:function(e){this.coalesceRefresh(e||Wt.util.fn.callback)},load:function(e){var r=this;r.createClients(),r.service.assumeRoleWithWebIdentity(function(i,n){r.data=null,i||(r.data=n,r.service.credentialsFrom(n,r)),e(i)})},createClients:function(){if(!this.service){var t=Wt.util.merge({},this._clientConfig);t.params=this.params,this.service=new lg(t)}}})});var Vc=I((tS,fg)=>{fg.exports={version:"2.0",metadata:{apiVersion:"2014-06-30",endpointPrefix:"cognito-identity",jsonVersion:"1.1",protocol:"json",serviceFullName:"Amazon Cognito Identity",serviceId:"Cognito Identity",signatureVersion:"v4",targetPrefix:"AWSCognitoIdentityService",uid:"cognito-identity-2014-06-30"},operations:{CreateIdentityPool:{input:{type:"structure",required:["IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},AllowClassicFlow:{type:"boolean"},SupportedLoginProviders:{shape:"S5"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S9"},CognitoIdentityProviders:{shape:"Sb"},SamlProviderARNs:{shape:"Sg"},IdentityPoolTags:{shape:"Sh"}}},output:{shape:"Sk"}},DeleteIdentities:{input:{type:"structure",required:["IdentityIdsToDelete"],members:{IdentityIdsToDelete:{type:"list",member:{}}}},output:{type:"structure",members:{UnprocessedIdentityIds:{type:"list",member:{type:"structure",members:{IdentityId:{},ErrorCode:{}}}}}}},DeleteIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}}},DescribeIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{}}},output:{shape:"Sv"}},DescribeIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{shape:"Sk"}},GetCredentialsForIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"S10"},CustomRoleArn:{}}},output:{type:"structure",members:{IdentityId:{},Credentials:{type:"structure",members:{AccessKeyId:{},SecretKey:{},SessionToken:{},Expiration:{type:"timestamp"}}}}},authtype:"none"},GetId:{input:{type:"structure",required:["IdentityPoolId"],members:{AccountId:{},IdentityPoolId:{},Logins:{shape:"S10"}}},output:{type:"structure",members:{IdentityId:{}}},authtype:"none"},GetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{type:"structure",members:{IdentityPoolId:{},Roles:{shape:"S1c"},RoleMappings:{shape:"S1e"}}}},GetOpenIdToken:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"S10"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}},authtype:"none"},GetOpenIdTokenForDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId","Logins"],members:{IdentityPoolId:{},IdentityId:{},Logins:{shape:"S10"},PrincipalTags:{shape:"S1s"},TokenDuration:{type:"long"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}}},GetPrincipalTagAttributeMap:{input:{type:"structure",required:["IdentityPoolId","IdentityProviderName"],members:{IdentityPoolId:{},IdentityProviderName:{}}},output:{type:"structure",members:{IdentityPoolId:{},IdentityProviderName:{},UseDefaults:{type:"boolean"},PrincipalTags:{shape:"S1s"}}}},ListIdentities:{input:{type:"structure",required:["IdentityPoolId","MaxResults"],members:{IdentityPoolId:{},MaxResults:{type:"integer"},NextToken:{},HideDisabled:{type:"boolean"}}},output:{type:"structure",members:{IdentityPoolId:{},Identities:{type:"list",member:{shape:"Sv"}},NextToken:{}}}},ListIdentityPools:{input:{type:"structure",required:["MaxResults"],members:{MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityPools:{type:"list",member:{type:"structure",members:{IdentityPoolId:{},IdentityPoolName:{}}}},NextToken:{}}}},ListTagsForResource:{input:{type:"structure",required:["ResourceArn"],members:{ResourceArn:{}}},output:{type:"structure",members:{Tags:{shape:"Sh"}}}},LookupDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{},IdentityId:{},DeveloperUserIdentifier:{},MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityId:{},DeveloperUserIdentifierList:{type:"list",member:{}},NextToken:{}}}},MergeDeveloperIdentities:{input:{type:"structure",required:["SourceUserIdentifier","DestinationUserIdentifier","DeveloperProviderName","IdentityPoolId"],members:{SourceUserIdentifier:{},DestinationUserIdentifier:{},DeveloperProviderName:{},IdentityPoolId:{}}},output:{type:"structure",members:{IdentityId:{}}}},SetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId","Roles"],members:{IdentityPoolId:{},Roles:{shape:"S1c"},RoleMappings:{shape:"S1e"}}}},SetPrincipalTagAttributeMap:{input:{type:"structure",required:["IdentityPoolId","IdentityProviderName"],members:{IdentityPoolId:{},IdentityProviderName:{},UseDefaults:{type:"boolean"},PrincipalTags:{shape:"S1s"}}},output:{type:"structure",members:{IdentityPoolId:{},IdentityProviderName:{},UseDefaults:{type:"boolean"},PrincipalTags:{shape:"S1s"}}}},TagResource:{input:{type:"structure",required:["ResourceArn","Tags"],members:{ResourceArn:{},Tags:{shape:"Sh"}}},output:{type:"structure",members:{}}},UnlinkDeveloperIdentity:{input:{type:"structure",required:["IdentityId","IdentityPoolId","DeveloperProviderName","DeveloperUserIdentifier"],members:{IdentityId:{},IdentityPoolId:{},DeveloperProviderName:{},DeveloperUserIdentifier:{}}}},UnlinkIdentity:{input:{type:"structure",required:["IdentityId","Logins","LoginsToRemove"],members:{IdentityId:{},Logins:{shape:"S10"},LoginsToRemove:{shape:"Sw"}}},authtype:"none"},UntagResource:{input:{type:"structure",required:["ResourceArn","TagKeys"],members:{ResourceArn:{},TagKeys:{type:"list",member:{}}}},output:{type:"structure",members:{}}},UpdateIdentityPool:{input:{shape:"Sk"},output:{shape:"Sk"}}},shapes:{S5:{type:"map",key:{},value:{}},S9:{type:"list",member:{}},Sb:{type:"list",member:{type:"structure",members:{ProviderName:{},ClientId:{},ServerSideTokenCheck:{type:"boolean"}}}},Sg:{type:"list",member:{}},Sh:{type:"map",key:{},value:{}},Sk:{type:"structure",required:["IdentityPoolId","IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolId:{},IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},AllowClassicFlow:{type:"boolean"},SupportedLoginProviders:{shape:"S5"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S9"},CognitoIdentityProviders:{shape:"Sb"},SamlProviderARNs:{shape:"Sg"},IdentityPoolTags:{shape:"Sh"}}},Sv:{type:"structure",members:{IdentityId:{},Logins:{shape:"Sw"},CreationDate:{type:"timestamp"},LastModifiedDate:{type:"timestamp"}}},Sw:{type:"list",member:{}},S10:{type:"map",key:{},value:{}},S1c:{type:"map",key:{},value:{}},S1e:{type:"map",key:{},value:{type:"structure",required:["Type"],members:{Type:{},AmbiguousRoleResolution:{},RulesConfiguration:{type:"structure",required:["Rules"],members:{Rules:{type:"list",member:{type:"structure",required:["Claim","MatchType","Value","RoleARN"],members:{Claim:{},MatchType:{},Value:{},RoleARN:{}}}}}}}}},S1s:{type:"map",key:{},value:{}}}}});var jc=I((rS,pg)=>{pg.exports={pagination:{ListIdentityPools:{input_token:"NextToken",limit_key:"MaxResults",output_token:"NextToken",result_key:"IdentityPools"}}}});var zc=I((iS,Hc)=>{Xi();var Gi=V(),dg=Gi.Service,Wc=Gi.apiLoader;Wc.services.cognitoidentity={};Gi.CognitoIdentity=dg.defineService("cognitoidentity",["2014-06-30"]);Object.defineProperty(Wc.services.cognitoidentity,"2014-06-30",{get:function(){var e=Vc();return e.paginators=jc().pagination,e},enumerable:!0,configurable:!0});Hc.exports=Gi.CognitoIdentity});var Kc=I(()=>{var Je=V(),hg=zc(),mg=It();Je.CognitoIdentityCredentials=Je.util.inherit(Je.Credentials,{localStorageKey:{id:"aws.cognito.identity-id.",providers:"aws.cognito.identity-providers."},constructor:function(e,r){Je.Credentials.call(this),this.expired=!0,this.params=e,this.data=null,this._identityId=null,this._clientConfig=Je.util.copy(r||{}),this.loadCachedId();var i=this;Object.defineProperty(this,"identityId",{get:function(){return i.loadCachedId(),i._identityId||i.params.IdentityId},set:function(n){i._identityId=n}})},refresh:function(e){this.coalesceRefresh(e||Je.util.fn.callback)},load:function(e){var r=this;r.createClients(),r.data=null,r._identityId=null,r.getId(function(i){i?(r.clearIdOnNotAuthorized(i),e(i)):r.params.RoleArn?r.getCredentialsFromSTS(e):r.getCredentialsForIdentity(e)})},clearCachedId:function(){this._identityId=null,delete this.params.IdentityId;var e=this.params.IdentityPoolId,r=this.params.LoginId||"";delete this.storage[this.localStorageKey.id+e+r],delete this.storage[this.localStorageKey.providers+e+r]},clearIdOnNotAuthorized:function(e){var r=this;e.code=="NotAuthorizedException"&&r.clearCachedId()},getId:function(e){var r=this;if(typeof r.params.IdentityId=="string")return e(null,r.params.IdentityId);r.cognito.getId(function(i,n){!i&&n.IdentityId?(r.params.IdentityId=n.IdentityId,e(null,n.IdentityId)):e(i)})},loadCredentials:function(e,r){!e||!r||(r.expired=!1,r.accessKeyId=e.Credentials.AccessKeyId,r.secretAccessKey=e.Credentials.SecretKey,r.sessionToken=e.Credentials.SessionToken,r.expireTime=e.Credentials.Expiration)},getCredentialsForIdentity:function(e){var r=this;r.cognito.getCredentialsForIdentity(function(i,n){i?r.clearIdOnNotAuthorized(i):(r.cacheId(n),r.data=n,r.loadCredentials(r.data,r)),e(i)})},getCredentialsFromSTS:function(e){var r=this;r.cognito.getOpenIdToken(function(i,n){i?(r.clearIdOnNotAuthorized(i),e(i)):(r.cacheId(n),r.params.WebIdentityToken=n.Token,r.webIdentityCredentials.refresh(function(s){s||(r.data=r.webIdentityCredentials.data,r.sts.credentialsFrom(r.data,r)),e(s)}))})},loadCachedId:function(){var e=this;if(Je.util.isBrowser()&&!e.params.IdentityId){var r=e.getStorage("id");if(r&&e.params.Logins){var i=Object.keys(e.params.Logins),n=(e.getStorage("providers")||"").split(","),s=n.filter(function(o){return i.indexOf(o)!==-1});s.length!==0&&(e.params.IdentityId=r)}else r&&(e.params.IdentityId=r)}},createClients:function(){var t=this._clientConfig;if(this.webIdentityCredentials=this.webIdentityCredentials||new Je.WebIdentityCredentials(this.params,t),!this.cognito){var e=Je.util.merge({},t);e.params=this.params,this.cognito=new hg(e)}this.sts=this.sts||new mg(t)},cacheId:function(e){this._identityId=e.IdentityId,this.params.IdentityId=this._identityId,Je.util.isBrowser()&&(this.setStorage("id",e.IdentityId),this.params.Logins&&this.setStorage("providers",Object.keys(this.params.Logins).join(",")))},getStorage:function(e){return this.storage[this.localStorageKey[e]+this.params.IdentityPoolId+(this.params.LoginId||"")]},setStorage:function(e,r){try{this.storage[this.localStorageKey[e]+this.params.IdentityPoolId+(this.params.LoginId||"")]=r}catch{}},storage:function(){try{var t=Je.util.isBrowser()&&window.localStorage!==null&&typeof window.localStorage=="object"?window.localStorage:{};return t["aws.test-storage"]="foobar",delete t["aws.test-storage"],t}catch{return{}}}()})});var Xc=I(()=>{var qr=V(),vg=It();qr.SAMLCredentials=qr.util.inherit(qr.Credentials,{constructor:function(e){qr.Credentials.call(this),this.expired=!0,this.params=e},refresh:function(e){this.coalesceRefresh(e||qr.util.fn.callback)},load:function(e){var r=this;r.createClients(),r.service.assumeRoleWithSAML(function(i,n){i||r.service.credentialsFrom(n,r),e(i)})},createClients:function(){this.service=this.service||new vg({params:this.params})}})});var gs=I(()=>{var qe=V(),gg=require("child_process"),Gc=qe.util.iniLoader;qe.ProcessCredentials=qe.util.inherit(qe.Credentials,{constructor:function(e){qe.Credentials.call(this),e=e||{},this.filename=e.filename,this.profile=e.profile||process.env.AWS_PROFILE||qe.util.defaultProfile,this.get(e.callback||qe.util.fn.noop)},load:function(e){var r=this;try{var i=qe.util.getProfilesFromSharedConfig(Gc,this.filename),n=i[this.profile]||{};if(Object.keys(n).length===0)throw qe.util.error(new Error("Profile "+this.profile+" not found"),{code:"ProcessCredentialsProviderFailure"});if(n.credential_process)this.loadViaCredentialProcess(n,function(s,o){s?e(s,null):(r.expired=!1,r.accessKeyId=o.AccessKeyId,r.secretAccessKey=o.SecretAccessKey,r.sessionToken=o.SessionToken,o.Expiration&&(r.expireTime=new Date(o.Expiration)),e(null))});else throw qe.util.error(new Error("Profile "+this.profile+" did not include credential process"),{code:"ProcessCredentialsProviderFailure"})}catch(s){e(s)}},loadViaCredentialProcess:function(e,r){gg.exec(e.credential_process,{env:process.env},function(i,n,s){if(i)r(qe.util.error(new Error("credential_process returned error"),{code:"ProcessCredentialsProviderFailure"}),null);else try{var o=JSON.parse(n);if(o.Expiration){var a=qe.util.date.getDate(),u=new Date(o.Expiration);if(u<a)throw Error("credential_process returned expired credentials")}if(o.Version!==1)throw Error("credential_process does not return Version == 1");r(null,o)}catch(c){r(qe.util.error(new Error(c.message),{code:"ProcessCredentialsProviderFailure"}),null)}})},refresh:function(e){Gc.clearCachedFiles(),this.coalesceRefresh(e||qe.util.fn.callback)}})});var $i=I(ys=>{(function(){ys.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(ys)});var Et=I(($c,Ht)=>{(function(){var t,e,r,i,n,s,o=[].slice,a={}.hasOwnProperty;t=function(){var u,c,l,d,v,x;if(x=arguments[0],v=2<=arguments.length?o.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(u=0,l=v.length;u<l;u++)if(d=v[u],d!=null)for(c in d)a.call(d,c)&&(x[c]=d[c]);return x},i=function(u){return!!u&&Object.prototype.toString.call(u)==="[object Function]"},n=function(u){var c;return!!u&&((c=typeof u)=="function"||c==="object")},e=function(u){return i(Array.isArray)?Array.isArray(u):Object.prototype.toString.call(u)==="[object Array]"},r=function(u){var c;if(e(u))return!u.length;for(c in u)if(a.call(u,c))return!1;return!0},s=function(u){var c,l;return n(u)&&(l=Object.getPrototypeOf(u))&&(c=l.constructor)&&typeof c=="function"&&c instanceof c&&Function.prototype.toString.call(c)===Function.prototype.toString.call(Object)},Ht.exports.assign=t,Ht.exports.isFunction=i,Ht.exports.isObject=n,Ht.exports.isArray=e,Ht.exports.isEmpty=r,Ht.exports.isPlainObject=s}).call($c)});var Es=I((Yc,Jc)=>{(function(){var t;Jc.exports=t=function(){function e(r,i,n){if(this.options=r.options,this.stringify=r.stringify,i==null)throw new Error("Missing attribute name of element "+r.name);if(n==null)throw new Error("Missing attribute value for attribute "+i+" of element "+r.name);this.name=this.stringify.attName(i),this.value=this.stringify.attValue(n)}return e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(r){return this.options.writer.set(r).attribute(this)},e}()}).call(Yc)});var kr=I((Qc,Zc)=>{(function(){var t,e,r,i,n,s,o=function(u,c){for(var l in c)a.call(c,l)&&(u[l]=c[l]);function d(){this.constructor=u}return d.prototype=c.prototype,u.prototype=new d,u.__super__=c.prototype,u},a={}.hasOwnProperty;s=Et(),n=s.isObject,i=s.isFunction,r=ke(),t=Es(),Zc.exports=e=function(u){o(c,u);function c(l,d,v){if(c.__super__.constructor.call(this,l),d==null)throw new Error("Missing element name");this.name=this.stringify.eleName(d),this.attributes={},v!=null&&this.attribute(v),l.isDocument&&(this.isRoot=!0,this.documentObject=l,l.rootObject=this)}return c.prototype.clone=function(){var l,d,v,x;v=Object.create(this),v.isRoot&&(v.documentObject=null),v.attributes={},x=this.attributes;for(d in x)a.call(x,d)&&(l=x[d],v.attributes[d]=l.clone());return v.children=[],this.children.forEach(function(g){var E;return E=g.clone(),E.parent=v,v.children.push(E)}),v},c.prototype.attribute=function(l,d){var v,x;if(l!=null&&(l=l.valueOf()),n(l))for(v in l)a.call(l,v)&&(x=l[v],this.attribute(v,x));else i(d)&&(d=d.apply()),(!this.options.skipNullAttributes||d!=null)&&(this.attributes[l]=new t(this,l,d));return this},c.prototype.removeAttribute=function(l){var d,v,x;if(l==null)throw new Error("Missing attribute name");if(l=l.valueOf(),Array.isArray(l))for(v=0,x=l.length;v<x;v++)d=l[v],delete this.attributes[d];else delete this.attributes[l];return this},c.prototype.toString=function(l){return this.options.writer.set(l).element(this)},c.prototype.att=function(l,d){return this.attribute(l,d)},c.prototype.a=function(l,d){return this.attribute(l,d)},c}(r)}).call(Qc)});var Or=I((el,tl)=>{(function(){var t,e,r=function(n,s){for(var o in s)i.call(s,o)&&(n[o]=s[o]);function a(){this.constructor=n}return a.prototype=s.prototype,n.prototype=new a,n.__super__=s.prototype,n},i={}.hasOwnProperty;e=ke(),tl.exports=t=function(n){r(s,n);function s(o,a){if(s.__super__.constructor.call(this,o),a==null)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(a)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).cdata(this)},s}(e)}).call(el)});var Lr=I((rl,il)=>{(function(){var t,e,r=function(n,s){for(var o in s)i.call(s,o)&&(n[o]=s[o]);function a(){this.constructor=n}return a.prototype=s.prototype,n.prototype=new a,n.__super__=s.prototype,n},i={}.hasOwnProperty;e=ke(),il.exports=t=function(n){r(s,n);function s(o,a){if(s.__super__.constructor.call(this,o),a==null)throw new Error("Missing comment text");this.text=this.stringify.comment(a)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).comment(this)},s}(e)}).call(rl)});var Mr=I((nl,sl)=>{(function(){var t,e,r,i=function(s,o){for(var a in o)n.call(o,a)&&(s[a]=o[a]);function u(){this.constructor=s}return u.prototype=o.prototype,s.prototype=new u,s.__super__=o.prototype,s},n={}.hasOwnProperty;r=Et().isObject,e=ke(),sl.exports=t=function(s){i(o,s);function o(a,u,c,l){var d;o.__super__.constructor.call(this,a),r(u)&&(d=u,u=d.version,c=d.encoding,l=d.standalone),u||(u="1.0"),this.version=this.stringify.xmlVersion(u),c!=null&&(this.encoding=this.stringify.xmlEncoding(c)),l!=null&&(this.standalone=this.stringify.xmlStandalone(l))}return o.prototype.toString=function(a){return this.options.writer.set(a).declaration(this)},o}(e)}).call(nl)});var Fr=I((ol,al)=>{(function(){var t,e,r=function(n,s){for(var o in s)i.call(s,o)&&(n[o]=s[o]);function a(){this.constructor=n}return a.prototype=s.prototype,n.prototype=new a,n.__super__=s.prototype,n},i={}.hasOwnProperty;e=ke(),al.exports=t=function(n){r(s,n);function s(o,a,u,c,l,d){if(s.__super__.constructor.call(this,o),a==null)throw new Error("Missing DTD element name");if(u==null)throw new Error("Missing DTD attribute name");if(!c)throw new Error("Missing DTD attribute type");if(!l)throw new Error("Missing DTD attribute default");if(l.indexOf("#")!==0&&(l="#"+l),!l.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(d&&!l.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(a),this.attributeName=this.stringify.attName(u),this.attributeType=this.stringify.dtdAttType(c),this.defaultValue=this.stringify.dtdAttDefault(d),this.defaultValueType=l}return s.prototype.toString=function(o){return this.options.writer.set(o).dtdAttList(this)},s}(e)}).call(ol)});var Br=I((ul,cl)=>{(function(){var t,e,r,i=function(s,o){for(var a in o)n.call(o,a)&&(s[a]=o[a]);function u(){this.constructor=s}return u.prototype=o.prototype,s.prototype=new u,s.__super__=o.prototype,s},n={}.hasOwnProperty;r=Et().isObject,e=ke(),cl.exports=t=function(s){i(o,s);function o(a,u,c,l){if(o.__super__.constructor.call(this,a),c==null)throw new Error("Missing entity name");if(l==null)throw new Error("Missing entity value");if(this.pe=!!u,this.name=this.stringify.eleName(c),!r(l))this.value=this.stringify.dtdEntityValue(l);else{if(!l.pubID&&!l.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(l.pubID&&!l.sysID)throw new Error("System identifier is required for a public external entity");if(l.pubID!=null&&(this.pubID=this.stringify.dtdPubID(l.pubID)),l.sysID!=null&&(this.sysID=this.stringify.dtdSysID(l.sysID)),l.nData!=null&&(this.nData=this.stringify.dtdNData(l.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}}return o.prototype.toString=function(a){return this.options.writer.set(a).dtdEntity(this)},o}(e)}).call(ul)});var Ur=I((ll,fl)=>{(function(){var t,e,r=function(n,s){for(var o in s)i.call(s,o)&&(n[o]=s[o]);function a(){this.constructor=n}return a.prototype=s.prototype,n.prototype=new a,n.__super__=s.prototype,n},i={}.hasOwnProperty;e=ke(),fl.exports=t=function(n){r(s,n);function s(o,a,u){if(s.__super__.constructor.call(this,o),a==null)throw new Error("Missing DTD element name");u||(u="(#PCDATA)"),Array.isArray(u)&&(u="("+u.join(",")+")"),this.name=this.stringify.eleName(a),this.value=this.stringify.dtdElementValue(u)}return s.prototype.toString=function(o){return this.options.writer.set(o).dtdElement(this)},s}(e)}).call(ll)});var Vr=I((pl,dl)=>{(function(){var t,e,r=function(n,s){for(var o in s)i.call(s,o)&&(n[o]=s[o]);function a(){this.constructor=n}return a.prototype=s.prototype,n.prototype=new a,n.__super__=s.prototype,n},i={}.hasOwnProperty;e=ke(),dl.exports=t=function(n){r(s,n);function s(o,a,u){if(s.__super__.constructor.call(this,o),a==null)throw new Error("Missing notation name");if(!u.pubID&&!u.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(a),u.pubID!=null&&(this.pubID=this.stringify.dtdPubID(u.pubID)),u.sysID!=null&&(this.sysID=this.stringify.dtdSysID(u.sysID))}return s.prototype.toString=function(o){return this.options.writer.set(o).dtdNotation(this)},s}(e)}).call(pl)});var jr=I((hl,ml)=>{(function(){var t,e,r,i,n,s,o,a=function(c,l){for(var d in l)u.call(l,d)&&(c[d]=l[d]);function v(){this.constructor=c}return v.prototype=l.prototype,c.prototype=new v,c.__super__=l.prototype,c},u={}.hasOwnProperty;o=Et().isObject,s=ke(),t=Fr(),r=Br(),e=Ur(),i=Vr(),ml.exports=n=function(c){a(l,c);function l(d,v,x){var g,E;l.__super__.constructor.call(this,d),this.documentObject=d,o(v)&&(g=v,v=g.pubID,x=g.sysID),x==null&&(E=[v,x],x=E[0],v=E[1]),v!=null&&(this.pubID=this.stringify.dtdPubID(v)),x!=null&&(this.sysID=this.stringify.dtdSysID(x))}return l.prototype.element=function(d,v){var x;return x=new e(this,d,v),this.children.push(x),this},l.prototype.attList=function(d,v,x,g,E){var P;return P=new t(this,d,v,x,g,E),this.children.push(P),this},l.prototype.entity=function(d,v){var x;return x=new r(this,!1,d,v),this.children.push(x),this},l.prototype.pEntity=function(d,v){var x;return x=new r(this,!0,d,v),this.children.push(x),this},l.prototype.notation=function(d,v){var x;return x=new i(this,d,v),this.children.push(x),this},l.prototype.toString=function(d){return this.options.writer.set(d).docType(this)},l.prototype.ele=function(d,v){return this.element(d,v)},l.prototype.att=function(d,v,x,g,E){return this.attList(d,v,x,g,E)},l.prototype.ent=function(d,v){return this.entity(d,v)},l.prototype.pent=function(d,v){return this.pEntity(d,v)},l.prototype.not=function(d,v){return this.notation(d,v)},l.prototype.up=function(){return this.root()||this.documentObject},l}(s)}).call(hl)});var Wr=I((vl,gl)=>{(function(){var t,e,r=function(n,s){for(var o in s)i.call(s,o)&&(n[o]=s[o]);function a(){this.constructor=n}return a.prototype=s.prototype,n.prototype=new a,n.__super__=s.prototype,n},i={}.hasOwnProperty;t=ke(),gl.exports=e=function(n){r(s,n);function s(o,a){if(s.__super__.constructor.call(this,o),a==null)throw new Error("Missing raw text");this.value=this.stringify.raw(a)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).raw(this)},s}(t)}).call(vl)});var Hr=I((yl,El)=>{(function(){var t,e,r=function(n,s){for(var o in s)i.call(s,o)&&(n[o]=s[o]);function a(){this.constructor=n}return a.prototype=s.prototype,n.prototype=new a,n.__super__=s.prototype,n},i={}.hasOwnProperty;t=ke(),El.exports=e=function(n){r(s,n);function s(o,a){if(s.__super__.constructor.call(this,o),a==null)throw new Error("Missing element text");this.value=this.stringify.eleText(a)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).text(this)},s}(t)}).call(yl)});var zr=I((Sl,wl)=>{(function(){var t,e,r=function(n,s){for(var o in s)i.call(s,o)&&(n[o]=s[o]);function a(){this.constructor=n}return a.prototype=s.prototype,n.prototype=new a,n.__super__=s.prototype,n},i={}.hasOwnProperty;t=ke(),wl.exports=e=function(n){r(s,n);function s(o,a,u){if(s.__super__.constructor.call(this,o),a==null)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(a),u&&(this.value=this.stringify.insValue(u))}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).processingInstruction(this)},s}(t)}).call(Sl)});var ke=I((Tl,Cl)=>{(function(){var t,e,r,i,n,s,o,a,u,c,l,d,v,x={}.hasOwnProperty;v=Et(),d=v.isObject,l=v.isFunction,c=v.isEmpty,n=null,t=null,e=null,r=null,i=null,a=null,u=null,o=null,Cl.exports=s=function(){function g(E){this.parent=E,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],n||(n=kr(),t=Or(),e=Lr(),r=Mr(),i=jr(),a=Wr(),u=Hr(),o=zr())}return g.prototype.element=function(E,P,S){var h,w,R,N,C,_,O,W,M,H;if(_=null,P==null&&(P={}),P=P.valueOf(),d(P)||(M=[P,S],S=M[0],P=M[1]),E!=null&&(E=E.valueOf()),Array.isArray(E))for(R=0,O=E.length;R<O;R++)w=E[R],_=this.element(w);else if(l(E))_=this.element(E.apply());else if(d(E)){for(C in E)if(x.call(E,C))if(H=E[C],l(H)&&(H=H.apply()),d(H)&&c(H)&&(H=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&C.indexOf(this.stringify.convertAttKey)===0)_=this.attribute(C.substr(this.stringify.convertAttKey.length),H);else if(!this.options.separateArrayItems&&Array.isArray(H))for(N=0,W=H.length;N<W;N++)w=H[N],h={},h[C]=w,_=this.element(h);else d(H)?(_=this.element(C),_.element(H)):_=this.element(C,H)}else!this.options.ignoreDecorators&&this.stringify.convertTextKey&&E.indexOf(this.stringify.convertTextKey)===0?_=this.text(S):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&E.indexOf(this.stringify.convertCDataKey)===0?_=this.cdata(S):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&E.indexOf(this.stringify.convertCommentKey)===0?_=this.comment(S):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&E.indexOf(this.stringify.convertRawKey)===0?_=this.raw(S):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&E.indexOf(this.stringify.convertPIKey)===0?_=this.instruction(E.substr(this.stringify.convertPIKey.length),S):_=this.node(E,P,S);if(_==null)throw new Error("Could not create any elements with: "+E);return _},g.prototype.insertBefore=function(E,P,S){var h,w,R;if(this.isRoot)throw new Error("Cannot insert elements at root level");return w=this.parent.children.indexOf(this),R=this.parent.children.splice(w),h=this.parent.element(E,P,S),Array.prototype.push.apply(this.parent.children,R),h},g.prototype.insertAfter=function(E,P,S){var h,w,R;if(this.isRoot)throw new Error("Cannot insert elements at root level");return w=this.parent.children.indexOf(this),R=this.parent.children.splice(w+1),h=this.parent.element(E,P,S),Array.prototype.push.apply(this.parent.children,R),h},g.prototype.remove=function(){var E,P;if(this.isRoot)throw new Error("Cannot remove the root element");return E=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[E,E-E+1].concat(P=[])),this.parent},g.prototype.node=function(E,P,S){var h,w;return E!=null&&(E=E.valueOf()),P||(P={}),P=P.valueOf(),d(P)||(w=[P,S],S=w[0],P=w[1]),h=new n(this,E,P),S!=null&&h.text(S),this.children.push(h),h},g.prototype.text=function(E){var P;return P=new u(this,E),this.children.push(P),this},g.prototype.cdata=function(E){var P;return P=new t(this,E),this.children.push(P),this},g.prototype.comment=function(E){var P;return P=new e(this,E),this.children.push(P),this},g.prototype.commentBefore=function(E){var P,S,h;return S=this.parent.children.indexOf(this),h=this.parent.children.splice(S),P=this.parent.comment(E),Array.prototype.push.apply(this.parent.children,h),this},g.prototype.commentAfter=function(E){var P,S,h;return S=this.parent.children.indexOf(this),h=this.parent.children.splice(S+1),P=this.parent.comment(E),Array.prototype.push.apply(this.parent.children,h),this},g.prototype.raw=function(E){var P;return P=new a(this,E),this.children.push(P),this},g.prototype.instruction=function(E,P){var S,h,w,R,N;if(E!=null&&(E=E.valueOf()),P!=null&&(P=P.valueOf()),Array.isArray(E))for(R=0,N=E.length;R<N;R++)S=E[R],this.instruction(S);else if(d(E))for(S in E)x.call(E,S)&&(h=E[S],this.instruction(S,h));else l(P)&&(P=P.apply()),w=new o(this,E,P),this.children.push(w);return this},g.prototype.instructionBefore=function(E,P){var S,h,w;return h=this.parent.children.indexOf(this),w=this.parent.children.splice(h),S=this.parent.instruction(E,P),Array.prototype.push.apply(this.parent.children,w),this},g.prototype.instructionAfter=function(E,P){var S,h,w;return h=this.parent.children.indexOf(this),w=this.parent.children.splice(h+1),S=this.parent.instruction(E,P),Array.prototype.push.apply(this.parent.children,w),this},g.prototype.declaration=function(E,P,S){var h,w;return h=this.document(),w=new r(h,E,P,S),h.children[0]instanceof r?h.children[0]=w:h.children.unshift(w),h.root()||h},g.prototype.doctype=function(E,P){var S,h,w,R,N,C,_,O,W,M;for(h=this.document(),w=new i(h,E,P),W=h.children,R=N=0,_=W.length;N<_;R=++N)if(S=W[R],S instanceof i)return h.children[R]=w,w;for(M=h.children,R=C=0,O=M.length;C<O;R=++C)if(S=M[R],S.isRoot)return h.children.splice(R,0,w),w;return h.children.push(w),w},g.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},g.prototype.root=function(){var E;for(E=this;E;){if(E.isDocument)return E.rootObject;if(E.isRoot)return E;E=E.parent}},g.prototype.document=function(){var E;for(E=this;E;){if(E.isDocument)return E;E=E.parent}},g.prototype.end=function(E){return this.document().end(E)},g.prototype.prev=function(){var E;if(E=this.parent.children.indexOf(this),E<1)throw new Error("Already at the first node");return this.parent.children[E-1]},g.prototype.next=function(){var E;if(E=this.parent.children.indexOf(this),E===-1||E===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[E+1]},g.prototype.importDocument=function(E){var P;return P=E.root().clone(),P.parent=this,P.isRoot=!1,this.children.push(P),this},g.prototype.ele=function(E,P,S){return this.element(E,P,S)},g.prototype.nod=function(E,P,S){return this.node(E,P,S)},g.prototype.txt=function(E){return this.text(E)},g.prototype.dat=function(E){return this.cdata(E)},g.prototype.com=function(E){return this.comment(E)},g.prototype.ins=function(E,P){return this.instruction(E,P)},g.prototype.doc=function(){return this.document()},g.prototype.dec=function(E,P,S){return this.declaration(E,P,S)},g.prototype.dtd=function(E,P){return this.doctype(E,P)},g.prototype.e=function(E,P,S){return this.element(E,P,S)},g.prototype.n=function(E,P,S){return this.node(E,P,S)},g.prototype.t=function(E){return this.text(E)},g.prototype.d=function(E){return this.cdata(E)},g.prototype.c=function(E){return this.comment(E)},g.prototype.r=function(E){return this.raw(E)},g.prototype.i=function(E,P){return this.instruction(E,P)},g.prototype.u=function(){return this.up()},g.prototype.importXMLBuilder=function(E){return this.importDocument(E)},g}()}).call(Tl)});var Ss=I((_l,xl)=>{(function(){var t,e=function(i,n){return function(){return i.apply(n,arguments)}},r={}.hasOwnProperty;xl.exports=t=function(){function i(n){this.assertLegalChar=e(this.assertLegalChar,this);var s,o,a;n||(n={}),this.noDoubleEncoding=n.noDoubleEncoding,o=n.stringify||{};for(s in o)r.call(o,s)&&(a=o[s],this[s]=a)}return i.prototype.eleName=function(n){return n=""+n||"",this.assertLegalChar(n)},i.prototype.eleText=function(n){return n=""+n||"",this.assertLegalChar(this.elEscape(n))},i.prototype.cdata=function(n){return n=""+n||"",n=n.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(n)},i.prototype.comment=function(n){if(n=""+n||"",n.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+n);return this.assertLegalChar(n)},i.prototype.raw=function(n){return""+n||""},i.prototype.attName=function(n){return n=""+n||""},i.prototype.attValue=function(n){return n=""+n||"",this.attEscape(n)},i.prototype.insTarget=function(n){return""+n||""},i.prototype.insValue=function(n){if(n=""+n||"",n.match(/\?>/))throw new Error("Invalid processing instruction value: "+n);return n},i.prototype.xmlVersion=function(n){if(n=""+n||"",!n.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+n);return n},i.prototype.xmlEncoding=function(n){if(n=""+n||"",!n.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+n);return n},i.prototype.xmlStandalone=function(n){return n?"yes":"no"},i.prototype.dtdPubID=function(n){return""+n||""},i.prototype.dtdSysID=function(n){return""+n||""},i.prototype.dtdElementValue=function(n){return""+n||""},i.prototype.dtdAttType=function(n){return""+n||""},i.prototype.dtdAttDefault=function(n){return n!=null?""+n||"":n},i.prototype.dtdEntityValue=function(n){return""+n||""},i.prototype.dtdNData=function(n){return""+n||""},i.prototype.convertAttKey="@",i.prototype.convertPIKey="?",i.prototype.convertTextKey="#text",i.prototype.convertCDataKey="#cdata",i.prototype.convertCommentKey="#comment",i.prototype.convertRawKey="#raw",i.prototype.assertLegalChar=function(n){var s;if(s=n.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),s)throw new Error("Invalid character in string: "+n+" at index "+s.index);return n},i.prototype.elEscape=function(n){var s;return s=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(s,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},i.prototype.attEscape=function(n){var s;return s=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(s,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},i}()}).call(_l)});var ws=I((Al,bl)=>{(function(){var t,e={}.hasOwnProperty;bl.exports=t=function(){function r(i){var n,s,o,a,u,c,l,d,v;i||(i={}),this.pretty=i.pretty||!1,this.allowEmpty=(s=i.allowEmpty)!=null?s:!1,this.pretty?(this.indent=(o=i.indent)!=null?o:"  ",this.newline=(a=i.newline)!=null?a:`
`,this.offset=(u=i.offset)!=null?u:0,this.dontprettytextnodes=(c=i.dontprettytextnodes)!=null?c:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(l=i.spacebeforeslash)!=null?l:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,d=i.writer||{};for(n in d)e.call(d,n)&&(v=d[n],this[n]=v)}return r.prototype.set=function(i){var n,s,o;i||(i={}),"pretty"in i&&(this.pretty=i.pretty),"allowEmpty"in i&&(this.allowEmpty=i.allowEmpty),this.pretty?(this.indent="indent"in i?i.indent:"  ",this.newline="newline"in i?i.newline:`
`,this.offset="offset"in i?i.offset:0,this.dontprettytextnodes="dontprettytextnodes"in i?i.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in i?i.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,s=i.writer||{};for(n in s)e.call(s,n)&&(o=s[n],this[n]=o);return this},r.prototype.space=function(i){var n;return this.pretty?(n=(i||0)+this.offset+1,n>0?new Array(n).join(this.indent):""):""},r}()}).call(Al)});var Yi=I((Rl,Il)=>{(function(){var t,e,r,i,n,s,o,a,u,c,l,d,v,x,g=function(P,S){for(var h in S)E.call(S,h)&&(P[h]=S[h]);function w(){this.constructor=P}return w.prototype=S.prototype,P.prototype=new w,P.__super__=S.prototype,P},E={}.hasOwnProperty;o=Mr(),a=jr(),t=Or(),e=Lr(),u=kr(),l=Wr(),v=Hr(),c=zr(),r=Fr(),i=Ur(),n=Br(),s=Vr(),x=ws(),Il.exports=d=function(P){g(S,P);function S(h){S.__super__.constructor.call(this,h)}return S.prototype.document=function(h){var w,R,N,C,_;for(this.textispresent=!1,C="",_=h.children,R=0,N=_.length;R<N;R++)w=_[R],C+=function(){switch(!1){case!(w instanceof o):return this.declaration(w);case!(w instanceof a):return this.docType(w);case!(w instanceof e):return this.comment(w);case!(w instanceof c):return this.processingInstruction(w);default:return this.element(w,0)}}.call(this);return this.pretty&&C.slice(-this.newline.length)===this.newline&&(C=C.slice(0,-this.newline.length)),C},S.prototype.attribute=function(h){return" "+h.name+'="'+h.value+'"'},S.prototype.cdata=function(h,w){return this.space(w)+"<![CDATA["+h.text+"]]>"+this.newline},S.prototype.comment=function(h,w){return this.space(w)+"<!-- "+h.text+" -->"+this.newline},S.prototype.declaration=function(h,w){var R;return R=this.space(w),R+='<?xml version="'+h.version+'"',h.encoding!=null&&(R+=' encoding="'+h.encoding+'"'),h.standalone!=null&&(R+=' standalone="'+h.standalone+'"'),R+=this.spacebeforeslash+"?>",R+=this.newline,R},S.prototype.docType=function(h,w){var R,N,C,_,O;if(w||(w=0),_=this.space(w),_+="<!DOCTYPE "+h.root().name,h.pubID&&h.sysID?_+=' PUBLIC "'+h.pubID+'" "'+h.sysID+'"':h.sysID&&(_+=' SYSTEM "'+h.sysID+'"'),h.children.length>0){for(_+=" [",_+=this.newline,O=h.children,N=0,C=O.length;N<C;N++)R=O[N],_+=function(){switch(!1){case!(R instanceof r):return this.dtdAttList(R,w+1);case!(R instanceof i):return this.dtdElement(R,w+1);case!(R instanceof n):return this.dtdEntity(R,w+1);case!(R instanceof s):return this.dtdNotation(R,w+1);case!(R instanceof t):return this.cdata(R,w+1);case!(R instanceof e):return this.comment(R,w+1);case!(R instanceof c):return this.processingInstruction(R,w+1);default:throw new Error("Unknown DTD node type: "+R.constructor.name)}}.call(this);_+="]"}return _+=this.spacebeforeslash+">",_+=this.newline,_},S.prototype.element=function(h,w){var R,N,C,_,O,W,M,H,A,ge,pe,Q,Oe;w||(w=0),Oe=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),Q=this.space(w),H="",H+=Q+"<"+h.name,A=h.attributes;for(M in A)E.call(A,M)&&(R=A[M],H+=this.attribute(R));if(h.children.length===0||h.children.every(function(at){return at.value===""}))this.allowEmpty?H+="></"+h.name+">"+this.newline:H+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&h.children.length===1&&h.children[0].value!=null)H+=">",H+=h.children[0].value,H+="</"+h.name+">"+this.newline;else{if(this.dontprettytextnodes){for(ge=h.children,C=0,O=ge.length;C<O;C++)if(N=ge[C],N.value!=null){this.textispresent++,Oe=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,Q=this.space(w)),H+=">"+this.newline,pe=h.children,_=0,W=pe.length;_<W;_++)N=pe[_],H+=function(){switch(!1){case!(N instanceof t):return this.cdata(N,w+1);case!(N instanceof e):return this.comment(N,w+1);case!(N instanceof u):return this.element(N,w+1);case!(N instanceof l):return this.raw(N,w+1);case!(N instanceof v):return this.text(N,w+1);case!(N instanceof c):return this.processingInstruction(N,w+1);default:throw new Error("Unknown XML node type: "+N.constructor.name)}}.call(this);Oe&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),H+=Q+"</"+h.name+">"+this.newline}return H},S.prototype.processingInstruction=function(h,w){var R;return R=this.space(w)+"<?"+h.target,h.value&&(R+=" "+h.value),R+=this.spacebeforeslash+"?>"+this.newline,R},S.prototype.raw=function(h,w){return this.space(w)+h.value+this.newline},S.prototype.text=function(h,w){return this.space(w)+h.value+this.newline},S.prototype.dtdAttList=function(h,w){var R;return R=this.space(w)+"<!ATTLIST "+h.elementName+" "+h.attributeName+" "+h.attributeType,h.defaultValueType!=="#DEFAULT"&&(R+=" "+h.defaultValueType),h.defaultValue&&(R+=' "'+h.defaultValue+'"'),R+=this.spacebeforeslash+">"+this.newline,R},S.prototype.dtdElement=function(h,w){return this.space(w)+"<!ELEMENT "+h.name+" "+h.value+this.spacebeforeslash+">"+this.newline},S.prototype.dtdEntity=function(h,w){var R;return R=this.space(w)+"<!ENTITY",h.pe&&(R+=" %"),R+=" "+h.name,h.value?R+=' "'+h.value+'"':(h.pubID&&h.sysID?R+=' PUBLIC "'+h.pubID+'" "'+h.sysID+'"':h.sysID&&(R+=' SYSTEM "'+h.sysID+'"'),h.nData&&(R+=" NDATA "+h.nData)),R+=this.spacebeforeslash+">"+this.newline,R},S.prototype.dtdNotation=function(h,w){var R;return R=this.space(w)+"<!NOTATION "+h.name,h.pubID&&h.sysID?R+=' PUBLIC "'+h.pubID+'" "'+h.sysID+'"':h.pubID?R+=' PUBLIC "'+h.pubID+'"':h.sysID&&(R+=' SYSTEM "'+h.sysID+'"'),R+=this.spacebeforeslash+">"+this.newline,R},S.prototype.openNode=function(h,w){var R,N,C,_;if(w||(w=0),h instanceof u){C=this.space(w)+"<"+h.name,_=h.attributes;for(N in _)E.call(_,N)&&(R=_[N],C+=this.attribute(R));return C+=(h.children?">":"/>")+this.newline,C}else return C=this.space(w)+"<!DOCTYPE "+h.rootNodeName,h.pubID&&h.sysID?C+=' PUBLIC "'+h.pubID+'" "'+h.sysID+'"':h.sysID&&(C+=' SYSTEM "'+h.sysID+'"'),C+=(h.children?" [":">")+this.newline,C},S.prototype.closeNode=function(h,w){switch(w||(w=0),!1){case!(h instanceof u):return this.space(w)+"</"+h.name+">"+this.newline;case!(h instanceof a):return this.space(w)+"]>"+this.newline}},S}(x)}).call(Rl)});var Dl=I((Pl,Nl)=>{(function(){var t,e,r,i,n,s=function(a,u){for(var c in u)o.call(u,c)&&(a[c]=u[c]);function l(){this.constructor=a}return l.prototype=u.prototype,a.prototype=new l,a.__super__=u.prototype,a},o={}.hasOwnProperty;n=Et().isPlainObject,e=ke(),i=Ss(),r=Yi(),Nl.exports=t=function(a){s(u,a);function u(c){u.__super__.constructor.call(this,null),c||(c={}),c.writer||(c.writer=new r),this.options=c,this.stringify=new i(c),this.isDocument=!0}return u.prototype.end=function(c){var l;return c?n(c)&&(l=c,c=this.options.writer.set(l)):c=this.options.writer,c.document(this)},u.prototype.toString=function(c){return this.options.writer.set(c).document(this)},u}(e)}).call(Pl)});var Ol=I((ql,kl)=>{(function(){var t,e,r,i,n,s,o,a,u,c,l,d,v,x,g,E,P,S,h,w,R={}.hasOwnProperty;w=Et(),S=w.isObject,P=w.isFunction,h=w.isPlainObject,l=kr(),e=Or(),r=Lr(),v=Wr(),E=Hr(),d=zr(),a=Mr(),u=jr(),i=Fr(),s=Br(),n=Ur(),o=Vr(),t=Es(),g=Ss(),x=Yi(),kl.exports=c=function(){function N(C,_,O){var W;C||(C={}),C.writer?h(C.writer)&&(W=C.writer,C.writer=new x(W)):C.writer=new x(C),this.options=C,this.writer=C.writer,this.stringify=new g(C),this.onDataCallback=_||function(){},this.onEndCallback=O||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return N.prototype.node=function(C,_,O){var W;if(C==null)throw new Error("Missing node name");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node");return this.openCurrent(),C=C.valueOf(),_==null&&(_={}),_=_.valueOf(),S(_)||(W=[_,O],O=W[0],_=W[1]),this.currentNode=new l(this,C,_),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,O!=null&&this.text(O),this},N.prototype.element=function(C,_,O){return this.currentNode&&this.currentNode instanceof u?this.dtdElement.apply(this,arguments):this.node(C,_,O)},N.prototype.attribute=function(C,_){var O,W;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(C!=null&&(C=C.valueOf()),S(C))for(O in C)R.call(C,O)&&(W=C[O],this.attribute(O,W));else P(_)&&(_=_.apply()),(!this.options.skipNullAttributes||_!=null)&&(this.currentNode.attributes[C]=new t(this,C,_));return this},N.prototype.text=function(C){var _;return this.openCurrent(),_=new E(this,C),this.onData(this.writer.text(_,this.currentLevel+1)),this},N.prototype.cdata=function(C){var _;return this.openCurrent(),_=new e(this,C),this.onData(this.writer.cdata(_,this.currentLevel+1)),this},N.prototype.comment=function(C){var _;return this.openCurrent(),_=new r(this,C),this.onData(this.writer.comment(_,this.currentLevel+1)),this},N.prototype.raw=function(C){var _;return this.openCurrent(),_=new v(this,C),this.onData(this.writer.raw(_,this.currentLevel+1)),this},N.prototype.instruction=function(C,_){var O,W,M,H,A;if(this.openCurrent(),C!=null&&(C=C.valueOf()),_!=null&&(_=_.valueOf()),Array.isArray(C))for(O=0,H=C.length;O<H;O++)W=C[O],this.instruction(W);else if(S(C))for(W in C)R.call(C,W)&&(M=C[W],this.instruction(W,M));else P(_)&&(_=_.apply()),A=new d(this,C,_),this.onData(this.writer.processingInstruction(A,this.currentLevel+1));return this},N.prototype.declaration=function(C,_,O){var W;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return W=new a(this,C,_,O),this.onData(this.writer.declaration(W,this.currentLevel+1)),this},N.prototype.doctype=function(C,_,O){if(this.openCurrent(),C==null)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new u(this,_,O),this.currentNode.rootNodeName=C,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},N.prototype.dtdElement=function(C,_){var O;return this.openCurrent(),O=new n(this,C,_),this.onData(this.writer.dtdElement(O,this.currentLevel+1)),this},N.prototype.attList=function(C,_,O,W,M){var H;return this.openCurrent(),H=new i(this,C,_,O,W,M),this.onData(this.writer.dtdAttList(H,this.currentLevel+1)),this},N.prototype.entity=function(C,_){var O;return this.openCurrent(),O=new s(this,!1,C,_),this.onData(this.writer.dtdEntity(O,this.currentLevel+1)),this},N.prototype.pEntity=function(C,_){var O;return this.openCurrent(),O=new s(this,!0,C,_),this.onData(this.writer.dtdEntity(O,this.currentLevel+1)),this},N.prototype.notation=function(C,_){var O;return this.openCurrent(),O=new o(this,C,_),this.onData(this.writer.dtdNotation(O,this.currentLevel+1)),this},N.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},N.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},N.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},N.prototype.openNode=function(C){if(!C.isOpen)return!this.root&&this.currentLevel===0&&C instanceof l&&(this.root=C),this.onData(this.writer.openNode(C,this.currentLevel)),C.isOpen=!0},N.prototype.closeNode=function(C){if(!C.isClosed)return this.onData(this.writer.closeNode(C,this.currentLevel)),C.isClosed=!0},N.prototype.onData=function(C){return this.documentStarted=!0,this.onDataCallback(C)},N.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},N.prototype.ele=function(){return this.element.apply(this,arguments)},N.prototype.nod=function(C,_,O){return this.node(C,_,O)},N.prototype.txt=function(C){return this.text(C)},N.prototype.dat=function(C){return this.cdata(C)},N.prototype.com=function(C){return this.comment(C)},N.prototype.ins=function(C,_){return this.instruction(C,_)},N.prototype.dec=function(C,_,O){return this.declaration(C,_,O)},N.prototype.dtd=function(C,_,O){return this.doctype(C,_,O)},N.prototype.e=function(C,_,O){return this.element(C,_,O)},N.prototype.n=function(C,_,O){return this.node(C,_,O)},N.prototype.t=function(C){return this.text(C)},N.prototype.d=function(C){return this.cdata(C)},N.prototype.c=function(C){return this.comment(C)},N.prototype.r=function(C){return this.raw(C)},N.prototype.i=function(C,_){return this.instruction(C,_)},N.prototype.att=function(){return this.currentNode&&this.currentNode instanceof u?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},N.prototype.a=function(){return this.currentNode&&this.currentNode instanceof u?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},N.prototype.ent=function(C,_){return this.entity(C,_)},N.prototype.pent=function(C,_){return this.pEntity(C,_)},N.prototype.not=function(C,_){return this.notation(C,_)},N}()}).call(ql)});var Fl=I((Ll,Ml)=>{(function(){var t,e,r,i,n,s,o,a,u,c,l,d,v,x,g=function(P,S){for(var h in S)E.call(S,h)&&(P[h]=S[h]);function w(){this.constructor=P}return w.prototype=S.prototype,P.prototype=new w,P.__super__=S.prototype,P},E={}.hasOwnProperty;o=Mr(),a=jr(),t=Or(),e=Lr(),u=kr(),l=Wr(),v=Hr(),c=zr(),r=Fr(),i=Ur(),n=Br(),s=Vr(),x=ws(),Ml.exports=d=function(P){g(S,P);function S(h,w){S.__super__.constructor.call(this,w),this.stream=h}return S.prototype.document=function(h){var w,R,N,C,_,O,W,M;for(O=h.children,R=0,C=O.length;R<C;R++)w=O[R],w.isLastRootNode=!1;for(h.children[h.children.length-1].isLastRootNode=!0,W=h.children,M=[],N=0,_=W.length;N<_;N++)switch(w=W[N],!1){case!(w instanceof o):M.push(this.declaration(w));break;case!(w instanceof a):M.push(this.docType(w));break;case!(w instanceof e):M.push(this.comment(w));break;case!(w instanceof c):M.push(this.processingInstruction(w));break;default:M.push(this.element(w))}return M},S.prototype.attribute=function(h){return this.stream.write(" "+h.name+'="'+h.value+'"')},S.prototype.cdata=function(h,w){return this.stream.write(this.space(w)+"<![CDATA["+h.text+"]]>"+this.endline(h))},S.prototype.comment=function(h,w){return this.stream.write(this.space(w)+"<!-- "+h.text+" -->"+this.endline(h))},S.prototype.declaration=function(h,w){return this.stream.write(this.space(w)),this.stream.write('<?xml version="'+h.version+'"'),h.encoding!=null&&this.stream.write(' encoding="'+h.encoding+'"'),h.standalone!=null&&this.stream.write(' standalone="'+h.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(h))},S.prototype.docType=function(h,w){var R,N,C,_;if(w||(w=0),this.stream.write(this.space(w)),this.stream.write("<!DOCTYPE "+h.root().name),h.pubID&&h.sysID?this.stream.write(' PUBLIC "'+h.pubID+'" "'+h.sysID+'"'):h.sysID&&this.stream.write(' SYSTEM "'+h.sysID+'"'),h.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(h)),_=h.children,N=0,C=_.length;N<C;N++)switch(R=_[N],!1){case!(R instanceof r):this.dtdAttList(R,w+1);break;case!(R instanceof i):this.dtdElement(R,w+1);break;case!(R instanceof n):this.dtdEntity(R,w+1);break;case!(R instanceof s):this.dtdNotation(R,w+1);break;case!(R instanceof t):this.cdata(R,w+1);break;case!(R instanceof e):this.comment(R,w+1);break;case!(R instanceof c):this.processingInstruction(R,w+1);break;default:throw new Error("Unknown DTD node type: "+R.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(h))},S.prototype.element=function(h,w){var R,N,C,_,O,W,M,H;w||(w=0),H=this.space(w),this.stream.write(H+"<"+h.name),W=h.attributes;for(O in W)E.call(W,O)&&(R=W[O],this.attribute(R));if(h.children.length===0||h.children.every(function(A){return A.value===""}))this.allowEmpty?this.stream.write("></"+h.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&h.children.length===1&&h.children[0].value!=null)this.stream.write(">"),this.stream.write(h.children[0].value),this.stream.write("</"+h.name+">");else{for(this.stream.write(">"+this.newline),M=h.children,C=0,_=M.length;C<_;C++)switch(N=M[C],!1){case!(N instanceof t):this.cdata(N,w+1);break;case!(N instanceof e):this.comment(N,w+1);break;case!(N instanceof u):this.element(N,w+1);break;case!(N instanceof l):this.raw(N,w+1);break;case!(N instanceof v):this.text(N,w+1);break;case!(N instanceof c):this.processingInstruction(N,w+1);break;default:throw new Error("Unknown XML node type: "+N.constructor.name)}this.stream.write(H+"</"+h.name+">")}return this.stream.write(this.endline(h))},S.prototype.processingInstruction=function(h,w){return this.stream.write(this.space(w)+"<?"+h.target),h.value&&this.stream.write(" "+h.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(h))},S.prototype.raw=function(h,w){return this.stream.write(this.space(w)+h.value+this.endline(h))},S.prototype.text=function(h,w){return this.stream.write(this.space(w)+h.value+this.endline(h))},S.prototype.dtdAttList=function(h,w){return this.stream.write(this.space(w)+"<!ATTLIST "+h.elementName+" "+h.attributeName+" "+h.attributeType),h.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+h.defaultValueType),h.defaultValue&&this.stream.write(' "'+h.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(h))},S.prototype.dtdElement=function(h,w){return this.stream.write(this.space(w)+"<!ELEMENT "+h.name+" "+h.value),this.stream.write(this.spacebeforeslash+">"+this.endline(h))},S.prototype.dtdEntity=function(h,w){return this.stream.write(this.space(w)+"<!ENTITY"),h.pe&&this.stream.write(" %"),this.stream.write(" "+h.name),h.value?this.stream.write(' "'+h.value+'"'):(h.pubID&&h.sysID?this.stream.write(' PUBLIC "'+h.pubID+'" "'+h.sysID+'"'):h.sysID&&this.stream.write(' SYSTEM "'+h.sysID+'"'),h.nData&&this.stream.write(" NDATA "+h.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(h))},S.prototype.dtdNotation=function(h,w){return this.stream.write(this.space(w)+"<!NOTATION "+h.name),h.pubID&&h.sysID?this.stream.write(' PUBLIC "'+h.pubID+'" "'+h.sysID+'"'):h.pubID?this.stream.write(' PUBLIC "'+h.pubID+'"'):h.sysID&&this.stream.write(' SYSTEM "'+h.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(h))},S.prototype.endline=function(h){return h.isLastRootNode?"":this.newline},S}(x)}).call(Ll)});var Ul=I((Bl,Kr)=>{(function(){var t,e,r,i,n,s,o;o=Et(),n=o.assign,s=o.isFunction,t=Dl(),e=Ol(),i=Yi(),r=Fl(),Kr.exports.create=function(a,u,c,l){var d,v;if(a==null)throw new Error("Root element needs a name");return l=n({},u,c,l),d=new t(l),v=d.element(a),l.headless||(d.declaration(l),(l.pubID!=null||l.sysID!=null)&&d.doctype(l)),v},Kr.exports.begin=function(a,u,c){var l;return s(a)&&(l=[a,u],u=l[0],c=l[1],a={}),u?new e(a,u,c):new t(a)},Kr.exports.stringWriter=function(a){return new i(a)},Kr.exports.streamWriter=function(a,u){return new r(a,u)}}).call(Bl)});var Vl=I(Ts=>{(function(){"use strict";var t,e,r,i,n,s={}.hasOwnProperty;t=Ul(),e=$i().defaults,i=function(o){return typeof o=="string"&&(o.indexOf("&")>=0||o.indexOf(">")>=0||o.indexOf("<")>=0)},n=function(o){return"<![CDATA["+r(o)+"]]>"},r=function(o){return o.replace("]]>","]]]]><![CDATA[>")},Ts.Builder=function(){function o(a){var u,c,l;this.options={},c=e["0.2"];for(u in c)s.call(c,u)&&(l=c[u],this.options[u]=l);for(u in a)s.call(a,u)&&(l=a[u],this.options[u]=l)}return o.prototype.buildObject=function(a){var u,c,l,d,v;return u=this.options.attrkey,c=this.options.charkey,Object.keys(a).length===1&&this.options.rootName===e["0.2"].rootName?(v=Object.keys(a)[0],a=a[v]):v=this.options.rootName,l=function(x){return function(g,E){var P,S,h,w,R,N;if(typeof E!="object")x.options.cdata&&i(E)?g.raw(n(E)):g.txt(E);else if(Array.isArray(E)){for(w in E)if(s.call(E,w)){S=E[w];for(R in S)h=S[R],g=l(g.ele(R),h).up()}}else for(R in E)if(s.call(E,R))if(S=E[R],R===u){if(typeof S=="object")for(P in S)N=S[P],g=g.att(P,N)}else if(R===c)x.options.cdata&&i(S)?g=g.raw(n(S)):g=g.txt(S);else if(Array.isArray(S))for(w in S)s.call(S,w)&&(h=S[w],typeof h=="string"?x.options.cdata&&i(h)?g=g.ele(R).raw(n(h)).up():g=g.ele(R,h).up():g=l(g.ele(R),h).up());else typeof S=="object"?g=l(g.ele(R),S).up():typeof S=="string"&&x.options.cdata&&i(S)?g=g.ele(R).raw(n(S)).up():(S==null&&(S=""),g=g.ele(R,S.toString()).up());return g}}(this),d=t.create(v,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),l(d,a).end(this.options.renderOpts)},o}()}).call(Ts)});var jl=I(Ji=>{(function(t){t.parser=function(m,f){return new r(m,f)},t.SAXParser=r,t.SAXStream=c,t.createStream=u,t.MAX_BUFFER_LENGTH=64*1024;var e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(m,f){if(!(this instanceof r))return new r(m,f);var q=this;n(q),q.q=q.c="",q.bufferCheckPosition=t.MAX_BUFFER_LENGTH,q.opt=f||{},q.opt.lowercase=q.opt.lowercase||q.opt.lowercasetags,q.looseCase=q.opt.lowercase?"toLowerCase":"toUpperCase",q.tags=[],q.closed=q.closedRoot=q.sawRoot=!1,q.tag=q.error=null,q.strict=!!m,q.noscript=!!(m||q.opt.noscript),q.state=A.BEGIN,q.strictEntities=q.opt.strictEntities,q.ENTITIES=q.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),q.attribList=[],q.opt.xmlns&&(q.ns=Object.create(w)),q.trackPosition=q.opt.position!==!1,q.trackPosition&&(q.position=q.line=q.column=0),pe(q,"onready")}Object.create||(Object.create=function(m){function f(){}f.prototype=m;var q=new f;return q}),Object.keys||(Object.keys=function(m){var f=[];for(var q in m)m.hasOwnProperty(q)&&f.push(q);return f});function i(m){for(var f=Math.max(t.MAX_BUFFER_LENGTH,10),q=0,b=0,J=e.length;b<J;b++){var ae=m[e[b]].length;if(ae>f)switch(e[b]){case"textNode":Oe(m);break;case"cdata":Q(m,"oncdata",m.cdata),m.cdata="";break;case"script":Q(m,"onscript",m.script),m.script="";break;default:ut(m,"Max buffer length exceeded: "+e[b])}q=Math.max(q,ae)}var ue=t.MAX_BUFFER_LENGTH-q;m.bufferCheckPosition=ue+m.position}function n(m){for(var f=0,q=e.length;f<q;f++)m[e[f]]=""}function s(m){Oe(m),m.cdata!==""&&(Q(m,"oncdata",m.cdata),m.cdata=""),m.script!==""&&(Q(m,"onscript",m.script),m.script="")}r.prototype={end:function(){qt(this)},write:lt,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var o;try{o=require("stream").Stream}catch{o=function(){}}var a=t.EVENTS.filter(function(m){return m!=="error"&&m!=="end"});function u(m,f){return new c(m,f)}function c(m,f){if(!(this instanceof c))return new c(m,f);o.apply(this),this._parser=new r(m,f),this.writable=!0,this.readable=!0;var q=this;this._parser.onend=function(){q.emit("end")},this._parser.onerror=function(b){q.emit("error",b),q._parser.error=null},this._decoder=null,a.forEach(function(b){Object.defineProperty(q,"on"+b,{get:function(){return q._parser["on"+b]},set:function(J){if(!J)return q.removeAllListeners(b),q._parser["on"+b]=J,J;q.on(b,J)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(o.prototype,{constructor:{value:c}}),c.prototype.write=function(m){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(m)){if(!this._decoder){var f=require("string_decoder").StringDecoder;this._decoder=new f("utf8")}m=this._decoder.write(m)}return this._parser.write(m.toString()),this.emit("data",m),!0},c.prototype.end=function(m){return m&&m.length&&this.write(m),this._parser.end(),!0},c.prototype.on=function(m,f){var q=this;return!q._parser["on"+m]&&a.indexOf(m)!==-1&&(q._parser["on"+m]=function(){var b=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);b.splice(0,0,m),q.emit.apply(q,b)}),o.prototype.on.call(q,m,f)};var l=`\r
	 `,d="0124356789",v="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",x=`'"`,g=l+">",E="[CDATA[",P="DOCTYPE",S="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/2000/xmlns/",w={xml:S,xmlns:h};l=O(l),d=O(d),v=O(v);var R=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,N=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,C=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;x=O(x),g=O(g);function O(m){return m.split("").reduce(function(f,q){return f[q]=!0,f},{})}function W(m){return Object.prototype.toString.call(m)==="[object RegExp]"}function M(m,f){return W(m)?!!f.match(m):m[f]}function H(m,f){return!M(m,f)}var A=0;t.STATE={BEGIN:A++,BEGIN_WHITESPACE:A++,TEXT:A++,TEXT_ENTITY:A++,OPEN_WAKA:A++,SGML_DECL:A++,SGML_DECL_QUOTED:A++,DOCTYPE:A++,DOCTYPE_QUOTED:A++,DOCTYPE_DTD:A++,DOCTYPE_DTD_QUOTED:A++,COMMENT_STARTING:A++,COMMENT:A++,COMMENT_ENDING:A++,COMMENT_ENDED:A++,CDATA:A++,CDATA_ENDING:A++,CDATA_ENDING_2:A++,PROC_INST:A++,PROC_INST_BODY:A++,PROC_INST_ENDING:A++,OPEN_TAG:A++,OPEN_TAG_SLASH:A++,ATTRIB:A++,ATTRIB_NAME:A++,ATTRIB_NAME_SAW_WHITE:A++,ATTRIB_VALUE:A++,ATTRIB_VALUE_QUOTED:A++,ATTRIB_VALUE_CLOSED:A++,ATTRIB_VALUE_UNQUOTED:A++,ATTRIB_VALUE_ENTITY_Q:A++,ATTRIB_VALUE_ENTITY_U:A++,CLOSE_TAG:A++,CLOSE_TAG_SAW_WHITE:A++,SCRIPT:A++,SCRIPT_ENDING:A++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(m){var f=t.ENTITIES[m],q=typeof f=="number"?String.fromCharCode(f):f;t.ENTITIES[m]=q});for(var ge in t.STATE)t.STATE[t.STATE[ge]]=ge;A=t.STATE;function pe(m,f,q){m[f]&&m[f](q)}function Q(m,f,q){m.textNode&&Oe(m),pe(m,f,q)}function Oe(m){m.textNode=at(m.opt,m.textNode),m.textNode&&pe(m,"ontext",m.textNode),m.textNode=""}function at(m,f){return m.trim&&(f=f.trim()),m.normalize&&(f=f.replace(/\s+/g," ")),f}function ut(m,f){return Oe(m),m.trackPosition&&(f+=`
Line: `+m.line+`
Column: `+m.column+`
Char: `+m.c),f=new Error(f),m.error=f,pe(m,"onerror",f),m}function qt(m){return m.sawRoot&&!m.closedRoot&&$(m,"Unclosed root tag"),m.state!==A.BEGIN&&m.state!==A.BEGIN_WHITESPACE&&m.state!==A.TEXT&&ut(m,"Unexpected end"),Oe(m),m.c="",m.closed=!0,pe(m,"onend"),r.call(m,m.strict,m.opt),m}function $(m,f){if(typeof m!="object"||!(m instanceof r))throw new Error("bad call to strictFail");m.strict&&ut(m,f)}function $t(m){m.strict||(m.tagName=m.tagName[m.looseCase]());var f=m.tags[m.tags.length-1]||m,q=m.tag={name:m.tagName,attributes:{}};m.opt.xmlns&&(q.ns=f.ns),m.attribList.length=0,Q(m,"onopentagstart",q)}function wt(m,f){var q=m.indexOf(":"),b=q<0?["",m]:m.split(":"),J=b[0],ae=b[1];return f&&m==="xmlns"&&(J="xmlns",ae=""),{prefix:J,local:ae}}function Fe(m){if(m.strict||(m.attribName=m.attribName[m.looseCase]()),m.attribList.indexOf(m.attribName)!==-1||m.tag.attributes.hasOwnProperty(m.attribName)){m.attribName=m.attribValue="";return}if(m.opt.xmlns){var f=wt(m.attribName,!0),q=f.prefix,b=f.local;if(q==="xmlns")if(b==="xml"&&m.attribValue!==S)$(m,"xml: prefix must be bound to "+S+`
Actual: `+m.attribValue);else if(b==="xmlns"&&m.attribValue!==h)$(m,"xmlns: prefix must be bound to "+h+`
Actual: `+m.attribValue);else{var J=m.tag,ae=m.tags[m.tags.length-1]||m;J.ns===ae.ns&&(J.ns=Object.create(ae.ns)),J.ns[b]=m.attribValue}m.attribList.push([m.attribName,m.attribValue])}else m.tag.attributes[m.attribName]=m.attribValue,Q(m,"onattribute",{name:m.attribName,value:m.attribValue});m.attribName=m.attribValue=""}function xe(m,f){if(m.opt.xmlns){var q=m.tag,b=wt(m.tagName);q.prefix=b.prefix,q.local=b.local,q.uri=q.ns[b.prefix]||"",q.prefix&&!q.uri&&($(m,"Unbound namespace prefix: "+JSON.stringify(m.tagName)),q.uri=b.prefix);var J=m.tags[m.tags.length-1]||m;q.ns&&J.ns!==q.ns&&Object.keys(q.ns).forEach(function(Jr){Q(m,"onopennamespace",{prefix:Jr,uri:q.ns[Jr]})});for(var ae=0,ue=m.attribList.length;ae<ue;ae++){var _e=m.attribList[ae],Pe=_e[0],z=_e[1],ce=wt(Pe,!0),Be=ce.prefix,$r=ce.local,Yr=Be===""?"":q.ns[Be]||"",lr={name:Pe,value:z,prefix:Be,local:$r,uri:Yr};Be&&Be!=="xmlns"&&!Yr&&($(m,"Unbound namespace prefix: "+JSON.stringify(Be)),lr.uri=Be),m.tag.attributes[Pe]=lr,Q(m,"onattribute",lr)}m.attribList.length=0}m.tag.isSelfClosing=!!f,m.sawRoot=!0,m.tags.push(m.tag),Q(m,"onopentag",m.tag),f||(!m.noscript&&m.tagName.toLowerCase()==="script"?m.state=A.SCRIPT:m.state=A.TEXT,m.tag=null,m.tagName=""),m.attribName=m.attribValue="",m.attribList.length=0}function ct(m){if(!m.tagName){$(m,"Weird empty close tag."),m.textNode+="</>",m.state=A.TEXT;return}if(m.script){if(m.tagName!=="script"){m.script+="</"+m.tagName+">",m.tagName="",m.state=A.SCRIPT;return}Q(m,"onscript",m.script),m.script=""}var f=m.tags.length,q=m.tagName;m.strict||(q=q[m.looseCase]());for(var b=q;f--;){var J=m.tags[f];if(J.name!==b)$(m,"Unexpected close tag");else break}if(f<0){$(m,"Unmatched closing tag: "+m.tagName),m.textNode+="</"+m.tagName+">",m.state=A.TEXT;return}m.tagName=q;for(var ae=m.tags.length;ae-- >f;){var ue=m.tag=m.tags.pop();m.tagName=m.tag.name,Q(m,"onclosetag",m.tagName);var _e={};for(var Pe in ue.ns)_e[Pe]=ue.ns[Pe];var z=m.tags[m.tags.length-1]||m;m.opt.xmlns&&ue.ns!==z.ns&&Object.keys(ue.ns).forEach(function(ce){var Be=ue.ns[ce];Q(m,"onclosenamespace",{prefix:ce,uri:Be})})}f===0&&(m.closedRoot=!0),m.tagName=m.attribValue=m.attribName="",m.attribList.length=0,m.state=A.TEXT}function kt(m){var f=m.entity,q=f.toLowerCase(),b,J="";return m.ENTITIES[f]?m.ENTITIES[f]:m.ENTITIES[q]?m.ENTITIES[q]:(f=q,f.charAt(0)==="#"&&(f.charAt(1)==="x"?(f=f.slice(2),b=parseInt(f,16),J=b.toString(16)):(f=f.slice(1),b=parseInt(f,10),J=b.toString(10))),f=f.replace(/^0+/,""),J.toLowerCase()!==f?($(m,"Invalid character entity"),"&"+m.entity+";"):String.fromCodePoint(b))}function Yt(m,f){f==="<"?(m.state=A.OPEN_WAKA,m.startTagPosition=m.position):H(l,f)&&($(m,"Non-whitespace before first tag."),m.textNode=f,m.state=A.TEXT)}function Tt(m,f){var q="";return f<m.length&&(q=m.charAt(f)),q}function lt(m){var f=this;if(this.error)throw this.error;if(f.closed)return ut(f,"Cannot write after close. Assign an onready handler.");if(m===null)return qt(f);typeof m=="object"&&(m=m.toString());for(var q=0,b="";b=Tt(m,q++),f.c=b,!!b;)switch(f.trackPosition&&(f.position++,b===`
`?(f.line++,f.column=0):f.column++),f.state){case A.BEGIN:if(f.state=A.BEGIN_WHITESPACE,b==="\uFEFF")continue;Yt(f,b);continue;case A.BEGIN_WHITESPACE:Yt(f,b);continue;case A.TEXT:if(f.sawRoot&&!f.closedRoot){for(var J=q-1;b&&b!=="<"&&b!=="&";)b=Tt(m,q++),b&&f.trackPosition&&(f.position++,b===`
`?(f.line++,f.column=0):f.column++);f.textNode+=m.substring(J,q-1)}b==="<"&&!(f.sawRoot&&f.closedRoot&&!f.strict)?(f.state=A.OPEN_WAKA,f.startTagPosition=f.position):(H(l,b)&&(!f.sawRoot||f.closedRoot)&&$(f,"Text data outside of root node."),b==="&"?f.state=A.TEXT_ENTITY:f.textNode+=b);continue;case A.SCRIPT:b==="<"?f.state=A.SCRIPT_ENDING:f.script+=b;continue;case A.SCRIPT_ENDING:b==="/"?f.state=A.CLOSE_TAG:(f.script+="<"+b,f.state=A.SCRIPT);continue;case A.OPEN_WAKA:if(b==="!")f.state=A.SGML_DECL,f.sgmlDecl="";else if(!M(l,b))if(M(R,b))f.state=A.OPEN_TAG,f.tagName=b;else if(b==="/")f.state=A.CLOSE_TAG,f.tagName="";else if(b==="?")f.state=A.PROC_INST,f.procInstName=f.procInstBody="";else{if($(f,"Unencoded <"),f.startTagPosition+1<f.position){var ae=f.position-f.startTagPosition;b=new Array(ae).join(" ")+b}f.textNode+="<"+b,f.state=A.TEXT}continue;case A.SGML_DECL:(f.sgmlDecl+b).toUpperCase()===E?(Q(f,"onopencdata"),f.state=A.CDATA,f.sgmlDecl="",f.cdata=""):f.sgmlDecl+b==="--"?(f.state=A.COMMENT,f.comment="",f.sgmlDecl=""):(f.sgmlDecl+b).toUpperCase()===P?(f.state=A.DOCTYPE,(f.doctype||f.sawRoot)&&$(f,"Inappropriately located doctype declaration"),f.doctype="",f.sgmlDecl=""):b===">"?(Q(f,"onsgmldeclaration",f.sgmlDecl),f.sgmlDecl="",f.state=A.TEXT):(M(x,b)&&(f.state=A.SGML_DECL_QUOTED),f.sgmlDecl+=b);continue;case A.SGML_DECL_QUOTED:b===f.q&&(f.state=A.SGML_DECL,f.q=""),f.sgmlDecl+=b;continue;case A.DOCTYPE:b===">"?(f.state=A.TEXT,Q(f,"ondoctype",f.doctype),f.doctype=!0):(f.doctype+=b,b==="["?f.state=A.DOCTYPE_DTD:M(x,b)&&(f.state=A.DOCTYPE_QUOTED,f.q=b));continue;case A.DOCTYPE_QUOTED:f.doctype+=b,b===f.q&&(f.q="",f.state=A.DOCTYPE);continue;case A.DOCTYPE_DTD:f.doctype+=b,b==="]"?f.state=A.DOCTYPE:M(x,b)&&(f.state=A.DOCTYPE_DTD_QUOTED,f.q=b);continue;case A.DOCTYPE_DTD_QUOTED:f.doctype+=b,b===f.q&&(f.state=A.DOCTYPE_DTD,f.q="");continue;case A.COMMENT:b==="-"?f.state=A.COMMENT_ENDING:f.comment+=b;continue;case A.COMMENT_ENDING:b==="-"?(f.state=A.COMMENT_ENDED,f.comment=at(f.opt,f.comment),f.comment&&Q(f,"oncomment",f.comment),f.comment=""):(f.comment+="-"+b,f.state=A.COMMENT);continue;case A.COMMENT_ENDED:b!==">"?($(f,"Malformed comment"),f.comment+="--"+b,f.state=A.COMMENT):f.state=A.TEXT;continue;case A.CDATA:b==="]"?f.state=A.CDATA_ENDING:f.cdata+=b;continue;case A.CDATA_ENDING:b==="]"?f.state=A.CDATA_ENDING_2:(f.cdata+="]"+b,f.state=A.CDATA);continue;case A.CDATA_ENDING_2:b===">"?(f.cdata&&Q(f,"oncdata",f.cdata),Q(f,"onclosecdata"),f.cdata="",f.state=A.TEXT):b==="]"?f.cdata+="]":(f.cdata+="]]"+b,f.state=A.CDATA);continue;case A.PROC_INST:b==="?"?f.state=A.PROC_INST_ENDING:M(l,b)?f.state=A.PROC_INST_BODY:f.procInstName+=b;continue;case A.PROC_INST_BODY:if(!f.procInstBody&&M(l,b))continue;b==="?"?f.state=A.PROC_INST_ENDING:f.procInstBody+=b;continue;case A.PROC_INST_ENDING:b===">"?(Q(f,"onprocessinginstruction",{name:f.procInstName,body:f.procInstBody}),f.procInstName=f.procInstBody="",f.state=A.TEXT):(f.procInstBody+="?"+b,f.state=A.PROC_INST_BODY);continue;case A.OPEN_TAG:M(N,b)?f.tagName+=b:($t(f),b===">"?xe(f):b==="/"?f.state=A.OPEN_TAG_SLASH:(H(l,b)&&$(f,"Invalid character in tag name"),f.state=A.ATTRIB));continue;case A.OPEN_TAG_SLASH:b===">"?(xe(f,!0),ct(f)):($(f,"Forward-slash in opening tag not followed by >"),f.state=A.ATTRIB);continue;case A.ATTRIB:if(M(l,b))continue;b===">"?xe(f):b==="/"?f.state=A.OPEN_TAG_SLASH:M(R,b)?(f.attribName=b,f.attribValue="",f.state=A.ATTRIB_NAME):$(f,"Invalid attribute name");continue;case A.ATTRIB_NAME:b==="="?f.state=A.ATTRIB_VALUE:b===">"?($(f,"Attribute without value"),f.attribValue=f.attribName,Fe(f),xe(f)):M(l,b)?f.state=A.ATTRIB_NAME_SAW_WHITE:M(N,b)?f.attribName+=b:$(f,"Invalid attribute name");continue;case A.ATTRIB_NAME_SAW_WHITE:if(b==="=")f.state=A.ATTRIB_VALUE;else{if(M(l,b))continue;$(f,"Attribute without value"),f.tag.attributes[f.attribName]="",f.attribValue="",Q(f,"onattribute",{name:f.attribName,value:""}),f.attribName="",b===">"?xe(f):M(R,b)?(f.attribName=b,f.state=A.ATTRIB_NAME):($(f,"Invalid attribute name"),f.state=A.ATTRIB)}continue;case A.ATTRIB_VALUE:if(M(l,b))continue;M(x,b)?(f.q=b,f.state=A.ATTRIB_VALUE_QUOTED):($(f,"Unquoted attribute value"),f.state=A.ATTRIB_VALUE_UNQUOTED,f.attribValue=b);continue;case A.ATTRIB_VALUE_QUOTED:if(b!==f.q){b==="&"?f.state=A.ATTRIB_VALUE_ENTITY_Q:f.attribValue+=b;continue}Fe(f),f.q="",f.state=A.ATTRIB_VALUE_CLOSED;continue;case A.ATTRIB_VALUE_CLOSED:M(l,b)?f.state=A.ATTRIB:b===">"?xe(f):b==="/"?f.state=A.OPEN_TAG_SLASH:M(R,b)?($(f,"No whitespace between attributes"),f.attribName=b,f.attribValue="",f.state=A.ATTRIB_NAME):$(f,"Invalid attribute name");continue;case A.ATTRIB_VALUE_UNQUOTED:if(H(g,b)){b==="&"?f.state=A.ATTRIB_VALUE_ENTITY_U:f.attribValue+=b;continue}Fe(f),b===">"?xe(f):f.state=A.ATTRIB;continue;case A.CLOSE_TAG:if(f.tagName)b===">"?ct(f):M(N,b)?f.tagName+=b:f.script?(f.script+="</"+f.tagName,f.tagName="",f.state=A.SCRIPT):(H(l,b)&&$(f,"Invalid tagname in closing tag"),f.state=A.CLOSE_TAG_SAW_WHITE);else{if(M(l,b))continue;H(R,b)?f.script?(f.script+="</"+b,f.state=A.SCRIPT):$(f,"Invalid tagname in closing tag."):f.tagName=b}continue;case A.CLOSE_TAG_SAW_WHITE:if(M(l,b))continue;b===">"?ct(f):$(f,"Invalid characters in closing tag");continue;case A.TEXT_ENTITY:case A.ATTRIB_VALUE_ENTITY_Q:case A.ATTRIB_VALUE_ENTITY_U:var ue,_e;switch(f.state){case A.TEXT_ENTITY:ue=A.TEXT,_e="textNode";break;case A.ATTRIB_VALUE_ENTITY_Q:ue=A.ATTRIB_VALUE_QUOTED,_e="attribValue";break;case A.ATTRIB_VALUE_ENTITY_U:ue=A.ATTRIB_VALUE_UNQUOTED,_e="attribValue";break}b===";"?(f[_e]+=kt(f),f.entity="",f.state=ue):M(f.entity.length?_:C,b)?f.entity+=b:($(f,"Invalid character in entity name"),f[_e]+="&"+f.entity+b,f.entity="",f.state=ue);continue;default:throw new Error(f,"Unknown state: "+f.state)}return f.position>=f.bufferCheckPosition&&i(f),f}String.fromCodePoint||function(){var m=String.fromCharCode,f=Math.floor,q=function(){var b=16384,J=[],ae,ue,_e=-1,Pe=arguments.length;if(!Pe)return"";for(var z="";++_e<Pe;){var ce=Number(arguments[_e]);if(!isFinite(ce)||ce<0||ce>1114111||f(ce)!==ce)throw RangeError("Invalid code point: "+ce);ce<=65535?J.push(ce):(ce-=65536,ae=(ce>>10)+55296,ue=ce%1024+56320,J.push(ae,ue)),(_e+1===Pe||J.length>b)&&(z+=m.apply(null,J),J.length=0)}return z};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:q,configurable:!0,writable:!0}):String.fromCodePoint=q}()})(typeof Ji>"u"?Ji.sax={}:Ji)});var Wl=I(Cs=>{(function(){"use strict";Cs.stripBOM=function(t){return t[0]==="\uFEFF"?t.substring(1):t}}).call(Cs)});var _s=I(zt=>{(function(){"use strict";var t;t=new RegExp(/(?!xmlns)^.*:/),zt.normalize=function(e){return e.toLowerCase()},zt.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},zt.stripPrefix=function(e){return e.replace(t,"")},zt.parseNumbers=function(e){return isNaN(e)||(e=e%1===0?parseInt(e,10):parseFloat(e)),e},zt.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e=e.toLowerCase()==="true"),e}}).call(zt)});var Hl=I(Kt=>{(function(){"use strict";var t,e,r,i,n,s,o,a,u=function(d,v){return function(){return d.apply(v,arguments)}},c=function(d,v){for(var x in v)l.call(v,x)&&(d[x]=v[x]);function g(){this.constructor=d}return g.prototype=v.prototype,d.prototype=new g,d.__super__=v.prototype,d},l={}.hasOwnProperty;o=jl(),r=require("events"),t=Wl(),s=_s(),a=require("timers").setImmediate,e=$i().defaults,i=function(d){return typeof d=="object"&&d!=null&&Object.keys(d).length===0},n=function(d,v,x){var g,E,P;for(g=0,E=d.length;g<E;g++)P=d[g],v=P(v,x);return v},Kt.Parser=function(d){c(v,d);function v(x){this.parseString=u(this.parseString,this),this.reset=u(this.reset,this),this.assignOrPush=u(this.assignOrPush,this),this.processAsync=u(this.processAsync,this);var g,E,P;if(!(this instanceof Kt.Parser))return new Kt.Parser(x);this.options={},E=e["0.2"];for(g in E)l.call(E,g)&&(P=E[g],this.options[g]=P);for(g in x)l.call(x,g)&&(P=x[g],this.options[g]=P);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(s.normalize)),this.reset()}return v.prototype.processAsync=function(){var x,g;try{return this.remaining.length<=this.options.chunkSize?(x=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(x),this.saxParser.close()):(x=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(x),a(this.processAsync))}catch(E){if(g=E,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(g)}},v.prototype.assignOrPush=function(x,g,E){return g in x?(x[g]instanceof Array||(x[g]=[x[g]]),x[g].push(E)):this.options.explicitArray?x[g]=[E]:x[g]=E},v.prototype.reset=function(){var x,g,E,P;return this.removeAllListeners(),this.saxParser=o.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(S){return function(h){if(S.saxParser.resume(),!S.saxParser.errThrown)return S.saxParser.errThrown=!0,S.emit("error",h)}}(this),this.saxParser.onend=function(S){return function(){if(!S.saxParser.ended)return S.saxParser.ended=!0,S.emit("end",S.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,P=[],x=this.options.attrkey,g=this.options.charkey,this.saxParser.onopentag=function(S){return function(h){var w,R,N,C,_;if(N={},N[g]="",!S.options.ignoreAttrs){_=h.attributes;for(w in _)l.call(_,w)&&(!(x in N)&&!S.options.mergeAttrs&&(N[x]={}),R=S.options.attrValueProcessors?n(S.options.attrValueProcessors,h.attributes[w],w):h.attributes[w],C=S.options.attrNameProcessors?n(S.options.attrNameProcessors,w):w,S.options.mergeAttrs?S.assignOrPush(N,C,R):N[x][C]=R)}return N["#name"]=S.options.tagNameProcessors?n(S.options.tagNameProcessors,h.name):h.name,S.options.xmlns&&(N[S.options.xmlnskey]={uri:h.uri,local:h.local}),P.push(N)}}(this),this.saxParser.onclosetag=function(S){return function(){var h,w,R,N,C,_,O,W,M,H;if(_=P.pop(),C=_["#name"],(!S.options.explicitChildren||!S.options.preserveChildrenOrder)&&delete _["#name"],_.cdata===!0&&(h=_.cdata,delete _.cdata),M=P[P.length-1],_[g].match(/^\s*$/)&&!h?(w=_[g],delete _[g]):(S.options.trim&&(_[g]=_[g].trim()),S.options.normalize&&(_[g]=_[g].replace(/\s{2,}/g," ").trim()),_[g]=S.options.valueProcessors?n(S.options.valueProcessors,_[g],C):_[g],Object.keys(_).length===1&&g in _&&!S.EXPLICIT_CHARKEY&&(_=_[g])),i(_)&&(_=S.options.emptyTag!==""?S.options.emptyTag:w),S.options.validator!=null&&(H="/"+function(){var A,ge,pe;for(pe=[],A=0,ge=P.length;A<ge;A++)N=P[A],pe.push(N["#name"]);return pe}().concat(C).join("/"),function(){var A;try{return _=S.options.validator(H,M&&M[C],_)}catch(ge){return A=ge,S.emit("error",A)}}()),S.options.explicitChildren&&!S.options.mergeAttrs&&typeof _=="object"){if(!S.options.preserveChildrenOrder)N={},S.options.attrkey in _&&(N[S.options.attrkey]=_[S.options.attrkey],delete _[S.options.attrkey]),!S.options.charsAsChildren&&S.options.charkey in _&&(N[S.options.charkey]=_[S.options.charkey],delete _[S.options.charkey]),Object.getOwnPropertyNames(_).length>0&&(N[S.options.childkey]=_),_=N;else if(M){M[S.options.childkey]=M[S.options.childkey]||[],O={};for(R in _)l.call(_,R)&&(O[R]=_[R]);M[S.options.childkey].push(O),delete _["#name"],Object.keys(_).length===1&&g in _&&!S.EXPLICIT_CHARKEY&&(_=_[g])}}return P.length>0?S.assignOrPush(M,C,_):(S.options.explicitRoot&&(W=_,_={},_[C]=W),S.resultObject=_,S.saxParser.ended=!0,S.emit("end",S.resultObject))}}(this),E=function(S){return function(h){var w,R;if(R=P[P.length-1],R)return R[g]+=h,S.options.explicitChildren&&S.options.preserveChildrenOrder&&S.options.charsAsChildren&&(S.options.includeWhiteChars||h.replace(/\\n/g,"").trim()!=="")&&(R[S.options.childkey]=R[S.options.childkey]||[],w={"#name":"__text__"},w[g]=h,S.options.normalize&&(w[g]=w[g].replace(/\s{2,}/g," ").trim()),R[S.options.childkey].push(w)),R}}(this),this.saxParser.ontext=E,this.saxParser.oncdata=function(S){return function(h){var w;if(w=E(h),w)return w.cdata=!0}}(this)},v.prototype.parseString=function(x,g){var E;g!=null&&typeof g=="function"&&(this.on("end",function(P){return this.reset(),g(null,P)}),this.on("error",function(P){return this.reset(),g(P)}));try{return x=x.toString(),x.trim()===""?(this.emit("end",null),!0):(x=t.stripBOM(x),this.options.async?(this.remaining=x,a(this.processAsync),this.saxParser):this.saxParser.write(x).close())}catch(P){if(E=P,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw E}else return this.emit("error",E),this.saxParser.errThrown=!0}},v}(r.EventEmitter),Kt.parseString=function(d,v,x){var g,E,P;return x!=null?(typeof x=="function"&&(g=x),typeof v=="object"&&(E=v)):(typeof v=="function"&&(g=v),E={}),P=new Kt.Parser(E),P.parseString(d,g)}}).call(Kt)});var zl=I(Pt=>{(function(){"use strict";var t,e,r,i,n=function(o,a){for(var u in a)s.call(a,u)&&(o[u]=a[u]);function c(){this.constructor=o}return c.prototype=a.prototype,o.prototype=new c,o.__super__=a.prototype,o},s={}.hasOwnProperty;e=$i(),t=Vl(),r=Hl(),i=_s(),Pt.defaults=e.defaults,Pt.processors=i,Pt.ValidationError=function(o){n(a,o);function a(u){this.message=u}return a}(Error),Pt.Builder=t.Builder,Pt.Parser=r.Parser,Pt.parseString=r.parseString}).call(Pt)});var Jl=I((gS,Yl)=>{var Kl=V(),Xr=Kl.util,yg=Kl.Model.Shape,Eg=zl(),Sg={explicitCharkey:!1,trim:!1,normalize:!1,explicitRoot:!1,emptyTag:null,explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,validator:null};function Xl(){}Xl.prototype.parse=function(t,e){e=e||{};var r=null,i=null,n=new Eg.Parser(Sg);if(n.parseString(t,function(o,a){i=o,r=a}),r){var s=St(r,e);return r.ResponseMetadata&&(s.ResponseMetadata=St(r.ResponseMetadata[0],{})),s}else{if(i)throw Xr.error(i,{code:"XMLParserError",retryable:!0});return St({},e)}};function St(t,e){switch(e.type){case"structure":return wg(t,e);case"map":return Tg(t,e);case"list":return Gl(t,e);case void 0:case null:return Cg(t);default:return $l(t,e)}}function wg(t,e){var r={};return t===null||Xr.each(e.members,function(i,n){var s=n.name;if(Object.prototype.hasOwnProperty.call(t,s)&&Array.isArray(t[s])){var o=t[s];n.flattened||(o=o[0]),r[i]=St(o,n)}else n.isXmlAttribute&&t.$&&Object.prototype.hasOwnProperty.call(t.$,s)?r[i]=$l(t.$[s],n):n.type==="list"&&!e.api.xmlNoDefaultLists&&(r[i]=n.defaultValue)}),r}function Tg(t,e){var r={};if(t===null)return r;var i=e.key.name||"key",n=e.value.name||"value",s=e.flattened?t:t.entry;return Array.isArray(s)&&Xr.arrayEach(s,function(o){r[o[i][0]]=St(o[n][0],e.value)}),r}function Gl(t,e){var r=[],i=e.member.name||"member";return e.flattened?Xr.arrayEach(t,function(n){r.push(St(n,e.member))}):t&&Array.isArray(t[i])&&Xr.arrayEach(t[i],function(n){r.push(St(n,e.member))}),r}function $l(t,e){return t&&t.$&&t.$.encoding==="base64"&&(e=new yg.create({type:t.$.encoding})),t&&t._&&(t=t._),typeof e.toType=="function"?e.toType(t):t}function Cg(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t)){var e=[];for(i=0;i<t.length;i++)e.push(St(t[i],{}));return e}var r=Object.keys(t),i;if(r.length===0||r.length===1&&r[0]==="$")return{};var n={};for(i=0;i<r.length;i++){var s=r[i],o=t[s];s!=="$"&&(o.length>1?n[s]=Gl(o,{member:{}}):n[s]=St(o[0],{}))}return n}Yl.exports=Xl});var Zl=I(()=>{var se=V(),_g=se.util.stream.Stream,Ql=se.util.stream.Transform,xg=se.util.stream.Readable;_i();var Ag="AWS_NODEJS_CONNECTION_REUSE_ENABLED";se.NodeHttpClient=se.util.inherit({handleRequest:function(e,r,i,n){var s=this,o=e.endpoint,a="";r||(r={}),r.proxy&&(a=o.protocol+"//"+o.hostname,o.port!==80&&o.port!==443&&(a+=":"+o.port),o=new se.Endpoint(r.proxy));var u=o.protocol==="https:",c=u?require("https"):require("http"),l={host:o.hostname,port:o.port,method:e.method,headers:e.headers,path:a+e.path};r.agent||(l.agent=this.getAgent(u,{keepAlive:process.env[Ag]==="1"})),se.util.update(l,r),delete l.proxy,delete l.timeout;var d=c.request(l,function(g){d.didCallback||(i(g),g.emit("headers",g.statusCode,g.headers,g.statusMessage))});if(e.stream=d,d.didCallback=!1,r.connectTimeout){var v;d.on("socket",function(g){g.connecting&&(v=setTimeout(function(){d.didCallback||(d.didCallback=!0,d.abort(),n(se.util.error(new Error("Socket timed out without establishing a connection"),{code:"TimeoutError"})))},r.connectTimeout),g.on("connect",function(){clearTimeout(v),v=null}))})}d.setTimeout(r.timeout||0,function(){if(!d.didCallback){d.didCallback=!0;var g="Connection timed out after "+r.timeout+"ms";n(se.util.error(new Error(g),{code:"TimeoutError"})),d.abort()}}),d.on("error",function(g){v&&(clearTimeout(v),v=null),!d.didCallback&&(d.didCallback=!0,g.code==="ECONNRESET"||g.code==="EPIPE"||g.code==="ETIMEDOUT"?n(se.util.error(g,{code:"TimeoutError"})):n(g))});var x=e.headers.Expect||e.headers.expect;return x==="100-continue"?d.once("continue",function(){s.writeBody(d,e)}):this.writeBody(d,e),d},writeBody:function(e,r){var i=r.body,n=parseInt(r.headers["Content-Length"],10);if(i instanceof _g){var s=this.progressStream(e,n);s?i.pipe(s).pipe(e):i.pipe(e)}else i?(e.once("finish",function(){e.emit("sendProgress",{loaded:n,total:n})}),e.end(i)):e.end()},getAgent:function(e,r){var i=e?require("https"):require("http");return e?(se.NodeHttpClient.sslAgent||(se.NodeHttpClient.sslAgent=new i.Agent(se.util.merge({rejectUnauthorized:process.env.NODE_TLS_REJECT_UNAUTHORIZED!=="0"},r||{})),se.NodeHttpClient.sslAgent.setMaxListeners(0),Object.defineProperty(se.NodeHttpClient.sslAgent,"maxSockets",{enumerable:!0,get:function(){var n=50,s=i.globalAgent;return s&&s.maxSockets!==1/0&&typeof s.maxSockets=="number"?s.maxSockets:n}})),se.NodeHttpClient.sslAgent):(se.NodeHttpClient.agent||(se.NodeHttpClient.agent=new i.Agent(r)),se.NodeHttpClient.agent)},progressStream:function(e,r){if(!(typeof Ql>"u")){var i=0,n=new Ql;return n._transform=function(s,o,a){s&&(i+=s.length,e.emit("sendProgress",{loaded:i,total:r})),a(null,s)},n}},emitter:null});se.HttpClient.prototype=se.NodeHttpClient.prototype;se.HttpClient.streamsApiVersion=xg?2:1});var ef=I(()=>{var ze=V(),bg=require("fs"),Rg=It(),Ig=ze.util.iniLoader;ze.TokenFileWebIdentityCredentials=ze.util.inherit(ze.Credentials,{constructor:function(e){ze.Credentials.call(this),this.data=null,this.clientConfig=ze.util.copy(e||{})},getParamsFromEnv:function(){var e="AWS_WEB_IDENTITY_TOKEN_FILE",r="AWS_ROLE_ARN";if(process.env[e]&&process.env[r])return[{envTokenFile:process.env[e],roleArn:process.env[r],roleSessionName:process.env.AWS_ROLE_SESSION_NAME}]},getParamsFromSharedConfig:function(){var e=ze.util.getProfilesFromSharedConfig(Ig),r=process.env.AWS_PROFILE||ze.util.defaultProfile,i=e[r]||{};if(Object.keys(i).length===0)throw ze.util.error(new Error("Profile "+r+" not found"),{code:"TokenFileWebIdentityCredentialsProviderFailure"});for(var n=[];!i.web_identity_token_file&&i.source_profile;){n.unshift({roleArn:i.role_arn,roleSessionName:i.role_session_name});var s=i.source_profile;i=e[s]}return n.unshift({envTokenFile:i.web_identity_token_file,roleArn:i.role_arn,roleSessionName:i.role_session_name}),n},refresh:function(e){this.coalesceRefresh(e||ze.util.fn.callback)},assumeRoleChaining:function(e,r){var i=this;if(e.length===0)i.service.credentialsFrom(i.data,i),r();else{var n=e.shift();i.service.config.credentials=i.service.credentialsFrom(i.data,i),i.service.assumeRole({RoleArn:n.roleArn,RoleSessionName:n.roleSessionName||"token-file-web-identity"},function(s,o){i.data=null,s?r(s):(i.data=o,i.assumeRoleChaining(e,r))})}},load:function(e){var r=this;try{var i=r.getParamsFromEnv();if(i||(i=r.getParamsFromSharedConfig()),i){var n=i.shift(),s=bg.readFileSync(n.envTokenFile,{encoding:"ascii"});r.service||r.createClients(),r.service.assumeRoleWithWebIdentity({WebIdentityToken:s,RoleArn:n.roleArn,RoleSessionName:n.roleSessionName||"token-file-web-identity"},function(o,a){r.data=null,o?e(o):(r.data=a,r.assumeRoleChaining(i,e))})}}catch(o){e(o)}},createClients:function(){if(!this.service){var t=ze.util.merge({},this.clientConfig);this.service=new Rg(t),this.service.retryableError=function(e){return e.code==="IDPCommunicationErrorException"||e.code==="InvalidIdentityToken"?!0:ze.Service.prototype.retryableError.call(this,e)}}}})});var rf=I((TS,tf)=>{var Pg=function(){return{IPv4:"http://169.254.169.254",IPv6:"http://[fd00:ec2::254]"}};tf.exports=Pg});var xs=I((CS,nf)=>{var Ng=function(){return{IPv4:"IPv4",IPv6:"IPv6"}};nf.exports=Ng});var of=I((_S,sf)=>{var Dg="AWS_EC2_METADATA_SERVICE_ENDPOINT",qg="ec2_metadata_service_endpoint",kg=function(){return{environmentVariableSelector:function(t){return t[Dg]},configFileSelector:function(t){return t[qg]},default:void 0}};sf.exports=kg});var uf=I((xS,af)=>{var Og=xs()(),Lg="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",Mg="ec2_metadata_service_endpoint_mode",Fg=function(){return{environmentVariableSelector:function(t){return t[Lg]},configFileSelector:function(t){return t[Mg]},default:Og.IPv4}};af.exports=Fg});var df=I((AS,pf)=>{var cf=V(),lf=rf()(),ff=xs()(),Bg=of()(),Ug=uf()(),Vg=function(){var t=cf.util.loadConfig(Bg);if(t!==void 0)return t;var e=cf.util.loadConfig(Ug);switch(e){case ff.IPv4:return lf.IPv4;case ff.IPv6:return lf.IPv6;default:throw new Error("Unsupported endpoint mode: "+e)}};pf.exports=Vg});var vf=I((bS,mf)=>{var Qe=V();_i();var jg=Qe.util.inherit,Wg=df(),hf=require("url").URL;Qe.MetadataService=jg({endpoint:Wg(),httpOptions:{timeout:0},disableFetchToken:!1,constructor:function(e){e&&e.host&&(e.endpoint="http://"+e.host,delete e.host),Qe.util.update(this,e)},request:function(e,r,i){if(arguments.length===2&&(i=r,r={}),process.env[Qe.util.imdsDisabledEnv]){i(new Error("EC2 Instance Metadata Service access disabled"));return}e=e||"/",hf&&new hf(this.endpoint);var n=new Qe.HttpRequest(this.endpoint+e);n.method=r.method||"GET",r.headers&&(n.headers=r.headers),Qe.util.handleRequestWithRetries(n,this,i)},loadCredentialsCallbacks:[],fetchMetadataToken:function(e){var r=this,i="/latest/api/token";r.request(i,{method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}},e)},fetchCredentials:function(e,r){var i=this,n="/latest/meta-data/iam/security-credentials/";i.request(n,e,function(s,o){if(s){i.disableFetchToken=s.statusCode!==401,r(Qe.util.error(s,{message:"EC2 Metadata roleName request returned error"}));return}o=o.split(`
`)[0],i.request(n+o,e,function(a,u){if(a){i.disableFetchToken=a.statusCode!==401,r(Qe.util.error(a,{message:"EC2 Metadata creds request returned error"}));return}try{var c=JSON.parse(u);r(null,c)}catch(l){r(l)}})})},loadCredentials:function(e){var r=this;if(r.loadCredentialsCallbacks.push(e),r.loadCredentialsCallbacks.length>1)return;function i(n,s){for(var o;(o=r.loadCredentialsCallbacks.shift())!==void 0;)o(n,s)}r.disableFetchToken?r.fetchCredentials({},i):r.fetchMetadataToken(function(n,s){if(n){if(n.code==="TimeoutError")r.disableFetchToken=!0;else if(n.retryable===!0){i(Qe.util.error(n,{message:"EC2 Metadata token request returned error"}));return}else if(n.statusCode===400){i(Qe.util.error(n,{message:"EC2 Metadata token request returned 400"}));return}}var o={};s&&(o.headers={"x-aws-ec2-metadata-token":s}),r.fetchCredentials(o,i)})}});mf.exports=Qe.MetadataService});var gf=I(()=>{var Me=V();vf();Me.EC2MetadataCredentials=Me.util.inherit(Me.Credentials,{constructor:function(e){Me.Credentials.call(this),e=e?Me.util.copy(e):{},e=Me.util.merge({maxRetries:this.defaultMaxRetries},e),e.httpOptions||(e.httpOptions={}),e.httpOptions=Me.util.merge({timeout:this.defaultTimeout,connectTimeout:this.defaultConnectTimeout},e.httpOptions),this.metadataService=new Me.MetadataService(e),this.logger=e.logger||Me.config&&Me.config.logger},defaultTimeout:1e3,defaultConnectTimeout:1e3,defaultMaxRetries:3,originalExpiration:void 0,refresh:function(e){this.coalesceRefresh(e||Me.util.fn.callback)},load:function(e){var r=this;r.metadataService.loadCredentials(function(i,n){i?r.hasLoadedCredentials()?(r.extendExpirationIfExpired(),e()):e(i):(r.setCredentials(n),r.extendExpirationIfExpired(),e())})},hasLoadedCredentials:function(){return this.AccessKeyId&&this.secretAccessKey},extendExpirationIfExpired:function(){if(this.needsRefresh()){this.originalExpiration=this.originalExpiration||this.expireTime,this.expired=!1;var e=15*60+Math.floor(Math.random()*5*60),r=Me.util.date.getDate().getTime();this.expireTime=new Date(r+e*1e3),this.logger.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted again at "+this.expireTime+`
For more information, please visit: https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html`)}},setCredentials:function(e){var r=Me.util.date.getDate().getTime(),i=new Date(e.Expiration);this.expired=r>=i,this.metadata=e,this.accessKeyId=e.AccessKeyId,this.secretAccessKey=e.SecretAccessKey,this.sessionToken=e.Token,this.expireTime=i}})});var Sf=I(()=>{var Te=V(),As="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Qi="AWS_CONTAINER_CREDENTIALS_FULL_URI",Hg="AWS_CONTAINER_AUTHORIZATION_TOKEN",zg=["https:"],yf=["http:","https:"],Ef=["localhost","127.0.0.1"],Kg="169.254.170.2";Te.RemoteCredentials=Te.util.inherit(Te.Credentials,{constructor:function(e){Te.Credentials.call(this),e=e?Te.util.copy(e):{},e.httpOptions||(e.httpOptions={}),e.httpOptions=Te.util.merge(this.httpOptions,e.httpOptions),Te.util.update(this,e)},httpOptions:{timeout:1e3},maxRetries:3,isConfiguredForEcsCredentials:function(){return!!(process&&process.env&&(process.env[As]||process.env[Qi]))},getECSFullUri:function(){if(process&&process.env){var e=process.env[As],r=process.env[Qi];if(e)return"http://"+Kg+e;if(r){var i=Te.util.urlParse(r);if(yf.indexOf(i.protocol)<0)throw Te.util.error(new Error("Unsupported protocol:  AWS.RemoteCredentials supports "+yf.join(",")+" only; "+i.protocol+" requested."),{code:"ECSCredentialsProviderFailure"});if(zg.indexOf(i.protocol)<0&&Ef.indexOf(i.hostname)<0)throw Te.util.error(new Error("Unsupported hostname: AWS.RemoteCredentials only supports "+Ef.join(",")+" for "+i.protocol+"; "+i.protocol+"//"+i.hostname+" requested."),{code:"ECSCredentialsProviderFailure"});return r}else throw Te.util.error(new Error("Variable "+As+" or "+Qi+" must be set to use AWS.RemoteCredentials."),{code:"ECSCredentialsProviderFailure"})}else throw Te.util.error(new Error("No process info available"),{code:"ECSCredentialsProviderFailure"})},getECSAuthToken:function(){if(process&&process.env&&process.env[Qi])return process.env[Hg]},credsFormatIsValid:function(e){return!!e.accessKeyId&&!!e.secretAccessKey&&!!e.sessionToken&&!!e.expireTime},formatCreds:function(e){return e.credentials&&(e=e.credentials),{expired:!1,accessKeyId:e.accessKeyId||e.AccessKeyId,secretAccessKey:e.secretAccessKey||e.SecretAccessKey,sessionToken:e.sessionToken||e.Token,expireTime:new Date(e.expiration||e.Expiration)}},request:function(e,r){var i=new Te.HttpRequest(e);i.method="GET",i.headers.Accept="application/json";var n=this.getECSAuthToken();n&&(i.headers.Authorization=n),Te.util.handleRequestWithRetries(i,this,r)},refresh:function(e){this.coalesceRefresh(e||Te.util.fn.callback)},load:function(e){var r=this,i;try{i=this.getECSFullUri()}catch(n){e(n);return}this.request(i,function(n,s){if(!n)try{s=JSON.parse(s);var o=r.formatCreds(s);if(!r.credsFormatIsValid(o))throw Te.util.error(new Error("Response data is not in valid format"),{code:"ECSCredentialsProviderFailure"});Te.util.update(r,o)}catch(a){n=a}e(n,o)})}})});var Tf=I(()=>{var wf=V();wf.ECSCredentials=wf.RemoteCredentials});var Cf=I(()=>{var Nt=V();Nt.EnvironmentCredentials=Nt.util.inherit(Nt.Credentials,{constructor:function(e){Nt.Credentials.call(this),this.envPrefix=e,this.get(function(){})},refresh:function(e){if(e||(e=Nt.util.fn.callback),!process||!process.env){e(Nt.util.error(new Error("No process info or environment variables available"),{code:"EnvironmentCredentialsProviderFailure"}));return}for(var r=["ACCESS_KEY_ID","SECRET_ACCESS_KEY","SESSION_TOKEN"],i=[],n=0;n<r.length;n++){var s="";if(this.envPrefix&&(s=this.envPrefix+"_"),i[n]=process.env[s+r[n]],!i[n]&&r[n]!=="SESSION_TOKEN"){e(Nt.util.error(new Error("Variable "+s+r[n]+" not set."),{code:"EnvironmentCredentialsProviderFailure"}));return}}this.expired=!1,Nt.Credentials.apply(this,i),e()}})});var _f=I(()=>{var Dt=V();Dt.FileSystemCredentials=Dt.util.inherit(Dt.Credentials,{constructor:function(e){Dt.Credentials.call(this),this.filename=e,this.get(function(){})},refresh:function(e){e||(e=Dt.util.fn.callback);try{var r=JSON.parse(Dt.util.readFileSync(this.filename));if(Dt.Credentials.call(this,r),!this.accessKeyId||!this.secretAccessKey)throw Dt.util.error(new Error("Credentials not set in "+this.filename),{code:"FileSystemCredentialsProviderFailure"});this.expired=!1,e()}catch(i){e(i)}}})});var Af=I(()=>{var Ce=V(),Xg=It(),xf=Ce.util.iniLoader,Gg="us-east-1";Ce.SharedIniFileCredentials=Ce.util.inherit(Ce.Credentials,{constructor:function(e){Ce.Credentials.call(this),e=e||{},this.filename=e.filename,this.profile=e.profile||process.env.AWS_PROFILE||Ce.util.defaultProfile,this.disableAssumeRole=!!e.disableAssumeRole,this.preferStaticCredentials=!!e.preferStaticCredentials,this.tokenCodeFn=e.tokenCodeFn||null,this.httpOptions=e.httpOptions||null,this.get(e.callback||Ce.util.fn.noop)},load:function(e){var r=this;try{var i=Ce.util.getProfilesFromSharedConfig(xf,this.filename),n=i[this.profile]||{};if(Object.keys(n).length===0)throw Ce.util.error(new Error("Profile "+this.profile+" not found"),{code:"SharedIniFileCredentialsProviderFailure"});var s=!!(this.preferStaticCredentials&&n.aws_access_key_id&&n.aws_secret_access_key);if(n.role_arn&&!s){this.loadRoleProfile(i,n,function(o,a){o?e(o):(r.expired=!1,r.accessKeyId=a.Credentials.AccessKeyId,r.secretAccessKey=a.Credentials.SecretAccessKey,r.sessionToken=a.Credentials.SessionToken,r.expireTime=a.Credentials.Expiration,e(null))});return}if(this.accessKeyId=n.aws_access_key_id,this.secretAccessKey=n.aws_secret_access_key,this.sessionToken=n.aws_session_token,!this.accessKeyId||!this.secretAccessKey)throw Ce.util.error(new Error("Credentials not set for profile "+this.profile),{code:"SharedIniFileCredentialsProviderFailure"});this.expired=!1,e(null)}catch(o){e(o)}},refresh:function(e){xf.clearCachedFiles(),this.coalesceRefresh(e||Ce.util.fn.callback,this.disableAssumeRole)},loadRoleProfile:function(e,r,i){if(this.disableAssumeRole)throw Ce.util.error(new Error("Role assumption profiles are disabled. Failed to load profile "+this.profile+" from "+e.filename),{code:"SharedIniFileCredentialsProviderFailure"});var n=this,s=r.role_arn,o=r.role_session_name,a=r.external_id,u=r.mfa_serial,c=r.source_profile,l=r.region||Gg;if(!c)throw Ce.util.error(new Error("source_profile is not set using profile "+this.profile),{code:"SharedIniFileCredentialsProviderFailure"});var d=e[c];if(typeof d!="object")throw Ce.util.error(new Error("source_profile "+c+" using profile "+this.profile+" does not exist"),{code:"SharedIniFileCredentialsProviderFailure"});var v=new Ce.SharedIniFileCredentials(Ce.util.merge(this.options||{},{profile:c,preferStaticCredentials:!0}));this.roleArn=s;var x=new Xg({credentials:v,region:l,httpOptions:this.httpOptions}),g={RoleArn:s,RoleSessionName:o||"aws-sdk-js-"+Date.now()};if(a&&(g.ExternalId=a),u&&n.tokenCodeFn){g.SerialNumber=u,n.tokenCodeFn(u,function(E,P){if(E){var S;E instanceof Error?S=E.message:S=E,i(Ce.util.error(new Error("Error fetching MFA token: "+S),{code:"SharedIniFileCredentialsProviderFailure"}));return}g.TokenCode=P,x.assumeRole(g,i)});return}x.assumeRole(g,i)}})});var bf=I(()=>{var fe=V(),$g=require("path"),Yg=require("crypto"),bs=fe.util.iniLoader;fe.SsoCredentials=fe.util.inherit(fe.Credentials,{constructor:function(e){fe.Credentials.call(this),e=e||{},this.errorCode="SsoCredentialsProviderFailure",this.expired=!0,this.filename=e.filename,this.profile=e.profile||process.env.AWS_PROFILE||fe.util.defaultProfile,this.service=e.ssoClient,this.httpOptions=e.httpOptions||null,this.get(e.callback||fe.util.fn.noop)},load:function(e){var r=this;try{var i=fe.util.getProfilesFromSharedConfig(bs,this.filename),n=i[this.profile]||{};if(Object.keys(n).length===0)throw fe.util.error(new Error("Profile "+this.profile+" not found"),{code:r.errorCode});if(n.sso_session){if(!n.sso_account_id||!n.sso_role_name)throw fe.util.error(new Error("Profile "+this.profile+" with session "+n.sso_session+' does not have valid SSO credentials. Required parameters "sso_account_id", "sso_session", "sso_role_name". Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html'),{code:r.errorCode})}else if(!n.sso_start_url||!n.sso_account_id||!n.sso_region||!n.sso_role_name)throw fe.util.error(new Error("Profile "+this.profile+' does not have valid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html'),{code:r.errorCode});this.getToken(this.profile,n,function(s,o){if(s)return e(s);var a={accessToken:o,accountId:n.sso_account_id,roleName:n.sso_role_name};(!r.service||r.service.config.region!==n.sso_region)&&(r.service=new fe.SSO({region:n.sso_region,httpOptions:r.httpOptions})),r.service.getRoleCredentials(a,function(u,c){if(u||!c||!c.roleCredentials)e(fe.util.error(u||new Error('Please log in using "aws sso login"'),{code:r.errorCode}),null);else{if(!c.roleCredentials.accessKeyId||!c.roleCredentials.secretAccessKey||!c.roleCredentials.sessionToken||!c.roleCredentials.expiration)throw fe.util.error(new Error("SSO returns an invalid temporary credential."));r.expired=!1,r.accessKeyId=c.roleCredentials.accessKeyId,r.secretAccessKey=c.roleCredentials.secretAccessKey,r.sessionToken=c.roleCredentials.sessionToken,r.expireTime=new Date(c.roleCredentials.expiration),e(null)}})})}catch(s){e(s)}},getToken:function(e,r,i){var n=this;if(r.sso_session){var s=fe.util.iniLoader,o=s.loadSsoSessionsFrom(),a=o[r.sso_session];Object.assign(r,a);var u=new fe.SSOTokenProvider({profile:e});u.load(function(E){return E?i(E):i(null,u.token)});return}try{var c=9e5,l=Yg.createHash("sha1"),d=l.update(r.sso_start_url).digest("hex")+".json",v=$g.join(bs.getHomeDir(),".aws","sso","cache",d),x=fe.util.readFileSync(v),g=null;if(x&&(g=JSON.parse(x)),!g)throw fe.util.error(new Error("Cached credentials not found under "+this.profile+" profile. Please make sure you log in with aws sso login first"),{code:n.errorCode});if(!g.startUrl||!g.region||!g.accessToken||!g.expiresAt)throw fe.util.error(new Error("Cached credentials are missing required properties. Try running aws sso login."));if(new Date(g.expiresAt).getTime()-Date.now()<=c)throw fe.util.error(new Error("The SSO session associated with this profile has expired. To refresh this SSO session run aws sso login with the corresponding profile."));return i(null,g.accessToken)}catch(E){return i(E,null)}},refresh:function(e){bs.clearCachedFiles(),this.coalesceRefresh(e||fe.util.fn.callback)}})});var Rf=I(()=>{var Ke=V();Ke.Token=Ke.util.inherit({constructor:function(e){if(Ke.util.hideProperties(this,["token"]),this.expired=!1,this.expireTime=null,this.refreshCallbacks=[],arguments.length===1){var e=arguments[0];this.token=e.token,this.expireTime=e.expireTime}},expiryWindow:15,needsRefresh:function(){var e=Ke.util.date.getDate().getTime(),r=new Date(e+this.expiryWindow*1e3);return this.expireTime&&r>this.expireTime?!0:this.expired||!this.token},get:function(e){var r=this;this.needsRefresh()?this.refresh(function(i){i||(r.expired=!1),e&&e(i)}):e&&e()},refresh:function(e){this.expired=!1,e()},coalesceRefresh:function(e,r){var i=this;i.refreshCallbacks.push(e)===1&&i.load(function(s){Ke.util.arrayEach(i.refreshCallbacks,function(o){r?o(s):Ke.util.defer(function(){o(s)})}),i.refreshCallbacks.length=0})},load:function(e){e()}});Ke.Token.addPromisesToClass=function(e){this.prototype.getPromise=Ke.util.promisifyMethod("get",e),this.prototype.refreshPromise=Ke.util.promisifyMethod("refresh",e)};Ke.Token.deletePromisesFromClass=function(){delete this.prototype.getPromise,delete this.prototype.refreshPromise};Ke.util.addPromises(Ke.Token)});var If=I(()=>{var Ze=V();Ze.TokenProviderChain=Ze.util.inherit(Ze.Token,{constructor:function(e){e?this.providers=e:this.providers=Ze.TokenProviderChain.defaultProviders.slice(0),this.resolveCallbacks=[]},resolve:function(e){var r=this;if(r.providers.length===0)return e(new Error("No providers")),r;if(r.resolveCallbacks.push(e)===1){let o=function(a,u){if(!a&&u||i===n.length){Ze.util.arrayEach(r.resolveCallbacks,function(l){l(a,u)}),r.resolveCallbacks.length=0;return}var c=n[i++];typeof c=="function"?u=c.call():u=c,u.get?u.get(function(l){o(l,l?null:u)}):o(null,u)};var s=o,i=0,n=r.providers.slice(0);o()}return r}});Ze.TokenProviderChain.defaultProviders=[];Ze.TokenProviderChain.addPromisesToClass=function(e){this.prototype.resolvePromise=Ze.util.promisifyMethod("resolve",e)};Ze.TokenProviderChain.deletePromisesFromClass=function(){delete this.prototype.resolvePromise};Ze.util.addPromises(Ze.TokenProviderChain)});var Df=I(()=>{var ve=V(),Jg=require("crypto"),Pf=require("fs"),Qg=require("path"),Zi=ve.util.iniLoader,Nf=0,Xt=function(e,r){if(!e[r])throw ve.util.error(new Error('Key "'+r+'" not present in SSO Token'),{code:"SSOTokenProviderFailure"})},Rs=function(e,r,i){if(r>e)i(null);else throw ve.util.error(new Error('SSO Token refresh failed. Please log in using "aws sso login"'),{code:"SSOTokenProviderFailure"})};ve.SSOTokenProvider=ve.util.inherit(ve.Token,{expiryWindow:5*60,constructor:function(e){ve.Token.call(this),e=e||{},this.expired=!0,this.profile=e.profile||process.env.AWS_PROFILE||ve.util.defaultProfile,this.get(e.callback||ve.util.fn.noop)},load:function(e){var r=this,i=Zi.loadFrom({isConfig:!0}),n=i[this.profile]||{};if(Object.keys(n).length===0)throw ve.util.error(new Error('Profile "'+this.profile+'" not found'),{code:"SSOTokenProviderFailure"});if(!n.sso_session)throw ve.util.error(new Error('Profile "'+profileName+'" is missing required property "sso_session".'),{code:"SSOTokenProviderFailure"});var s=n.sso_session,o=Zi.loadSsoSessionsFrom(),a=o[s];if(a)if(a.sso_start_url){if(!a.sso_region)throw ve.util.error(new Error('Sso session "'+profileName+'" is missing required property "sso_region".'),{code:"SSOTokenProviderFailure"})}else throw ve.util.error(new Error('Sso session "'+profileName+'" is missing required property "sso_start_url".'),{code:"SSOTokenProviderFailure"});else throw ve.util.error(new Error('Sso session "'+s+'" not found'),{code:"SSOTokenProviderFailure"});var u=Jg.createHash("sha1"),c=u.update(s).digest("hex")+".json",l=Qg.join(Zi.getHomeDir(),".aws","sso","cache",c),d=JSON.parse(Pf.readFileSync(l));if(!d)throw ve.util.error(new Error('Cached token not found. Please log in using "aws sso login" for profile "'+this.profile+'".'),{code:"SSOTokenProviderFailure"});Xt(d,"accessToken"),Xt(d,"expiresAt");var v=ve.util.date.getDate().getTime(),x=new Date(v+this.expiryWindow*1e3),g=new Date(d.expiresAt);if(g>x){r.token=d.accessToken,r.expireTime=g,r.expired=!1,e(null);return}if(v-Nf<30*1e3){Rs(v,g,e);return}Xt(d,"clientId"),Xt(d,"clientSecret"),Xt(d,"refreshToken"),(!r.service||r.service.config.region!==a.sso_region)&&(r.service=new ve.SSOOIDC({region:a.sso_region}));var E={clientId:d.clientId,clientSecret:d.clientSecret,refreshToken:d.refreshToken,grantType:"refresh_token"};Nf=ve.util.date.getDate().getTime(),r.service.createToken(E,function(P,S){if(P||!S)Rs(v,g,e);else try{Xt(S,"accessToken"),Xt(S,"expiresIn"),r.expired=!1,r.token=S.accessToken,r.expireTime=new Date(Date.now()+S.expiresIn*1e3),e(null);try{d.accessToken=S.accessToken,d.expiresAt=r.expireTime.toISOString(),d.refreshToken=S.refreshToken,Pf.writeFileSync(l,JSON.stringify(d,null,2))}catch{}}catch{Rs(v,g,e)}})},refresh:function(e){Zi.clearCachedFiles(),this.coalesceRefresh(e||ve.util.fn.callback)}})});var Xi=I((GS,Of)=>{var oe=le(),kf=Jn(),Zg=kf.isFipsRegion,ey=kf.getRealRegion;oe.isBrowser=function(){return!1};oe.isNode=function(){return!0};oe.crypto.lib=require("crypto");oe.Buffer=require("buffer").Buffer;oe.domain=require("domain");oe.stream=require("stream");oe.url=require("url");oe.querystring=require("querystring");oe.environment="nodejs";oe.createEventStream=oe.stream.Readable?hc().createEventStream:yc().createEventStream;oe.realClock=Sc();oe.clientSideMonitoring={Publisher:Tc().Publisher,configProvider:xc()};oe.iniLoader=Pc().iniLoader;oe.getSystemErrorName=require("util").getSystemErrorName;oe.loadConfig=function(t){var e=t.environmentVariableSelector(process.env);if(e!==void 0)return e;var r={};try{r=oe.iniLoader?oe.iniLoader.loadFrom({isConfig:!0,filename:process.env[oe.sharedConfigFileEnv]}):{}}catch{}var i=r[process.env.AWS_PROFILE||oe.defaultProfile]||{},n=t.configFileSelector(i);return n!==void 0?n:typeof t.default=="function"?t.default():t.default};var te;Of.exports=te=V();Zn();es();Fc();Bc();Uc();Kc();Xc();gs();te.XML.Parser=Jl();Zl();ms();ef();gf();Sf();Tf();Cf();_f();Af();gs();bf();te.CredentialProviderChain.defaultProviders=[function(){return new te.EnvironmentCredentials("AWS")},function(){return new te.EnvironmentCredentials("AMAZON")},function(){return new te.SsoCredentials},function(){return new te.SharedIniFileCredentials},function(){return new te.ECSCredentials},function(){return new te.ProcessCredentials},function(){return new te.TokenFileWebIdentityCredentials},function(){return new te.EC2MetadataCredentials}];Rf();If();Df();te.TokenProviderChain.defaultProviders=[function(){return new te.SSOTokenProvider}];var qf=function(){var t=process.env,e=t.AWS_REGION||t.AMAZON_REGION;if(t[te.util.configOptInEnv])for(var r=[{filename:t[te.util.sharedCredentialsFileEnv]},{isConfig:!0,filename:t[te.util.sharedConfigFileEnv]}],i=te.util.iniLoader;!e&&r.length;){var n={},s=r.shift();try{n=i.loadFrom(s)}catch(a){if(s.isConfig)throw a}var o=n[t.AWS_PROFILE||te.util.defaultProfile];e=o&&o.region}return e},en=function(t){return t==="true"?!0:t==="false"?!1:void 0},ty={environmentVariableSelector:function(t){return en(t.AWS_USE_FIPS_ENDPOINT)},configFileSelector:function(t){return en(t.use_fips_endpoint)},default:!1},ry={environmentVariableSelector:function(t){return en(t.AWS_USE_DUALSTACK_ENDPOINT)},configFileSelector:function(t){return en(t.use_dualstack_endpoint)},default:!1};te.util.update(te.Config.prototype.keys,{credentials:function(){var t=null;return new te.CredentialProviderChain([function(){return new te.EnvironmentCredentials("AWS")},function(){return new te.EnvironmentCredentials("AMAZON")},function(){return new te.SharedIniFileCredentials({disableAssumeRole:!0})}]).resolve(function(e,r){e||(t=r)}),t},credentialProvider:function(){return new te.CredentialProviderChain},logger:function(){return process.env.AWSJS_DEBUG?console:null},region:function(){var t=qf();return t?ey(t):void 0},tokenProvider:function(){return new te.TokenProviderChain},useFipsEndpoint:function(){var t=qf();return Zg(t)?!0:oe.loadConfig(ty)},useDualstackEndpoint:function(){return oe.loadConfig(ry)}});te.config=new te.Config});var Lf=I(($S,iy)=>{iy.exports={version:"2.0",metadata:{apiVersion:"2018-09-22",endpointPrefix:"codeartifact",jsonVersion:"1.1",protocol:"rest-json",serviceFullName:"CodeArtifact",serviceId:"codeartifact",signatureVersion:"v4",signingName:"codeartifact",uid:"codeartifact-2018-09-22"},operations:{AssociateExternalConnection:{http:{requestUri:"/v1/repository/external-connection"},input:{type:"structure",required:["domain","repository","externalConnection"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},externalConnection:{location:"querystring",locationName:"external-connection"}}},output:{type:"structure",members:{repository:{shape:"S7"}}}},CopyPackageVersions:{http:{requestUri:"/v1/package/versions/copy"},input:{type:"structure",required:["domain","sourceRepository","destinationRepository","format","package"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},sourceRepository:{location:"querystring",locationName:"source-repository"},destinationRepository:{location:"querystring",locationName:"destination-repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},versions:{shape:"Sj"},versionRevisions:{shape:"Sl"},allowOverwrite:{type:"boolean"},includeFromUpstream:{type:"boolean"}}},output:{type:"structure",members:{successfulVersions:{shape:"Sp"},failedVersions:{shape:"St"}}}},CreateDomain:{http:{requestUri:"/v1/domain"},input:{type:"structure",required:["domain"],members:{domain:{location:"querystring",locationName:"domain"},encryptionKey:{},tags:{shape:"Sy"}}},output:{type:"structure",members:{domain:{shape:"S13"}}}},CreateRepository:{http:{requestUri:"/v1/repository"},input:{type:"structure",required:["domain","repository"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},description:{},upstreams:{shape:"S19"},tags:{shape:"Sy"}}},output:{type:"structure",members:{repository:{shape:"S7"}}}},DeleteDomain:{http:{method:"DELETE",requestUri:"/v1/domain"},input:{type:"structure",required:["domain"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"}}},output:{type:"structure",members:{domain:{shape:"S13"}}}},DeleteDomainPermissionsPolicy:{http:{method:"DELETE",requestUri:"/v1/domain/permissions/policy"},input:{type:"structure",required:["domain"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},policyRevision:{location:"querystring",locationName:"policy-revision"}}},output:{type:"structure",members:{policy:{shape:"S1h"}}}},DeletePackage:{http:{method:"DELETE",requestUri:"/v1/package"},input:{type:"structure",required:["domain","repository","format","package"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"}}},output:{type:"structure",members:{deletedPackage:{shape:"S1l"}}}},DeletePackageVersions:{http:{requestUri:"/v1/package/versions/delete"},input:{type:"structure",required:["domain","repository","format","package","versions"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},versions:{shape:"Sj"},expectedStatus:{}}},output:{type:"structure",members:{successfulVersions:{shape:"Sp"},failedVersions:{shape:"St"}}}},DeleteRepository:{http:{method:"DELETE",requestUri:"/v1/repository"},input:{type:"structure",required:["domain","repository"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"}}},output:{type:"structure",members:{repository:{shape:"S7"}}}},DeleteRepositoryPermissionsPolicy:{http:{method:"DELETE",requestUri:"/v1/repository/permissions/policies"},input:{type:"structure",required:["domain","repository"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},policyRevision:{location:"querystring",locationName:"policy-revision"}}},output:{type:"structure",members:{policy:{shape:"S1h"}}}},DescribeDomain:{http:{method:"GET",requestUri:"/v1/domain"},input:{type:"structure",required:["domain"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"}}},output:{type:"structure",members:{domain:{shape:"S13"}}}},DescribePackage:{http:{method:"GET",requestUri:"/v1/package"},input:{type:"structure",required:["domain","repository","format","package"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"}}},output:{type:"structure",required:["package"],members:{package:{type:"structure",members:{format:{},namespace:{},name:{},originConfiguration:{shape:"S1m"}}}}}},DescribePackageVersion:{http:{method:"GET",requestUri:"/v1/package/version"},input:{type:"structure",required:["domain","repository","format","package","packageVersion"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},packageVersion:{location:"querystring",locationName:"version"}}},output:{type:"structure",required:["packageVersion"],members:{packageVersion:{type:"structure",members:{format:{},namespace:{},packageName:{},displayName:{},version:{},summary:{},homePage:{},sourceCodeRepository:{},publishedTime:{type:"timestamp"},licenses:{type:"list",member:{type:"structure",members:{name:{},url:{}}}},revision:{},status:{},origin:{shape:"S27"}}}}}},DescribeRepository:{http:{method:"GET",requestUri:"/v1/repository"},input:{type:"structure",required:["domain","repository"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"}}},output:{type:"structure",members:{repository:{shape:"S7"}}}},DisassociateExternalConnection:{http:{method:"DELETE",requestUri:"/v1/repository/external-connection"},input:{type:"structure",required:["domain","repository","externalConnection"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},externalConnection:{location:"querystring",locationName:"external-connection"}}},output:{type:"structure",members:{repository:{shape:"S7"}}}},DisposePackageVersions:{http:{requestUri:"/v1/package/versions/dispose"},input:{type:"structure",required:["domain","repository","format","package","versions"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},versions:{shape:"Sj"},versionRevisions:{shape:"Sl"},expectedStatus:{}}},output:{type:"structure",members:{successfulVersions:{shape:"Sp"},failedVersions:{shape:"St"}}}},GetAuthorizationToken:{http:{requestUri:"/v1/authorization-token"},input:{type:"structure",required:["domain"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},durationSeconds:{location:"querystring",locationName:"duration",type:"long"}}},output:{type:"structure",members:{authorizationToken:{},expiration:{type:"timestamp"}}}},GetDomainPermissionsPolicy:{http:{method:"GET",requestUri:"/v1/domain/permissions/policy"},input:{type:"structure",required:["domain"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"}}},output:{type:"structure",members:{policy:{shape:"S1h"}}}},GetPackageVersionAsset:{http:{method:"GET",requestUri:"/v1/package/version/asset"},input:{type:"structure",required:["domain","repository","format","package","packageVersion","asset"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},packageVersion:{location:"querystring",locationName:"version"},asset:{location:"querystring",locationName:"asset"},packageVersionRevision:{location:"querystring",locationName:"revision"}}},output:{type:"structure",members:{asset:{type:"blob",streaming:!0},assetName:{location:"header",locationName:"X-AssetName"},packageVersion:{location:"header",locationName:"X-PackageVersion"},packageVersionRevision:{location:"header",locationName:"X-PackageVersionRevision"}},payload:"asset"}},GetPackageVersionReadme:{http:{method:"GET",requestUri:"/v1/package/version/readme"},input:{type:"structure",required:["domain","repository","format","package","packageVersion"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},packageVersion:{location:"querystring",locationName:"version"}}},output:{type:"structure",members:{format:{},namespace:{},package:{},version:{},versionRevision:{},readme:{}}}},GetRepositoryEndpoint:{http:{method:"GET",requestUri:"/v1/repository/endpoint"},input:{type:"structure",required:["domain","repository","format"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"}}},output:{type:"structure",members:{repositoryEndpoint:{}}}},GetRepositoryPermissionsPolicy:{http:{method:"GET",requestUri:"/v1/repository/permissions/policy"},input:{type:"structure",required:["domain","repository"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"}}},output:{type:"structure",members:{policy:{shape:"S1h"}}}},ListDomains:{http:{requestUri:"/v1/domains"},input:{type:"structure",members:{maxResults:{type:"integer"},nextToken:{}}},output:{type:"structure",members:{domains:{type:"list",member:{type:"structure",members:{name:{},owner:{},arn:{},status:{},createdTime:{type:"timestamp"},encryptionKey:{}}}},nextToken:{}}}},ListPackageVersionAssets:{http:{requestUri:"/v1/package/version/assets"},input:{type:"structure",required:["domain","repository","format","package","packageVersion"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},packageVersion:{location:"querystring",locationName:"version"},maxResults:{location:"querystring",locationName:"max-results",type:"integer"},nextToken:{location:"querystring",locationName:"next-token"}}},output:{type:"structure",members:{format:{},namespace:{},package:{},version:{},versionRevision:{},nextToken:{},assets:{type:"list",member:{type:"structure",required:["name"],members:{name:{},size:{type:"long"},hashes:{type:"map",key:{},value:{}}}}}}}},ListPackageVersionDependencies:{http:{requestUri:"/v1/package/version/dependencies"},input:{type:"structure",required:["domain","repository","format","package","packageVersion"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},packageVersion:{location:"querystring",locationName:"version"},nextToken:{location:"querystring",locationName:"next-token"}}},output:{type:"structure",members:{format:{},namespace:{},package:{},version:{},versionRevision:{},nextToken:{},dependencies:{type:"list",member:{type:"structure",members:{namespace:{},package:{},dependencyType:{},versionRequirement:{}}}}}}},ListPackageVersions:{http:{requestUri:"/v1/package/versions"},input:{type:"structure",required:["domain","repository","format","package"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},status:{location:"querystring",locationName:"status"},sortBy:{location:"querystring",locationName:"sortBy"},maxResults:{location:"querystring",locationName:"max-results",type:"integer"},nextToken:{location:"querystring",locationName:"next-token"},originType:{location:"querystring",locationName:"originType"}}},output:{type:"structure",members:{defaultDisplayVersion:{},format:{},namespace:{},package:{},versions:{type:"list",member:{type:"structure",required:["version","status"],members:{version:{},revision:{},status:{},origin:{shape:"S27"}}}},nextToken:{}}}},ListPackages:{http:{requestUri:"/v1/packages"},input:{type:"structure",required:["domain","repository"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},packagePrefix:{location:"querystring",locationName:"package-prefix"},maxResults:{location:"querystring",locationName:"max-results",type:"integer"},nextToken:{location:"querystring",locationName:"next-token"},publish:{location:"querystring",locationName:"publish"},upstream:{location:"querystring",locationName:"upstream"}}},output:{type:"structure",members:{packages:{type:"list",member:{shape:"S1l"}},nextToken:{}}}},ListRepositories:{http:{requestUri:"/v1/repositories"},input:{type:"structure",members:{repositoryPrefix:{location:"querystring",locationName:"repository-prefix"},maxResults:{location:"querystring",locationName:"max-results",type:"integer"},nextToken:{location:"querystring",locationName:"next-token"}}},output:{type:"structure",members:{repositories:{shape:"S3r"},nextToken:{}}}},ListRepositoriesInDomain:{http:{requestUri:"/v1/domain/repositories"},input:{type:"structure",required:["domain"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},administratorAccount:{location:"querystring",locationName:"administrator-account"},repositoryPrefix:{location:"querystring",locationName:"repository-prefix"},maxResults:{location:"querystring",locationName:"max-results",type:"integer"},nextToken:{location:"querystring",locationName:"next-token"}}},output:{type:"structure",members:{repositories:{shape:"S3r"},nextToken:{}}}},ListTagsForResource:{http:{requestUri:"/v1/tags"},input:{type:"structure",required:["resourceArn"],members:{resourceArn:{location:"querystring",locationName:"resourceArn"}}},output:{type:"structure",members:{tags:{shape:"Sy"}}}},PutDomainPermissionsPolicy:{http:{method:"PUT",requestUri:"/v1/domain/permissions/policy"},input:{type:"structure",required:["domain","policyDocument"],members:{domain:{},domainOwner:{},policyRevision:{},policyDocument:{}}},output:{type:"structure",members:{policy:{shape:"S1h"}}}},PutPackageOriginConfiguration:{http:{requestUri:"/v1/package"},input:{type:"structure",required:["domain","repository","format","package","restrictions"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},restrictions:{shape:"S1n"}}},output:{type:"structure",members:{originConfiguration:{shape:"S1m"}}}},PutRepositoryPermissionsPolicy:{http:{method:"PUT",requestUri:"/v1/repository/permissions/policy"},input:{type:"structure",required:["domain","repository","policyDocument"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},policyRevision:{},policyDocument:{}}},output:{type:"structure",members:{policy:{shape:"S1h"}}}},TagResource:{http:{requestUri:"/v1/tag"},input:{type:"structure",required:["resourceArn","tags"],members:{resourceArn:{location:"querystring",locationName:"resourceArn"},tags:{shape:"Sy"}}},output:{type:"structure",members:{}}},UntagResource:{http:{requestUri:"/v1/untag"},input:{type:"structure",required:["resourceArn","tagKeys"],members:{resourceArn:{location:"querystring",locationName:"resourceArn"},tagKeys:{type:"list",member:{}}}},output:{type:"structure",members:{}}},UpdatePackageVersionsStatus:{http:{requestUri:"/v1/package/versions/update_status"},input:{type:"structure",required:["domain","repository","format","package","versions","targetStatus"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},versions:{shape:"Sj"},versionRevisions:{shape:"Sl"},expectedStatus:{},targetStatus:{}}},output:{type:"structure",members:{successfulVersions:{shape:"Sp"},failedVersions:{shape:"St"}}}},UpdateRepository:{http:{method:"PUT",requestUri:"/v1/repository"},input:{type:"structure",required:["domain","repository"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},description:{},upstreams:{shape:"S19"}}},output:{type:"structure",members:{repository:{shape:"S7"}}}}},shapes:{S7:{type:"structure",members:{name:{},administratorAccount:{},domainName:{},domainOwner:{},arn:{},description:{},upstreams:{type:"list",member:{type:"structure",members:{repositoryName:{}}}},externalConnections:{type:"list",member:{type:"structure",members:{externalConnectionName:{},packageFormat:{},status:{}}}}}},Sj:{type:"list",member:{}},Sl:{type:"map",key:{},value:{}},Sp:{type:"map",key:{},value:{type:"structure",members:{revision:{},status:{}}}},St:{type:"map",key:{},value:{type:"structure",members:{errorCode:{},errorMessage:{}}}},Sy:{type:"list",member:{type:"structure",required:["key","value"],members:{key:{},value:{}}}},S13:{type:"structure",members:{name:{},owner:{},arn:{},status:{},createdTime:{type:"timestamp"},encryptionKey:{},repositoryCount:{type:"integer"},assetSizeBytes:{type:"long"},s3BucketArn:{}}},S19:{type:"list",member:{type:"structure",required:["repositoryName"],members:{repositoryName:{}}}},S1h:{type:"structure",members:{resourceArn:{},revision:{},document:{}}},S1l:{type:"structure",members:{format:{},namespace:{},package:{},originConfiguration:{shape:"S1m"}}},S1m:{type:"structure",members:{restrictions:{shape:"S1n"}}},S1n:{type:"structure",required:["publish","upstream"],members:{publish:{},upstream:{}}},S27:{type:"structure",members:{domainEntryPoint:{type:"structure",members:{repositoryName:{},externalConnectionName:{}}},originType:{}}},S3r:{type:"list",member:{type:"structure",members:{name:{},administratorAccount:{},domainName:{},domainOwner:{},arn:{},description:{}}}}}}});var Mf=I((YS,ny)=>{ny.exports={pagination:{ListDomains:{input_token:"nextToken",output_token:"nextToken",limit_key:"maxResults",result_key:"domains"},ListPackageVersionAssets:{input_token:"nextToken",output_token:"nextToken",limit_key:"maxResults",result_key:"assets"},ListPackageVersions:{input_token:"nextToken",output_token:"nextToken",limit_key:"maxResults",result_key:"versions"},ListPackages:{input_token:"nextToken",output_token:"nextToken",limit_key:"maxResults",result_key:"packages"},ListRepositories:{input_token:"nextToken",output_token:"nextToken",limit_key:"maxResults",result_key:"repositories"},ListRepositoriesInDomain:{input_token:"nextToken",output_token:"nextToken",limit_key:"maxResults",result_key:"repositories"}}}});var Uf=I((JS,Bf)=>{Xi();var tn=V(),sy=tn.Service,Ff=tn.apiLoader;Ff.services.codeartifact={};tn.CodeArtifact=sy.defineService("codeartifact",["2018-09-22"]);Object.defineProperty(Ff.services.codeartifact,"2018-09-22",{get:function(){var e=Lf();return e.paginators=Mf().pagination,e},enumerable:!0,configurable:!0});Bf.exports=tn.CodeArtifact});var ot=fr(xn());var Vf=fr(Uf()),cr=require("child_process");var Gr=(r=>(r.npm="npm",r.poetry="poetry",r))(Gr||{});function Gt(t){console.error(t),process.exit(1)}function jf(t){return t!=null&&t.domain||Gt("Domain does not exist in package.json"),t!=null&&t.accountId||Gt("accountId does not exist in package.json"),t!=null&&t.repository||Gt("repository does not exist in package.json"),t!=null&&t.region||Gt("region does not exist in package.json"),t!=null&&t.packageType||Gt("packageType does not exist in package.json"),{domain:t.domain,accountId:t.accountId,repository:t.repository,region:t.region,scope:t.scope,packageType:t.packageType}}async function Wf(t,e){let r=new Vf.default,i={domain:t,domainOwner:e},n=await r.getAuthorizationToken(i).promise().catch(s=>Gt(s));if((n==null?void 0:n.authorizationToken)===void 0)throw Gt("Failed to retrieve auth token");return n.authorizationToken}function oy(t){let e=(0,cr.execSync)("npm --version").toString(),r=Number(e[0]);if(isNaN(r))throw console.error(`Invalid version returned: ${e}`),new Error("Could not find npm version");return r<t}function ay(t){return t?`${t}:registry`:(console.log("Scope has not been set, setting as default registry"),"registry")}async function uy(t){let{domain:e,accountId:r,region:i,repository:n,scope:s}=jf(t),o=await Wf(e,r),a=`${e}-${r}.d.codeartifact.${i}.amazonaws.com/npm/${n}/`,u=`//${a}`,c=ay(s);(0,cr.execSync)(`npm config set ${c} https://${a}`),(0,cr.execSync)(`npm config set ${u}:_authToken=${o}`),oy(9)&&(console.log("Legacy version of NPM detected setting always-auth"),(0,cr.execSync)(`npm config set ${u}:always-auth=true`)),console.log(`npm credentials configured for endpoint: ${a}`)}async function cy(t){let{domain:e,accountId:r}=jf(t),i=await Wf(e,r);(0,cr.execSync)(`poetry config http-basic.mondo "aws" "${i}"`),console.log("Set codeartifact credentials for poetry")}async function Hf(t){if(t.packageType==="npm")await uy(t);else if(t.packageType==="poetry")await cy(t);else throw new Error(`invalid package type: ${t.packageType}, supported types: ${JSON.stringify(Gr)}`)}function zf(t){if(t==="npm")return"npm";if(t==="poetry")return"poetry";throw new Error(`invalid package type: ${t}, supported types: ${JSON.stringify(Gr)}`)}async function ly(){try{let t=(0,ot.getInput)("domain"),e=(0,ot.getInput)("accountId"),r=(0,ot.getInput)("region"),i=(0,ot.getInput)("repository"),n=(0,ot.getInput)("scope"),s=(0,ot.getInput)("packageType"),o=zf(s);console.log("Input Config Details:"),console.log(t,e,r,i,n,o),process.env.AWS_DEFAULT_REGION=r,Hf({domain:t,accountId:e,region:r,repository:i,scope:n,packageType:o})}catch(t){t instanceof Error?(0,ot.setFailed)(t.message):(console.error(t),(0,ot.setFailed)("Unknown error"))}}ly();
/*! Bundled license information:

sax/lib/sax.js:
  (*! http://mths.be/fromcodepoint v0.1.0 by @mathias *)
*/
//# sourceMappingURL=action.js.map
