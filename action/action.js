var Fl=Object.create;var Vi=Object.defineProperty;var Bl=Object.getOwnPropertyDescriptor;var Ul=Object.getOwnPropertyNames;var jl=Object.getPrototypeOf,Vl=Object.prototype.hasOwnProperty;var Xl=t=>Vi(t,"__esModule",{value:!0});var I=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Wl=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ul(e))!Vl.call(t,i)&&i!=="default"&&Vi(t,i,{get:()=>e[i],enumerable:!(r=Bl(e,i))||r.enumerable});return t},Xi=t=>Wl(Xl(Vi(t!=null?Fl(jl(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Br=I(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.toCommandProperties=Xt.toCommandValue=void 0;function Hl(t){return t==null?"":typeof t=="string"||t instanceof String?t:JSON.stringify(t)}Xt.toCommandValue=Hl;function zl(t){return Object.keys(t).length?{title:t.title,file:t.file,line:t.startLine,endLine:t.endLine,col:t.startColumn,endColumn:t.endColumn}:{}}Xt.toCommandProperties=zl});var os=I(Fe=>{"use strict";var Kl=Fe&&Fe.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Gl=Fe&&Fe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$l=Fe&&Fe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Kl(e,t,r);return Gl(e,t),e};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.issue=Fe.issueCommand=void 0;var Yl=$l(require("os")),rs=Br();function is(t,e,r){let i=new ss(t,e,r);process.stdout.write(i.toString()+Yl.EOL)}Fe.issueCommand=is;function Jl(t,e=""){is(t,{},e)}Fe.issue=Jl;var ns="::",ss=class{constructor(e,r,i){e||(e="missing.command"),this.command=e,this.properties=r,this.message=i}toString(){let e=ns+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=!0;for(let i in this.properties)if(this.properties.hasOwnProperty(i)){let n=this.properties[i];n&&(r?r=!1:e+=",",e+=`${i}=${Zl(n)}`)}}return e+=`${ns}${Ql(this.message)}`,e}};function Ql(t){return rs.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Zl(t){return rs.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});var cs=I(Ye=>{"use strict";var ef=Ye&&Ye.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),tf=Ye&&Ye.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),as=Ye&&Ye.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&ef(e,t,r);return tf(e,t),e};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.issueCommand=void 0;var us=as(require("fs")),rf=as(require("os")),nf=Br();function sf(t,e){let r=process.env[`GITHUB_${t}`];if(!r)throw new Error(`Unable to find environment variable for file command ${t}`);if(!us.existsSync(r))throw new Error(`Missing file at path: ${r}`);us.appendFileSync(r,`${nf.toCommandValue(e)}${rf.EOL}`,{encoding:"utf8"})}Ye.issueCommand=sf});var fs=I(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.checkBypass=Wt.getProxyUrl=void 0;function of(t){let e=t.protocol==="https:";if(ls(t))return;let r=(()=>e?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}Wt.getProxyUrl=of;function ls(t){if(!t.hostname)return!1;let e=process.env.no_proxy||process.env.NO_PROXY||"";if(!e)return!1;let r;t.port?r=Number(t.port):t.protocol==="http:"?r=80:t.protocol==="https:"&&(r=443);let i=[t.hostname.toUpperCase()];typeof r=="number"&&i.push(`${i[0]}:${r}`);for(let n of e.split(",").map(s=>s.trim().toUpperCase()).filter(s=>s))if(i.some(s=>s===n))return!0;return!1}Wt.checkBypass=ls});var ms=I(Ht=>{"use strict";var jy=require("net"),af=require("tls"),Wi=require("http"),ps=require("https"),uf=require("events"),Vy=require("assert"),cf=require("util");Ht.httpOverHttp=lf;Ht.httpsOverHttp=ff;Ht.httpOverHttps=pf;Ht.httpsOverHttps=df;function lf(t){var e=new ct(t);return e.request=Wi.request,e}function ff(t){var e=new ct(t);return e.request=Wi.request,e.createSocket=ds,e.defaultPort=443,e}function pf(t){var e=new ct(t);return e.request=ps.request,e}function df(t){var e=new ct(t);return e.request=ps.request,e.createSocket=ds,e.defaultPort=443,e}function ct(t){var e=this;e.options=t||{},e.proxyOptions=e.options.proxy||{},e.maxSockets=e.options.maxSockets||Wi.Agent.defaultMaxSockets,e.requests=[],e.sockets=[],e.on("free",function(i,n,s,o){for(var a=hs(n,s,o),u=0,c=e.requests.length;u<c;++u){var l=e.requests[u];if(l.host===a.host&&l.port===a.port){e.requests.splice(u,1),l.request.onSocket(i);return}}i.destroy(),e.removeSocket(i)})}cf.inherits(ct,uf.EventEmitter);ct.prototype.addRequest=function(e,r,i,n){var s=this,o=Hi({request:e},s.options,hs(r,i,n));if(s.sockets.length>=this.maxSockets){s.requests.push(o);return}s.createSocket(o,function(a){a.on("free",u),a.on("close",c),a.on("agentRemove",c),e.onSocket(a);function u(){s.emit("free",a,o)}function c(l){s.removeSocket(a),a.removeListener("free",u),a.removeListener("close",c),a.removeListener("agentRemove",c)}})};ct.prototype.createSocket=function(e,r){var i=this,n={};i.sockets.push(n);var s=Hi({},i.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(s.localAddress=e.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),St("making CONNECT request");var o=i.request(s);o.useChunkedEncodingByDefault=!1,o.once("response",a),o.once("upgrade",u),o.once("connect",c),o.once("error",l),o.end();function a(h){h.upgrade=!0}function u(h,g,b){process.nextTick(function(){c(h,g,b)})}function c(h,g,b){if(o.removeAllListeners(),g.removeAllListeners(),h.statusCode!==200){St("tunneling socket could not be established, statusCode=%d",h.statusCode),g.destroy();var v=new Error("tunneling socket could not be established, statusCode="+h.statusCode);v.code="ECONNRESET",e.request.emit("error",v),i.removeSocket(n);return}if(b.length>0){St("got illegal response body from proxy"),g.destroy();var v=new Error("got illegal response body from proxy");v.code="ECONNRESET",e.request.emit("error",v),i.removeSocket(n);return}return St("tunneling connection has established"),i.sockets[i.sockets.indexOf(n)]=g,r(g)}function l(h){o.removeAllListeners(),St(`tunneling socket could not be established, cause=%s
`,h.message,h.stack);var g=new Error("tunneling socket could not be established, cause="+h.message);g.code="ECONNRESET",e.request.emit("error",g),i.removeSocket(n)}};ct.prototype.removeSocket=function(e){var r=this.sockets.indexOf(e);if(r!==-1){this.sockets.splice(r,1);var i=this.requests.shift();i&&this.createSocket(i,function(n){i.request.onSocket(n)})}};function ds(t,e){var r=this;ct.prototype.createSocket.call(r,t,function(i){var n=t.request.getHeader("host"),s=Hi({},r.options,{socket:i,servername:n?n.replace(/:.*$/,""):t.host}),o=af.connect(0,s);r.sockets[r.sockets.indexOf(i)]=o,e(o)})}function hs(t,e,r){return typeof t=="string"?{host:t,port:e,localAddress:r}:t}function Hi(t){for(var e=1,r=arguments.length;e<r;++e){var i=arguments[e];if(typeof i=="object")for(var n=Object.keys(i),s=0,o=n.length;s<o;++s){var a=n[s];i[a]!==void 0&&(t[a]=i[a])}}return t}var St;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?St=function(){var t=Array.prototype.slice.call(arguments);typeof t[0]=="string"?t[0]="TUNNEL: "+t[0]:t.unshift("TUNNEL:"),console.error.apply(console,t)}:St=function(){};Ht.debug=St});var vs=I((Wy,ys)=>{ys.exports=ms()});var Ss=I(Z=>{"use strict";var hf=Z&&Z.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),mf=Z&&Z.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ur=Z&&Z.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&hf(e,t,r);return mf(e,t),e},de=Z&&Z.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(h){o(h)}}function u(l){try{c(i.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):n(l.value).then(a,u)}c((i=i.apply(t,e||[])).next())})};Object.defineProperty(Z,"__esModule",{value:!0});Z.HttpClient=Z.isHttps=Z.HttpClientResponse=Z.HttpClientError=Z.getProxyUrl=Z.MediaTypes=Z.Headers=Z.HttpCodes=void 0;var jr=Ur(require("http")),zi=Ur(require("https")),gs=Ur(fs()),Vr=Ur(vs()),He;(function(t){t[t.OK=200]="OK",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.ResourceMoved=302]="ResourceMoved",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.SwitchProxy=306]="SwitchProxy",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.TooManyRequests=429]="TooManyRequests",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout"})(He=Z.HttpCodes||(Z.HttpCodes={}));var be;(function(t){t.Accept="accept",t.ContentType="content-type"})(be=Z.Headers||(Z.Headers={}));var _t;(function(t){t.ApplicationJson="application/json"})(_t=Z.MediaTypes||(Z.MediaTypes={}));function yf(t){let e=gs.getProxyUrl(new URL(t));return e?e.href:""}Z.getProxyUrl=yf;var vf=[He.MovedPermanently,He.ResourceMoved,He.SeeOther,He.TemporaryRedirect,He.PermanentRedirect],gf=[He.BadGateway,He.ServiceUnavailable,He.GatewayTimeout],Ef=["OPTIONS","GET","DELETE","HEAD"],Sf=10,_f=5,er=class extends Error{constructor(e,r){super(e);this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,er.prototype)}};Z.HttpClientError=er;var Ki=class{constructor(e){this.message=e}readBody(){return de(this,void 0,void 0,function*(){return new Promise(e=>de(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",i=>{r=Buffer.concat([r,i])}),this.message.on("end",()=>{e(r.toString())})}))})}};Z.HttpClientResponse=Ki;function wf(t){return new URL(t).protocol==="https:"}Z.isHttps=wf;var Es=class{constructor(e,r,i){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=r||[],this.requestOptions=i,i&&(i.ignoreSslError!=null&&(this._ignoreSslError=i.ignoreSslError),this._socketTimeout=i.socketTimeout,i.allowRedirects!=null&&(this._allowRedirects=i.allowRedirects),i.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=i.allowRedirectDowngrade),i.maxRedirects!=null&&(this._maxRedirects=Math.max(i.maxRedirects,0)),i.keepAlive!=null&&(this._keepAlive=i.keepAlive),i.allowRetries!=null&&(this._allowRetries=i.allowRetries),i.maxRetries!=null&&(this._maxRetries=i.maxRetries))}options(e,r){return de(this,void 0,void 0,function*(){return this.request("OPTIONS",e,null,r||{})})}get(e,r){return de(this,void 0,void 0,function*(){return this.request("GET",e,null,r||{})})}del(e,r){return de(this,void 0,void 0,function*(){return this.request("DELETE",e,null,r||{})})}post(e,r,i){return de(this,void 0,void 0,function*(){return this.request("POST",e,r,i||{})})}patch(e,r,i){return de(this,void 0,void 0,function*(){return this.request("PATCH",e,r,i||{})})}put(e,r,i){return de(this,void 0,void 0,function*(){return this.request("PUT",e,r,i||{})})}head(e,r){return de(this,void 0,void 0,function*(){return this.request("HEAD",e,null,r||{})})}sendStream(e,r,i,n){return de(this,void 0,void 0,function*(){return this.request(e,r,i,n)})}getJson(e,r={}){return de(this,void 0,void 0,function*(){r[be.Accept]=this._getExistingOrDefaultHeader(r,be.Accept,_t.ApplicationJson);let i=yield this.get(e,r);return this._processResponse(i,this.requestOptions)})}postJson(e,r,i={}){return de(this,void 0,void 0,function*(){let n=JSON.stringify(r,null,2);i[be.Accept]=this._getExistingOrDefaultHeader(i,be.Accept,_t.ApplicationJson),i[be.ContentType]=this._getExistingOrDefaultHeader(i,be.ContentType,_t.ApplicationJson);let s=yield this.post(e,n,i);return this._processResponse(s,this.requestOptions)})}putJson(e,r,i={}){return de(this,void 0,void 0,function*(){let n=JSON.stringify(r,null,2);i[be.Accept]=this._getExistingOrDefaultHeader(i,be.Accept,_t.ApplicationJson),i[be.ContentType]=this._getExistingOrDefaultHeader(i,be.ContentType,_t.ApplicationJson);let s=yield this.put(e,n,i);return this._processResponse(s,this.requestOptions)})}patchJson(e,r,i={}){return de(this,void 0,void 0,function*(){let n=JSON.stringify(r,null,2);i[be.Accept]=this._getExistingOrDefaultHeader(i,be.Accept,_t.ApplicationJson),i[be.ContentType]=this._getExistingOrDefaultHeader(i,be.ContentType,_t.ApplicationJson);let s=yield this.patch(e,n,i);return this._processResponse(s,this.requestOptions)})}request(e,r,i,n){return de(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(r),o=this._prepareRequest(e,s,n),a=this._allowRetries&&Ef.includes(e)?this._maxRetries+1:1,u=0,c;do{if(c=yield this.requestRaw(o,i),c&&c.message&&c.message.statusCode===He.Unauthorized){let h;for(let g of this.handlers)if(g.canHandleAuthentication(c)){h=g;break}return h?h.handleAuthentication(this,o,i):c}let l=this._maxRedirects;for(;c.message.statusCode&&vf.includes(c.message.statusCode)&&this._allowRedirects&&l>0;){let h=c.message.headers.location;if(!h)break;let g=new URL(h);if(s.protocol==="https:"&&s.protocol!==g.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield c.readBody(),g.hostname!==s.hostname)for(let b in n)b.toLowerCase()==="authorization"&&delete n[b];o=this._prepareRequest(e,g,n),c=yield this.requestRaw(o,i),l--}if(!c.message.statusCode||!gf.includes(c.message.statusCode))return c;u+=1,u<a&&(yield c.readBody(),yield this._performExponentialBackoff(u))}while(u<a);return c})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,r){return de(this,void 0,void 0,function*(){return new Promise((i,n)=>{function s(o,a){o?n(o):a?i(a):n(new Error("Unknown error"))}this.requestRawWithCallback(e,r,s)})})}requestRawWithCallback(e,r,i){typeof r=="string"&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let n=!1;function s(u,c){n||(n=!0,i(u,c))}let o=e.httpModule.request(e.options,u=>{let c=new Ki(u);s(void 0,c)}),a;o.on("socket",u=>{a=u}),o.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),s(new Error(`Request timeout: ${e.options.path}`))}),o.on("error",function(u){s(u)}),r&&typeof r=="string"&&o.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){o.end()}),r.pipe(o)):o.end()}getAgent(e){let r=new URL(e);return this._getAgent(r)}_prepareRequest(e,r,i){let n={};n.parsedUrl=r;let s=n.parsedUrl.protocol==="https:";n.httpModule=s?zi:jr;let o=s?443:80;if(n.options={},n.options.host=n.parsedUrl.hostname,n.options.port=n.parsedUrl.port?parseInt(n.parsedUrl.port):o,n.options.path=(n.parsedUrl.pathname||"")+(n.parsedUrl.search||""),n.options.method=e,n.options.headers=this._mergeHeaders(i),this.userAgent!=null&&(n.options.headers["user-agent"]=this.userAgent),n.options.agent=this._getAgent(n.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(n.options);return n}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Xr(this.requestOptions.headers),Xr(e||{})):Xr(e||{})}_getExistingOrDefaultHeader(e,r,i){let n;return this.requestOptions&&this.requestOptions.headers&&(n=Xr(this.requestOptions.headers)[r]),e[r]||n||i}_getAgent(e){let r,i=gs.getProxyUrl(e),n=i&&i.hostname;if(this._keepAlive&&n&&(r=this._proxyAgent),this._keepAlive&&!n&&(r=this._agent),r)return r;let s=e.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||jr.globalAgent.maxSockets),i&&i.hostname){let a={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(i.username||i.password)&&{proxyAuth:`${i.username}:${i.password}`}),{host:i.hostname,port:i.port})},u,c=i.protocol==="https:";s?u=c?Vr.httpsOverHttps:Vr.httpsOverHttp:u=c?Vr.httpOverHttps:Vr.httpOverHttp,r=u(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:o};r=s?new zi.Agent(a):new jr.Agent(a),this._agent=r}return r||(r=s?zi.globalAgent:jr.globalAgent),s&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(e){return de(this,void 0,void 0,function*(){e=Math.min(Sf,e);let r=_f*Math.pow(2,e);return new Promise(i=>setTimeout(()=>i(),r))})}_processResponse(e,r){return de(this,void 0,void 0,function*(){return new Promise((i,n)=>de(this,void 0,void 0,function*(){let s=e.message.statusCode||0,o={statusCode:s,result:null,headers:{}};s===He.NotFound&&i(o);function a(l,h){if(typeof h=="string"){let g=new Date(h);if(!isNaN(g.valueOf()))return g}return h}let u,c;try{c=yield e.readBody(),c&&c.length>0&&(r&&r.deserializeDates?u=JSON.parse(c,a):u=JSON.parse(c),o.result=u),o.headers=e.message.headers}catch(l){}if(s>299){let l;u&&u.message?l=u.message:c&&c.length>0?l=c:l=`Failed request: (${s})`;let h=new er(l,s);h.result=o.result,n(h)}else i(o)}))})}};Z.HttpClient=Es;var Xr=t=>Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{})});var Ts=I(Je=>{"use strict";var Gi=Je&&Je.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(h){o(h)}}function u(l){try{c(i.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):n(l.value).then(a,u)}c((i=i.apply(t,e||[])).next())})};Object.defineProperty(Je,"__esModule",{value:!0});Je.PersonalAccessTokenCredentialHandler=Je.BearerCredentialHandler=Je.BasicCredentialHandler=void 0;var _s=class{constructor(e,r){this.username=e,this.password=r}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Gi(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Je.BasicCredentialHandler=_s;var ws=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return Gi(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Je.BearerCredentialHandler=ws;var Cs=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Gi(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Je.PersonalAccessTokenCredentialHandler=Cs});var xs=I(zt=>{"use strict";var bs=zt&&zt.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(h){o(h)}}function u(l){try{c(i.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):n(l.value).then(a,u)}c((i=i.apply(t,e||[])).next())})};Object.defineProperty(zt,"__esModule",{value:!0});zt.OidcClient=void 0;var Cf=Ss(),Tf=Ts(),As=$i(),It=class{static createHttpClient(e=!0,r=10){let i={allowRetries:e,maxRetries:r};return new Cf.HttpClient("actions/oidc-client",[new Tf.BearerCredentialHandler(It.getRequestToken())],i)}static getRequestToken(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var r;return bs(this,void 0,void 0,function*(){let s=(r=(yield It.createHttpClient().getJson(e).catch(o=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${o.statusCode}
 
        Error Message: ${o.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(e){return bs(this,void 0,void 0,function*(){try{let r=It.getIDTokenUrl();if(e){let n=encodeURIComponent(e);r=`${r}&audience=${n}`}As.debug(`ID token url is ${r}`);let i=yield It.getCall(r);return As.setSecret(i),i}catch(r){throw new Error(`Error message: ${r.message}`)}})}};zt.OidcClient=It});var Qi=I(Re=>{"use strict";var Yi=Re&&Re.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(h){o(h)}}function u(l){try{c(i.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):n(l.value).then(a,u)}c((i=i.apply(t,e||[])).next())})};Object.defineProperty(Re,"__esModule",{value:!0});Re.summary=Re.markdownSummary=Re.SUMMARY_DOCS_URL=Re.SUMMARY_ENV_VAR=void 0;var bf=require("os"),Ji=require("fs"),{access:Af,appendFile:xf,writeFile:Rf}=Ji.promises;Re.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";Re.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var Rs=class{constructor(){this._buffer=""}filePath(){return Yi(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let e=process.env[Re.SUMMARY_ENV_VAR];if(!e)throw new Error(`Unable to find environment variable for $${Re.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield Af(e,Ji.constants.R_OK|Ji.constants.W_OK)}catch(r){throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath})}wrap(e,r,i={}){let n=Object.entries(i).map(([s,o])=>` ${s}="${o}"`).join("");return r?`<${e}${n}>${r}</${e}>`:`<${e}${n}>`}write(e){return Yi(this,void 0,void 0,function*(){let r=!!(e==null?void 0:e.overwrite),i=yield this.filePath();return yield(r?Rf:xf)(i,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return Yi(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(e,r=!1){return this._buffer+=e,r?this.addEOL():this}addEOL(){return this.addRaw(bf.EOL)}addCodeBlock(e,r){let i=Object.assign({},r&&{lang:r}),n=this.wrap("pre",this.wrap("code",e),i);return this.addRaw(n).addEOL()}addList(e,r=!1){let i=r?"ol":"ul",n=e.map(o=>this.wrap("li",o)).join(""),s=this.wrap(i,n);return this.addRaw(s).addEOL()}addTable(e){let r=e.map(n=>{let s=n.map(o=>{if(typeof o=="string")return this.wrap("td",o);let{header:a,data:u,colspan:c,rowspan:l}=o,h=a?"th":"td",g=Object.assign(Object.assign({},c&&{colspan:c}),l&&{rowspan:l});return this.wrap(h,u,g)}).join("");return this.wrap("tr",s)}).join(""),i=this.wrap("table",r);return this.addRaw(i).addEOL()}addDetails(e,r){let i=this.wrap("details",this.wrap("summary",e)+r);return this.addRaw(i).addEOL()}addImage(e,r,i){let{width:n,height:s}=i||{},o=Object.assign(Object.assign({},n&&{width:n}),s&&{height:s}),a=this.wrap("img",null,Object.assign({src:e,alt:r},o));return this.addRaw(a).addEOL()}addHeading(e,r){let i=`h${r}`,n=["h1","h2","h3","h4","h5","h6"].includes(i)?i:"h1",s=this.wrap(n,e);return this.addRaw(s).addEOL()}addSeparator(){let e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){let e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,r){let i=Object.assign({},r&&{cite:r}),n=this.wrap("blockquote",e,i);return this.addRaw(n).addEOL()}addLink(e,r){let i=this.wrap("a",e,{href:r});return this.addRaw(i).addEOL()}},Is=new Rs;Re.markdownSummary=Is;Re.summary=Is});var Ds=I(Ie=>{"use strict";var If=Ie&&Ie.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Df=Ie&&Ie.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Nf=Ie&&Ie.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&If(e,t,r);return Df(e,t),e};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.toPlatformPath=Ie.toWin32Path=Ie.toPosixPath=void 0;var Pf=Nf(require("path"));function qf(t){return t.replace(/[\\]/g,"/")}Ie.toPosixPath=qf;function Of(t){return t.replace(/[/]/g,"\\")}Ie.toWin32Path=Of;function Lf(t){return t.replace(/[/\\]/g,Pf.sep)}Ie.toPlatformPath=Lf});var $i=I(U=>{"use strict";var kf=U&&U.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Mf=U&&U.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ns=U&&U.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&kf(e,t,r);return Mf(e,t),e},Ps=U&&U.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(h){o(h)}}function u(l){try{c(i.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):n(l.value).then(a,u)}c((i=i.apply(t,e||[])).next())})};Object.defineProperty(U,"__esModule",{value:!0});U.getIDToken=U.getState=U.saveState=U.group=U.endGroup=U.startGroup=U.info=U.notice=U.warning=U.error=U.debug=U.isDebug=U.setFailed=U.setCommandEcho=U.setOutput=U.getBooleanInput=U.getMultilineInput=U.getInput=U.addPath=U.setSecret=U.exportVariable=U.ExitCode=void 0;var Be=os(),qs=cs(),Wr=Br(),Hr=Ns(require("os")),Ff=Ns(require("path")),Bf=xs(),Os;(function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"})(Os=U.ExitCode||(U.ExitCode={}));function Uf(t,e){let r=Wr.toCommandValue(e);if(process.env[t]=r,process.env.GITHUB_ENV||""){let n="_GitHubActionsFileCommandDelimeter_",s=`${t}<<${n}${Hr.EOL}${r}${Hr.EOL}${n}`;qs.issueCommand("ENV",s)}else Be.issueCommand("set-env",{name:t},r)}U.exportVariable=Uf;function jf(t){Be.issueCommand("add-mask",{},t)}U.setSecret=jf;function Vf(t){process.env.GITHUB_PATH||""?qs.issueCommand("PATH",t):Be.issueCommand("add-path",{},t),process.env.PATH=`${t}${Ff.delimiter}${process.env.PATH}`}U.addPath=Vf;function Zi(t,e){let r=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!r)throw new Error(`Input required and not supplied: ${t}`);return e&&e.trimWhitespace===!1?r:r.trim()}U.getInput=Zi;function Xf(t,e){return Zi(t,e).split(`
`).filter(i=>i!=="")}U.getMultilineInput=Xf;function Wf(t,e){let r=["true","True","TRUE"],i=["false","False","FALSE"],n=Zi(t,e);if(r.includes(n))return!0;if(i.includes(n))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${t}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}U.getBooleanInput=Wf;function Hf(t,e){process.stdout.write(Hr.EOL),Be.issueCommand("set-output",{name:t},e)}U.setOutput=Hf;function zf(t){Be.issue("echo",t?"on":"off")}U.setCommandEcho=zf;function Kf(t){process.exitCode=Os.Failure,Ls(t)}U.setFailed=Kf;function Gf(){return process.env.RUNNER_DEBUG==="1"}U.isDebug=Gf;function $f(t){Be.issueCommand("debug",{},t)}U.debug=$f;function Ls(t,e={}){Be.issueCommand("error",Wr.toCommandProperties(e),t instanceof Error?t.toString():t)}U.error=Ls;function Yf(t,e={}){Be.issueCommand("warning",Wr.toCommandProperties(e),t instanceof Error?t.toString():t)}U.warning=Yf;function Jf(t,e={}){Be.issueCommand("notice",Wr.toCommandProperties(e),t instanceof Error?t.toString():t)}U.notice=Jf;function Qf(t){process.stdout.write(t+Hr.EOL)}U.info=Qf;function ks(t){Be.issue("group",t)}U.startGroup=ks;function Ms(){Be.issue("endgroup")}U.endGroup=Ms;function Zf(t,e){return Ps(this,void 0,void 0,function*(){ks(t);let r;try{r=yield e()}finally{Ms()}return r})}U.group=Zf;function ep(t,e){Be.issueCommand("save-state",{name:t},e)}U.saveState=ep;function tp(t){return process.env[`STATE_${t}`]||""}U.getState=tp;function rp(t){return Ps(this,void 0,void 0,function*(){return yield Bf.OidcClient.getIDToken(t)})}U.getIDToken=rp;var ip=Qi();Object.defineProperty(U,"summary",{enumerable:!0,get:function(){return ip.summary}});var np=Qi();Object.defineProperty(U,"markdownSummary",{enumerable:!0,get:function(){return np.markdownSummary}});var en=Ds();Object.defineProperty(U,"toPosixPath",{enumerable:!0,get:function(){return en.toPosixPath}});Object.defineProperty(U,"toWin32Path",{enumerable:!0,get:function(){return en.toWin32Path}});Object.defineProperty(U,"toPlatformPath",{enumerable:!0,get:function(){return en.toPlatformPath}})});var Kr=I((Jy,Bs)=>{var tn=le();function Fs(){}Fs.prototype.build=function(t,e){return JSON.stringify(zr(t,e))};function zr(t,e){if(!(!e||t===void 0||t===null))switch(e.type){case"structure":return sp(t,e);case"map":return ap(t,e);case"list":return op(t,e);default:return up(t,e)}}function sp(t,e){if(e.isDocument)return t;var r={};return tn.each(t,function(i,n){var s=e.members[i];if(s){if(s.location!=="body")return;var o=s.isLocationName?s.name:i,a=zr(n,s);a!==void 0&&(r[o]=a)}}),r}function op(t,e){var r=[];return tn.arrayEach(t,function(i){var n=zr(i,e.member);n!==void 0&&r.push(n)}),r}function ap(t,e){var r={};return tn.each(t,function(i,n){var s=zr(n,e.value);s!==void 0&&(r[i]=s)}),r}function up(t,e){return e.toWireFormat(t)}Bs.exports=Fs});var $r=I((Qy,js)=>{var rn=le();function Us(){}Us.prototype.parse=function(t,e){return Gr(JSON.parse(t),e)};function Gr(t,e){if(!(!e||t===void 0))switch(e.type){case"structure":return cp(t,e);case"map":return fp(t,e);case"list":return lp(t,e);default:return pp(t,e)}}function cp(t,e){if(t!=null){if(e.isDocument)return t;var r={},i=e.members;return rn.each(i,function(n,s){var o=s.isLocationName?s.name:n;if(Object.prototype.hasOwnProperty.call(t,o)){var a=t[o],u=Gr(a,s);u!==void 0&&(r[n]=u)}}),r}}function lp(t,e){if(t!=null){var r=[];return rn.arrayEach(t,function(i){var n=Gr(i,e.member);n===void 0?r.push(null):r.push(n)}),r}}function fp(t,e){if(t!=null){var r={};return rn.each(t,function(i,n){var s=Gr(n,e.value);s===void 0?r[i]=null:r[i]=s}),r}}function pp(t,e){return e.toType(t)}js.exports=Us});var Yr=I((Zy,Vs)=>{var tr=le(),dp=j();function hp(t){var e=t.service.config.hostPrefixEnabled;if(!e)return t;var r=t.service.api.operations[t.operation];if(mp(t))return t;if(r.endpoint&&r.endpoint.hostPrefix){var i=r.endpoint.hostPrefix,n=yp(i,t.params,r.input);vp(t.httpRequest.endpoint,n),gp(t.httpRequest.endpoint.hostname)}return t}function mp(t){var e=t.service.api,r=e.operations[t.operation],i=e.endpointOperation&&e.endpointOperation===tr.string.lowerFirst(r.name);return r.endpointDiscoveryRequired!=="NULL"||i===!0}function yp(t,e,r){return tr.each(r.members,function(i,n){if(n.hostLabel===!0){if(typeof e[i]!="string"||e[i]==="")throw tr.error(new Error,{message:"Parameter "+i+" should be a non-empty string.",code:"InvalidParameter"});var s=new RegExp("\\{"+i+"\\}","g");t=t.replace(s,e[i])}}),t}function vp(t,e){t.host&&(t.host=e+t.host),t.hostname&&(t.hostname=e+t.hostname)}function gp(t){var e=t.split("."),r=/^[a-zA-Z0-9]{1}$|^[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9]$/;tr.arrayEach(e,function(i){if(!i.length||i.length<1||i.length>63)throw tr.error(new Error,{code:"ValidationError",message:"Hostname label length should be between 1 to 63 characters, inclusive."});if(!r.test(i))throw dp.util.error(new Error,{code:"ValidationError",message:i+" is not hostname compatible."})})}Vs.exports={populateHostPrefix:hp}});var Jr=I((ev,Xs)=>{var Ep=le(),Sp=Kr(),_p=$r(),wp=Yr().populateHostPrefix;function Cp(t){var e=t.httpRequest,r=t.service.api,i=r.targetPrefix+"."+r.operations[t.operation].name,n=r.jsonVersion||"1.0",s=r.operations[t.operation].input,o=new Sp;n===1&&(n="1.0"),e.body=o.build(t.params||{},s),e.headers["Content-Type"]="application/x-amz-json-"+n,e.headers["X-Amz-Target"]=i,wp(t)}function Tp(t){var e={},r=t.httpResponse;if(e.code=r.headers["x-amzn-errortype"]||"UnknownError",typeof e.code=="string"&&(e.code=e.code.split(":")[0]),r.body.length>0)try{var i=JSON.parse(r.body.toString()),n=i.__type||i.code||i.Code;n&&(e.code=n.split("#").pop()),e.code==="RequestEntityTooLarge"?e.message="Request body must be less than 1 MB":e.message=i.message||i.Message||null}catch(s){e.statusCode=r.statusCode,e.message=r.statusMessage}else e.statusCode=r.statusCode,e.message=r.statusCode.toString();t.error=Ep.error(new Error,e)}function bp(t){var e=t.httpResponse.body.toString()||"{}";if(t.request.service.config.convertResponseTypes===!1)t.data=JSON.parse(e);else{var r=t.request.service.api.operations[t.request.operation],i=r.output||{},n=new _p;t.data=n.parse(e,i)}}Xs.exports={buildRequest:Cp,extractError:Tp,extractData:bp}});var Gs=I((tv,Ks)=>{var nn=le();function Ws(){}Ws.prototype.serialize=function(t,e,r){zs("",t,e,r)};function Hs(t){return t.isQueryName||t.api.protocol!=="ec2"?t.name:t.name[0].toUpperCase()+t.name.substr(1)}function zs(t,e,r,i){nn.each(r.members,function(n,s){var o=e[n];if(o!=null){var a=Hs(s);a=t?t+"."+a:a,Qr(a,o,s,i)}})}function Ap(t,e,r,i){var n=1;nn.each(e,function(s,o){var a=r.flattened?".":".entry.",u=a+n+++".",c=u+(r.key.name||"key"),l=u+(r.value.name||"value");Qr(t+c,s,r.key,i),Qr(t+l,o,r.value,i)})}function xp(t,e,r,i){var n=r.member||{};if(e.length===0){i.call(this,t,null);return}nn.arrayEach(e,function(s,o){var a="."+(o+1);if(r.api.protocol==="ec2")a=a+"";else if(r.flattened){if(n.name){var u=t.split(".");u.pop(),u.push(Hs(n)),t=u.join(".")}}else a="."+(n.name?n.name:"member")+a;Qr(t+a,s,n,i)})}function Qr(t,e,r,i){e!=null&&(r.type==="structure"?zs(t,e,r,i):r.type==="list"?xp(t,e,r,i):r.type==="map"?Ap(t,e,r,i):i(t,r.toWireFormat(e).toString()))}Ks.exports=Ws});var sn=I((rv,$s)=>{var Rp=le().memoizedProperty;function Ip(t,e,r,i){Rp(this,i(t),function(){return r(t,e)})}function Dp(t,e,r,i,n){i=i||String;var s=this;for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(Ip.call(s,o,t[o],r,i),n&&n(o,t[o]))}$s.exports=Dp});var rr=I((iv,io)=>{var Np=sn(),lt=le();function V(t,e,r){r!=null&&lt.property.apply(this,arguments)}function Dt(t,e){t.constructor.prototype[e]||lt.memoizedProperty.apply(this,arguments)}function re(t,e,r){e=e||{},V(this,"shape",t.shape),V(this,"api",e.api,!1),V(this,"type",t.type),V(this,"enum",t.enum),V(this,"min",t.min),V(this,"max",t.max),V(this,"pattern",t.pattern),V(this,"location",t.location||this.location||"body"),V(this,"name",this.name||t.xmlName||t.queryName||t.locationName||r),V(this,"isStreaming",t.streaming||this.isStreaming||!1),V(this,"requiresLength",t.requiresLength,!1),V(this,"isComposite",t.isComposite||!1),V(this,"isShape",!0,!1),V(this,"isQueryName",Boolean(t.queryName),!1),V(this,"isLocationName",Boolean(t.locationName),!1),V(this,"isIdempotent",t.idempotencyToken===!0),V(this,"isJsonValue",t.jsonvalue===!0),V(this,"isSensitive",t.sensitive===!0||t.prototype&&t.prototype.sensitive===!0),V(this,"isEventStream",Boolean(t.eventstream),!1),V(this,"isEvent",Boolean(t.event),!1),V(this,"isEventPayload",Boolean(t.eventpayload),!1),V(this,"isEventHeader",Boolean(t.eventheader),!1),V(this,"isTimestampFormatSet",Boolean(t.timestampFormat)||t.prototype&&t.prototype.isTimestampFormatSet===!0,!1),V(this,"endpointDiscoveryId",Boolean(t.endpointdiscoveryid),!1),V(this,"hostLabel",Boolean(t.hostLabel),!1),e.documentation&&(V(this,"documentation",t.documentation),V(this,"documentationUrl",t.documentationUrl)),t.xmlAttribute&&V(this,"isXmlAttribute",t.xmlAttribute||!1),V(this,"defaultValue",null),this.toWireFormat=function(i){return i==null?"":i},this.toType=function(i){return i}}re.normalizedTypes={character:"string",double:"float",long:"integer",short:"integer",biginteger:"integer",bigdecimal:"float",blob:"binary"};re.types={structure:Ys,list:Js,map:Qs,boolean:ro,timestamp:Pp,float:qp,integer:Op,string:Zs,base64:to,binary:eo};re.resolve=function(e,r){if(e.shape){var i=r.api.shapes[e.shape];if(!i)throw new Error("Cannot find shape reference: "+e.shape);return i}else return null};re.create=function(e,r,i){if(e.isShape)return e;var n=re.resolve(e,r);if(n){var s=Object.keys(e);r.documentation||(s=s.filter(function(u){return!u.match(/documentation/)}));var o=function(){n.constructor.call(this,e,r,i)};return o.prototype=n,new o}else{e.type||(e.members?e.type="structure":e.member?e.type="list":e.key?e.type="map":e.type="string");var a=e.type;if(re.normalizedTypes[e.type]&&(e.type=re.normalizedTypes[e.type]),re.types[e.type])return new re.types[e.type](e,r,i);throw new Error("Unrecognized shape type: "+a)}};function on(t){re.apply(this,arguments),V(this,"isComposite",!0),t.flattened&&V(this,"flattened",t.flattened||!1)}function Ys(t,e){var r=this,i=null,n=!this.isShape;on.apply(this,arguments),n&&(V(this,"defaultValue",function(){return{}}),V(this,"members",{}),V(this,"memberNames",[]),V(this,"required",[]),V(this,"isRequired",function(){return!1}),V(this,"isDocument",Boolean(t.document))),t.members&&(V(this,"members",new Np(t.members,e,function(s,o){return re.create(o,e,s)})),Dt(this,"memberNames",function(){return t.xmlOrder||Object.keys(t.members)}),t.event&&(Dt(this,"eventPayloadMemberName",function(){for(var s=r.members,o=r.memberNames,a=0,u=o.length;a<u;a++)if(s[o[a]].isEventPayload)return o[a]}),Dt(this,"eventHeaderMemberNames",function(){for(var s=r.members,o=r.memberNames,a=[],u=0,c=o.length;u<c;u++)s[o[u]].isEventHeader&&a.push(o[u]);return a}))),t.required&&(V(this,"required",t.required),V(this,"isRequired",function(s){if(!i){i={};for(var o=0;o<t.required.length;o++)i[t.required[o]]=!0}return i[s]},!1,!0)),V(this,"resultWrapper",t.resultWrapper||null),t.payload&&V(this,"payload",t.payload),typeof t.xmlNamespace=="string"?V(this,"xmlNamespaceUri",t.xmlNamespace):typeof t.xmlNamespace=="object"&&(V(this,"xmlNamespacePrefix",t.xmlNamespace.prefix),V(this,"xmlNamespaceUri",t.xmlNamespace.uri))}function Js(t,e){var r=this,i=!this.isShape;if(on.apply(this,arguments),i&&V(this,"defaultValue",function(){return[]}),t.member&&Dt(this,"member",function(){return re.create(t.member,e)}),this.flattened){var n=this.name;Dt(this,"name",function(){return r.member.name||n})}}function Qs(t,e){var r=!this.isShape;on.apply(this,arguments),r&&(V(this,"defaultValue",function(){return{}}),V(this,"key",re.create({type:"string"},e)),V(this,"value",re.create({type:"string"},e))),t.key&&Dt(this,"key",function(){return re.create(t.key,e)}),t.value&&Dt(this,"value",function(){return re.create(t.value,e)})}function Pp(t){var e=this;if(re.apply(this,arguments),t.timestampFormat)V(this,"timestampFormat",t.timestampFormat);else if(e.isTimestampFormatSet&&this.timestampFormat)V(this,"timestampFormat",this.timestampFormat);else if(this.location==="header")V(this,"timestampFormat","rfc822");else if(this.location==="querystring")V(this,"timestampFormat","iso8601");else if(this.api)switch(this.api.protocol){case"json":case"rest-json":V(this,"timestampFormat","unixTimestamp");break;case"rest-xml":case"query":case"ec2":V(this,"timestampFormat","iso8601");break}this.toType=function(r){return r==null?null:typeof r.toUTCString=="function"?r:typeof r=="string"||typeof r=="number"?lt.date.parseTimestamp(r):null},this.toWireFormat=function(r){return lt.date.format(r,e.timestampFormat)}}function Zs(){re.apply(this,arguments);var t=["rest-xml","query","ec2"];this.toType=function(e){return e=this.api&&t.indexOf(this.api.protocol)>-1?e||"":e,this.isJsonValue?JSON.parse(e):e&&typeof e.toString=="function"?e.toString():e},this.toWireFormat=function(e){return this.isJsonValue?JSON.stringify(e):e}}function qp(){re.apply(this,arguments),this.toType=function(t){return t==null?null:parseFloat(t)},this.toWireFormat=this.toType}function Op(){re.apply(this,arguments),this.toType=function(t){return t==null?null:parseInt(t,10)},this.toWireFormat=this.toType}function eo(){re.apply(this,arguments),this.toType=function(t){var e=lt.base64.decode(t);if(this.isSensitive&&lt.isNode()&&typeof lt.Buffer.alloc=="function"){var r=lt.Buffer.alloc(e.length,e);e.fill(0),e=r}return e},this.toWireFormat=lt.base64.encode}function to(){eo.apply(this,arguments)}function ro(){re.apply(this,arguments),this.toType=function(t){return typeof t=="boolean"?t:t==null?null:t==="true"}}re.shapes={StructureShape:Ys,ListShape:Js,MapShape:Qs,StringShape:Zs,BooleanShape:ro,Base64Shape:to};io.exports=re});var an=I((nv,oo)=>{var no=j(),ir=le(),Lp=Gs(),so=rr(),kp=Yr().populateHostPrefix;function Mp(t){var e=t.service.api.operations[t.operation],r=t.httpRequest;r.headers["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8",r.params={Version:t.service.api.apiVersion,Action:e.name};var i=new Lp;i.serialize(t.params,e.input,function(n,s){r.params[n]=s}),r.body=ir.queryParamsToString(r.params),kp(t)}function Fp(t){var e,r=t.httpResponse.body.toString();if(r.match("<UnknownOperationException"))e={Code:"UnknownOperation",Message:"Unknown operation "+t.request.operation};else try{e=new no.XML.Parser().parse(r)}catch(i){e={Code:t.httpResponse.statusCode,Message:t.httpResponse.statusMessage}}e.requestId&&!t.requestId&&(t.requestId=e.requestId),e.Errors&&(e=e.Errors),e.Error&&(e=e.Error),e.Code?t.error=ir.error(new Error,{code:e.Code,message:e.Message}):t.error=ir.error(new Error,{code:t.httpResponse.statusCode,message:null})}function Bp(t){var e=t.request,r=e.service.api.operations[e.operation],i=r.output||{},n=i;if(n.resultWrapper){var s=so.create({type:"structure"});s.members[n.resultWrapper]=i,s.memberNames=[n.resultWrapper],ir.property(i,"name",i.resultWrapper),i=s}var o=new no.XML.Parser;if(i&&i.members&&!i.members._XAMZRequestId){var a=so.create({type:"string"},{api:{protocol:"query"}},"requestId");i.members._XAMZRequestId=a}var u=o.parse(t.httpResponse.body.toString(),i);t.requestId=u._XAMZRequestId||u.requestId,u._XAMZRequestId&&delete u._XAMZRequestId,n.resultWrapper&&u[n.resultWrapper]&&(ir.update(u,u[n.resultWrapper]),delete u[n.resultWrapper]),t.data=u}oo.exports={buildRequest:Mp,extractError:Fp,extractData:Bp}});var nr=I((sv,uo)=>{var ve=le(),Up=Yr().populateHostPrefix;function jp(t){t.httpRequest.method=t.service.api.operations[t.operation].httpMethod}function ao(t,e,r,i){var n=[t,e].join("/");n=n.replace(/\/+/g,"/");var s={},o=!1;if(ve.each(r.members,function(u,c){var l=i[u];if(l!=null)if(c.location==="uri"){var h=new RegExp("\\{"+c.name+"(\\+)?\\}");n=n.replace(h,function(g,b){var v=b?ve.uriEscapePath:ve.uriEscape;return v(String(l))})}else c.location==="querystring"&&(o=!0,c.type==="list"?s[c.name]=l.map(function(g){return ve.uriEscape(c.member.toWireFormat(g).toString())}):c.type==="map"?ve.each(l,function(g,b){Array.isArray(b)?s[g]=b.map(function(v){return ve.uriEscape(String(v))}):s[g]=ve.uriEscape(String(b))}):s[c.name]=ve.uriEscape(c.toWireFormat(l).toString()))}),o){n+=n.indexOf("?")>=0?"&":"?";var a=[];ve.arrayEach(Object.keys(s).sort(),function(u){Array.isArray(s[u])||(s[u]=[s[u]]);for(var c=0;c<s[u].length;c++)a.push(ve.uriEscape(String(u))+"="+s[u][c])}),n+=a.join("&")}return n}function Vp(t){var e=t.service.api.operations[t.operation],r=e.input,i=ao(t.httpRequest.endpoint.path,e.httpPath,r,t.params);t.httpRequest.path=i}function Xp(t){var e=t.service.api.operations[t.operation];ve.each(e.input.members,function(r,i){var n=t.params[r];n!=null&&(i.location==="headers"&&i.type==="map"?ve.each(n,function(s,o){t.httpRequest.headers[i.name+s]=o}):i.location==="header"&&(n=i.toWireFormat(n).toString(),i.isJsonValue&&(n=ve.base64.encode(n)),t.httpRequest.headers[i.name]=n))})}function Wp(t){jp(t),Vp(t),Xp(t),Up(t)}function Hp(){}function zp(t){var e=t.request,r={},i=t.httpResponse,n=e.service.api.operations[e.operation],s=n.output,o={};ve.each(i.headers,function(a,u){o[a.toLowerCase()]=u}),ve.each(s.members,function(a,u){var c=(u.name||a).toLowerCase();if(u.location==="headers"&&u.type==="map"){r[a]={};var l=u.isLocationName?u.name:"",h=new RegExp("^"+l+"(.+)","i");ve.each(i.headers,function(b,v){var E=b.match(h);E!==null&&(r[a][E[1]]=v)})}else if(u.location==="header"){if(o[c]!==void 0){var g=u.isJsonValue?ve.base64.decode(o[c]):o[c];r[a]=u.toType(g)}}else u.location==="statusCode"&&(r[a]=parseInt(i.statusCode,10))}),t.data=r}uo.exports={buildRequest:Wp,extractError:Hp,extractData:zp,generateURI:ao}});var cn=I((ov,ho)=>{var co=le(),lo=nr(),fo=Jr(),Kp=Kr(),po=$r();function Gp(t){var e=new Kp,r=t.service.api.operations[t.operation].input;if(r.payload){var i={},n=r.members[r.payload];i=t.params[r.payload],n.type==="structure"?(t.httpRequest.body=e.build(i||{},n),un(t)):i!==void 0&&(t.httpRequest.body=i,(n.type==="binary"||n.isStreaming)&&un(t,!0))}else t.httpRequest.body=e.build(t.params,r),un(t)}function un(t,e){if(!t.httpRequest.headers["Content-Type"]){var r=e?"binary/octet-stream":"application/json";t.httpRequest.headers["Content-Type"]=r}}function $p(t){lo.buildRequest(t),["GET","HEAD","DELETE"].indexOf(t.httpRequest.method)<0&&Gp(t)}function Yp(t){fo.extractError(t)}function Jp(t){lo.extractData(t);var e=t.request,r=e.service.api.operations[e.operation],i=e.service.api.operations[e.operation].output||{},n,s=r.hasEventOutput;if(i.payload){var o=i.members[i.payload],a=t.httpResponse.body;if(o.isEventStream)n=new po,t.data[payload]=co.createEventStream(AWS.HttpClient.streamsApiVersion===2?t.httpResponse.stream:a,n,o);else if(o.type==="structure"||o.type==="list"){var n=new po;t.data[i.payload]=n.parse(a,o)}else o.type==="binary"||o.isStreaming?t.data[i.payload]=a:t.data[i.payload]=o.toType(a)}else{var u=t.data;fo.extractData(t),t.data=co.merge(u,t.data)}}ho.exports={buildRequest:$p,extractError:Yp,extractData:Jp}});var fn=I((av,mo)=>{var Kt=j(),sr=le(),ln=nr();function Qp(t){var e=t.service.api.operations[t.operation].input,r=new Kt.XML.Builder,i=t.params,n=e.payload;if(n){var s=e.members[n];if(i=i[n],i===void 0)return;if(s.type==="structure"){var o=s.name;t.httpRequest.body=r.toXML(i,s,o,!0)}else t.httpRequest.body=i}else t.httpRequest.body=r.toXML(i,e,e.name||e.shape||sr.string.upperFirst(t.operation)+"Request")}function Zp(t){ln.buildRequest(t),["GET","HEAD"].indexOf(t.httpRequest.method)<0&&Qp(t)}function ed(t){ln.extractError(t);var e;try{e=new Kt.XML.Parser().parse(t.httpResponse.body.toString())}catch(r){e={Code:t.httpResponse.statusCode,Message:t.httpResponse.statusMessage}}e.Errors&&(e=e.Errors),e.Error&&(e=e.Error),e.Code?t.error=sr.error(new Error,{code:e.Code,message:e.Message}):t.error=sr.error(new Error,{code:t.httpResponse.statusCode,message:null})}function td(t){ln.extractData(t);var e,r=t.request,i=t.httpResponse.body,n=r.service.api.operations[r.operation],s=n.output,o=n.hasEventOutput,a=s.payload;if(a){var u=s.members[a];u.isEventStream?(e=new Kt.XML.Parser,t.data[a]=sr.createEventStream(Kt.HttpClient.streamsApiVersion===2?t.httpResponse.stream:t.httpResponse.body,e,u)):u.type==="structure"?(e=new Kt.XML.Parser,t.data[a]=e.parse(i.toString(),u)):u.type==="binary"||u.isStreaming?t.data[a]=i:t.data[a]=u.toType(i)}else if(i.length>0){e=new Kt.XML.Parser;var c=e.parse(i.toString(),s);sr.update(t.data,c)}}mo.exports={buildRequest:Zp,extractError:ed,extractData:td}});var vo=I((uv,yo)=>{function rd(t){return t.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}yo.exports={escapeAttribute:rd}});var Eo=I((cv,go)=>{var id=vo().escapeAttribute;function or(t,e){e===void 0&&(e=[]),this.name=t,this.children=e,this.attributes={}}or.prototype.addAttribute=function(t,e){return this.attributes[t]=e,this};or.prototype.addChildNode=function(t){return this.children.push(t),this};or.prototype.removeAttribute=function(t){return delete this.attributes[t],this};or.prototype.toString=function(){for(var t=Boolean(this.children.length),e="<"+this.name,r=this.attributes,i=0,n=Object.keys(r);i<n.length;i++){var s=n[i],o=r[s];typeof o!="undefined"&&o!==null&&(e+=" "+s+'="'+id(""+o)+'"')}return e+=t?">"+this.children.map(function(a){return a.toString()}).join("")+"</"+this.name+">":"/>"};go.exports={XmlNode:or}});var _o=I((lv,So)=>{function nd(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}So.exports={escapeElement:nd}});var To=I((fv,Co)=>{var sd=_o().escapeElement;function wo(t){this.value=t}wo.prototype.toString=function(){return sd(""+this.value)};Co.exports={XmlText:wo}});var Ro=I((pv,xo)=>{var Zr=le(),Nt=Eo().XmlNode,od=To().XmlText;function bo(){}bo.prototype.toXML=function(t,e,r,i){var n=new Nt(r);return Ao(n,e,!0),Pt(n,t,e),n.children.length>0||i?n.toString():""};function Pt(t,e,r){switch(r.type){case"structure":return ad(t,e,r);case"map":return ud(t,e,r);case"list":return cd(t,e,r);default:return ld(t,e,r)}}function ad(t,e,r){Zr.arrayEach(r.memberNames,function(i){var n=r.members[i];if(n.location==="body"){var s=e[i],o=n.name;if(s!=null)if(n.isXmlAttribute)t.addAttribute(o,s);else if(n.flattened)Pt(t,s,n);else{var a=new Nt(o);t.addChildNode(a),Ao(a,n),Pt(a,s,n)}}})}function ud(t,e,r){var i=r.key.name||"key",n=r.value.name||"value";Zr.each(e,function(s,o){var a=new Nt(r.flattened?r.name:"entry");t.addChildNode(a);var u=new Nt(i),c=new Nt(n);a.addChildNode(u),a.addChildNode(c),Pt(u,s,r.key),Pt(c,o,r.value)})}function cd(t,e,r){r.flattened?Zr.arrayEach(e,function(i){var n=r.member.name||r.name,s=new Nt(n);t.addChildNode(s),Pt(s,i,r.member)}):Zr.arrayEach(e,function(i){var n=r.member.name||"member",s=new Nt(n);t.addChildNode(s),Pt(s,i,r.member)})}function ld(t,e,r){t.addChildNode(new od(r.toWireFormat(e)))}function Ao(t,e,r){var i,n="xmlns";e.xmlNamespaceUri?(i=e.xmlNamespaceUri,e.xmlNamespacePrefix&&(n+=":"+e.xmlNamespacePrefix)):r&&e.api.xmlNamespaceUri&&(i=e.api.xmlNamespaceUri),i&&t.addAttribute(n,i)}xo.exports=bo});var pn=I((dv,Do)=>{var ar=rr(),Io=le(),Qe=Io.property,Gt=Io.memoizedProperty;function fd(t,e,r){var i=this;r=r||{},Qe(this,"name",e.name||t),Qe(this,"api",r.api,!1),e.http=e.http||{},Qe(this,"endpoint",e.endpoint),Qe(this,"httpMethod",e.http.method||"POST"),Qe(this,"httpPath",e.http.requestUri||"/"),Qe(this,"authtype",e.authtype||""),Qe(this,"endpointDiscoveryRequired",e.endpointdiscovery?e.endpointdiscovery.required?"REQUIRED":"OPTIONAL":"NULL");var n=e.httpChecksumRequired||e.httpChecksum&&e.httpChecksum.requestChecksumRequired;Qe(this,"httpChecksumRequired",n,!1),Gt(this,"input",function(){return e.input?ar.create(e.input,r):new ar.create({type:"structure"},r)}),Gt(this,"output",function(){return e.output?ar.create(e.output,r):new ar.create({type:"structure"},r)}),Gt(this,"errors",function(){var s=[];if(!e.errors)return null;for(var o=0;o<e.errors.length;o++)s.push(ar.create(e.errors[o],r));return s}),Gt(this,"paginator",function(){return r.api.paginators[t]}),r.documentation&&(Qe(this,"documentation",e.documentation),Qe(this,"documentationUrl",e.documentationUrl)),Gt(this,"idempotentMembers",function(){var s=[],o=i.input,a=o.members;if(!o.members)return s;for(var u in a)!a.hasOwnProperty(u)||a[u].isIdempotent===!0&&s.push(u);return s}),Gt(this,"hasEventOutput",function(){var s=i.output;return pd(s)})}function pd(t){var e=t.members,r=t.payload;if(!t.members)return!1;if(r){var i=e[r];return i.isEventStream}for(var n in e)if(!e.hasOwnProperty(n)&&e[n].isEventStream===!0)return!0;return!1}Do.exports=fd});var dn=I((hv,No)=>{var ur=le().property;function dd(t,e){ur(this,"inputToken",e.input_token),ur(this,"limitKey",e.limit_key),ur(this,"moreResults",e.more_results),ur(this,"outputToken",e.output_token),ur(this,"resultKey",e.result_key)}No.exports=dd});var hn=I((mv,qo)=>{var Po=le(),ei=Po.property;function hd(t,e,r){r=r||{},ei(this,"name",t),ei(this,"api",r.api,!1),e.operation&&ei(this,"operation",Po.string.lowerFirst(e.operation));var i=this,n=["type","description","delay","maxAttempts","acceptors"];n.forEach(function(s){var o=e[s];o&&ei(i,s,o)})}qo.exports=hd});var mn=I((yv,md)=>{md.exports={acm:{name:"ACM",cors:!0},apigateway:{name:"APIGateway",cors:!0},applicationautoscaling:{prefix:"application-autoscaling",name:"ApplicationAutoScaling",cors:!0},appstream:{name:"AppStream"},autoscaling:{name:"AutoScaling",cors:!0},batch:{name:"Batch"},budgets:{name:"Budgets"},clouddirectory:{name:"CloudDirectory",versions:["2016-05-10*"]},cloudformation:{name:"CloudFormation",cors:!0},cloudfront:{name:"CloudFront",versions:["2013-05-12*","2013-11-11*","2014-05-31*","2014-10-21*","2014-11-06*","2015-04-17*","2015-07-27*","2015-09-17*","2016-01-13*","2016-01-28*","2016-08-01*","2016-08-20*","2016-09-07*","2016-09-29*","2016-11-25*","2017-03-25*","2017-10-30*","2018-06-18*","2018-11-05*","2019-03-26*"],cors:!0},cloudhsm:{name:"CloudHSM",cors:!0},cloudsearch:{name:"CloudSearch"},cloudsearchdomain:{name:"CloudSearchDomain"},cloudtrail:{name:"CloudTrail",cors:!0},cloudwatch:{prefix:"monitoring",name:"CloudWatch",cors:!0},cloudwatchevents:{prefix:"events",name:"CloudWatchEvents",versions:["2014-02-03*"],cors:!0},cloudwatchlogs:{prefix:"logs",name:"CloudWatchLogs",cors:!0},codebuild:{name:"CodeBuild",cors:!0},codecommit:{name:"CodeCommit",cors:!0},codedeploy:{name:"CodeDeploy",cors:!0},codepipeline:{name:"CodePipeline",cors:!0},cognitoidentity:{prefix:"cognito-identity",name:"CognitoIdentity",cors:!0},cognitoidentityserviceprovider:{prefix:"cognito-idp",name:"CognitoIdentityServiceProvider",cors:!0},cognitosync:{prefix:"cognito-sync",name:"CognitoSync",cors:!0},configservice:{prefix:"config",name:"ConfigService",cors:!0},cur:{name:"CUR",cors:!0},datapipeline:{name:"DataPipeline"},devicefarm:{name:"DeviceFarm",cors:!0},directconnect:{name:"DirectConnect",cors:!0},directoryservice:{prefix:"ds",name:"DirectoryService"},discovery:{name:"Discovery"},dms:{name:"DMS"},dynamodb:{name:"DynamoDB",cors:!0},dynamodbstreams:{prefix:"streams.dynamodb",name:"DynamoDBStreams",cors:!0},ec2:{name:"EC2",versions:["2013-06-15*","2013-10-15*","2014-02-01*","2014-05-01*","2014-06-15*","2014-09-01*","2014-10-01*","2015-03-01*","2015-04-15*","2015-10-01*","2016-04-01*","2016-09-15*"],cors:!0},ecr:{name:"ECR",cors:!0},ecs:{name:"ECS",cors:!0},efs:{prefix:"elasticfilesystem",name:"EFS",cors:!0},elasticache:{name:"ElastiCache",versions:["2012-11-15*","2014-03-24*","2014-07-15*","2014-09-30*"],cors:!0},elasticbeanstalk:{name:"ElasticBeanstalk",cors:!0},elb:{prefix:"elasticloadbalancing",name:"ELB",cors:!0},elbv2:{prefix:"elasticloadbalancingv2",name:"ELBv2",cors:!0},emr:{prefix:"elasticmapreduce",name:"EMR",cors:!0},es:{name:"ES"},elastictranscoder:{name:"ElasticTranscoder",cors:!0},firehose:{name:"Firehose",cors:!0},gamelift:{name:"GameLift",cors:!0},glacier:{name:"Glacier"},health:{name:"Health"},iam:{name:"IAM",cors:!0},importexport:{name:"ImportExport"},inspector:{name:"Inspector",versions:["2015-08-18*"],cors:!0},iot:{name:"Iot",cors:!0},iotdata:{prefix:"iot-data",name:"IotData",cors:!0},kinesis:{name:"Kinesis",cors:!0},kinesisanalytics:{name:"KinesisAnalytics"},kms:{name:"KMS",cors:!0},lambda:{name:"Lambda",cors:!0},lexruntime:{prefix:"runtime.lex",name:"LexRuntime",cors:!0},lightsail:{name:"Lightsail"},machinelearning:{name:"MachineLearning",cors:!0},marketplacecommerceanalytics:{name:"MarketplaceCommerceAnalytics",cors:!0},marketplacemetering:{prefix:"meteringmarketplace",name:"MarketplaceMetering"},mturk:{prefix:"mturk-requester",name:"MTurk",cors:!0},mobileanalytics:{name:"MobileAnalytics",cors:!0},opsworks:{name:"OpsWorks",cors:!0},opsworkscm:{name:"OpsWorksCM"},organizations:{name:"Organizations"},pinpoint:{name:"Pinpoint"},polly:{name:"Polly",cors:!0},rds:{name:"RDS",versions:["2014-09-01*"],cors:!0},redshift:{name:"Redshift",cors:!0},rekognition:{name:"Rekognition",cors:!0},resourcegroupstaggingapi:{name:"ResourceGroupsTaggingAPI"},route53:{name:"Route53",cors:!0},route53domains:{name:"Route53Domains",cors:!0},s3:{name:"S3",dualstackAvailable:!0,cors:!0},s3control:{name:"S3Control",dualstackAvailable:!0,xmlNoDefaultLists:!0},servicecatalog:{name:"ServiceCatalog",cors:!0},ses:{prefix:"email",name:"SES",cors:!0},shield:{name:"Shield"},simpledb:{prefix:"sdb",name:"SimpleDB"},sms:{name:"SMS"},snowball:{name:"Snowball"},sns:{name:"SNS",cors:!0},sqs:{name:"SQS",cors:!0},ssm:{name:"SSM",cors:!0},storagegateway:{name:"StorageGateway",cors:!0},stepfunctions:{prefix:"states",name:"StepFunctions"},sts:{name:"STS",cors:!0},support:{name:"Support"},swf:{name:"SWF"},xray:{name:"XRay",cors:!0},waf:{name:"WAF",cors:!0},wafregional:{prefix:"waf-regional",name:"WAFRegional"},workdocs:{name:"WorkDocs",cors:!0},workspaces:{name:"WorkSpaces"},codestar:{name:"CodeStar"},lexmodelbuildingservice:{prefix:"lex-models",name:"LexModelBuildingService",cors:!0},marketplaceentitlementservice:{prefix:"entitlement.marketplace",name:"MarketplaceEntitlementService"},athena:{name:"Athena",cors:!0},greengrass:{name:"Greengrass"},dax:{name:"DAX"},migrationhub:{prefix:"AWSMigrationHub",name:"MigrationHub"},cloudhsmv2:{name:"CloudHSMV2",cors:!0},glue:{name:"Glue"},mobile:{name:"Mobile"},pricing:{name:"Pricing",cors:!0},costexplorer:{prefix:"ce",name:"CostExplorer",cors:!0},mediaconvert:{name:"MediaConvert"},medialive:{name:"MediaLive"},mediapackage:{name:"MediaPackage"},mediastore:{name:"MediaStore"},mediastoredata:{prefix:"mediastore-data",name:"MediaStoreData",cors:!0},appsync:{name:"AppSync"},guardduty:{name:"GuardDuty"},mq:{name:"MQ"},comprehend:{name:"Comprehend",cors:!0},iotjobsdataplane:{prefix:"iot-jobs-data",name:"IoTJobsDataPlane"},kinesisvideoarchivedmedia:{prefix:"kinesis-video-archived-media",name:"KinesisVideoArchivedMedia",cors:!0},kinesisvideomedia:{prefix:"kinesis-video-media",name:"KinesisVideoMedia",cors:!0},kinesisvideo:{name:"KinesisVideo",cors:!0},sagemakerruntime:{prefix:"runtime.sagemaker",name:"SageMakerRuntime"},sagemaker:{name:"SageMaker"},translate:{name:"Translate",cors:!0},resourcegroups:{prefix:"resource-groups",name:"ResourceGroups",cors:!0},alexaforbusiness:{name:"AlexaForBusiness"},cloud9:{name:"Cloud9"},serverlessapplicationrepository:{prefix:"serverlessrepo",name:"ServerlessApplicationRepository"},servicediscovery:{name:"ServiceDiscovery"},workmail:{name:"WorkMail"},autoscalingplans:{prefix:"autoscaling-plans",name:"AutoScalingPlans"},transcribeservice:{prefix:"transcribe",name:"TranscribeService"},connect:{name:"Connect",cors:!0},acmpca:{prefix:"acm-pca",name:"ACMPCA"},fms:{name:"FMS"},secretsmanager:{name:"SecretsManager",cors:!0},iotanalytics:{name:"IoTAnalytics",cors:!0},iot1clickdevicesservice:{prefix:"iot1click-devices",name:"IoT1ClickDevicesService"},iot1clickprojects:{prefix:"iot1click-projects",name:"IoT1ClickProjects"},pi:{name:"PI"},neptune:{name:"Neptune"},mediatailor:{name:"MediaTailor"},eks:{name:"EKS"},macie:{name:"Macie"},dlm:{name:"DLM"},signer:{name:"Signer"},chime:{name:"Chime"},pinpointemail:{prefix:"pinpoint-email",name:"PinpointEmail"},ram:{name:"RAM"},route53resolver:{name:"Route53Resolver"},pinpointsmsvoice:{prefix:"sms-voice",name:"PinpointSMSVoice"},quicksight:{name:"QuickSight"},rdsdataservice:{prefix:"rds-data",name:"RDSDataService"},amplify:{name:"Amplify"},datasync:{name:"DataSync"},robomaker:{name:"RoboMaker"},transfer:{name:"Transfer"},globalaccelerator:{name:"GlobalAccelerator"},comprehendmedical:{name:"ComprehendMedical",cors:!0},kinesisanalyticsv2:{name:"KinesisAnalyticsV2"},mediaconnect:{name:"MediaConnect"},fsx:{name:"FSx"},securityhub:{name:"SecurityHub"},appmesh:{name:"AppMesh",versions:["2018-10-01*"]},licensemanager:{prefix:"license-manager",name:"LicenseManager"},kafka:{name:"Kafka"},apigatewaymanagementapi:{name:"ApiGatewayManagementApi"},apigatewayv2:{name:"ApiGatewayV2"},docdb:{name:"DocDB"},backup:{name:"Backup"},worklink:{name:"WorkLink"},textract:{name:"Textract"},managedblockchain:{name:"ManagedBlockchain"},mediapackagevod:{prefix:"mediapackage-vod",name:"MediaPackageVod"},groundstation:{name:"GroundStation"},iotthingsgraph:{name:"IoTThingsGraph"},iotevents:{name:"IoTEvents"},ioteventsdata:{prefix:"iotevents-data",name:"IoTEventsData"},personalize:{name:"Personalize",cors:!0},personalizeevents:{prefix:"personalize-events",name:"PersonalizeEvents",cors:!0},personalizeruntime:{prefix:"personalize-runtime",name:"PersonalizeRuntime",cors:!0},applicationinsights:{prefix:"application-insights",name:"ApplicationInsights"},servicequotas:{prefix:"service-quotas",name:"ServiceQuotas"},ec2instanceconnect:{prefix:"ec2-instance-connect",name:"EC2InstanceConnect"},eventbridge:{name:"EventBridge"},lakeformation:{name:"LakeFormation"},forecastservice:{prefix:"forecast",name:"ForecastService",cors:!0},forecastqueryservice:{prefix:"forecastquery",name:"ForecastQueryService",cors:!0},qldb:{name:"QLDB"},qldbsession:{prefix:"qldb-session",name:"QLDBSession"},workmailmessageflow:{name:"WorkMailMessageFlow"},codestarnotifications:{prefix:"codestar-notifications",name:"CodeStarNotifications"},savingsplans:{name:"SavingsPlans"},sso:{name:"SSO"},ssooidc:{prefix:"sso-oidc",name:"SSOOIDC"},marketplacecatalog:{prefix:"marketplace-catalog",name:"MarketplaceCatalog"},dataexchange:{name:"DataExchange"},sesv2:{name:"SESV2"},migrationhubconfig:{prefix:"migrationhub-config",name:"MigrationHubConfig"},connectparticipant:{name:"ConnectParticipant"},appconfig:{name:"AppConfig"},iotsecuretunneling:{name:"IoTSecureTunneling"},wafv2:{name:"WAFV2"},elasticinference:{prefix:"elastic-inference",name:"ElasticInference"},imagebuilder:{name:"Imagebuilder"},schemas:{name:"Schemas"},accessanalyzer:{name:"AccessAnalyzer"},codegurureviewer:{prefix:"codeguru-reviewer",name:"CodeGuruReviewer"},codeguruprofiler:{name:"CodeGuruProfiler"},computeoptimizer:{prefix:"compute-optimizer",name:"ComputeOptimizer"},frauddetector:{name:"FraudDetector"},kendra:{name:"Kendra"},networkmanager:{name:"NetworkManager"},outposts:{name:"Outposts"},augmentedairuntime:{prefix:"sagemaker-a2i-runtime",name:"AugmentedAIRuntime"},ebs:{name:"EBS"},kinesisvideosignalingchannels:{prefix:"kinesis-video-signaling",name:"KinesisVideoSignalingChannels",cors:!0},detective:{name:"Detective"},codestarconnections:{prefix:"codestar-connections",name:"CodeStarconnections"},synthetics:{name:"Synthetics"},iotsitewise:{name:"IoTSiteWise"},macie2:{name:"Macie2"},codeartifact:{name:"CodeArtifact"},honeycode:{name:"Honeycode"},ivs:{name:"IVS"},braket:{name:"Braket"},identitystore:{name:"IdentityStore"},appflow:{name:"Appflow"},redshiftdata:{prefix:"redshift-data",name:"RedshiftData"},ssoadmin:{prefix:"sso-admin",name:"SSOAdmin"},timestreamquery:{prefix:"timestream-query",name:"TimestreamQuery"},timestreamwrite:{prefix:"timestream-write",name:"TimestreamWrite"},s3outposts:{name:"S3Outposts"},databrew:{name:"DataBrew"},servicecatalogappregistry:{prefix:"servicecatalog-appregistry",name:"ServiceCatalogAppRegistry"},networkfirewall:{prefix:"network-firewall",name:"NetworkFirewall"},mwaa:{name:"MWAA"},amplifybackend:{name:"AmplifyBackend"},appintegrations:{name:"AppIntegrations"},connectcontactlens:{prefix:"connect-contact-lens",name:"ConnectContactLens"},devopsguru:{prefix:"devops-guru",name:"DevOpsGuru"},ecrpublic:{prefix:"ecr-public",name:"ECRPUBLIC"},lookoutvision:{name:"LookoutVision"},sagemakerfeaturestoreruntime:{prefix:"sagemaker-featurestore-runtime",name:"SageMakerFeatureStoreRuntime"},customerprofiles:{prefix:"customer-profiles",name:"CustomerProfiles"},auditmanager:{name:"AuditManager"},emrcontainers:{prefix:"emr-containers",name:"EMRcontainers"},healthlake:{name:"HealthLake"},sagemakeredge:{prefix:"sagemaker-edge",name:"SagemakerEdge"},amp:{name:"Amp"},greengrassv2:{name:"GreengrassV2"},iotdeviceadvisor:{name:"IotDeviceAdvisor"},iotfleethub:{name:"IoTFleetHub"},iotwireless:{name:"IoTWireless"},location:{name:"Location",cors:!0},wellarchitected:{name:"WellArchitected"},lexmodelsv2:{prefix:"models.lex.v2",name:"LexModelsV2"},lexruntimev2:{prefix:"runtime.lex.v2",name:"LexRuntimeV2",cors:!0},fis:{name:"Fis"},lookoutmetrics:{name:"LookoutMetrics"},mgn:{name:"Mgn"},lookoutequipment:{name:"LookoutEquipment"},nimble:{name:"Nimble"},finspace:{name:"Finspace"},finspacedata:{prefix:"finspace-data",name:"Finspacedata"},ssmcontacts:{prefix:"ssm-contacts",name:"SSMContacts"},ssmincidents:{prefix:"ssm-incidents",name:"SSMIncidents"},applicationcostprofiler:{name:"ApplicationCostProfiler"},apprunner:{name:"AppRunner"},proton:{name:"Proton"},route53recoverycluster:{prefix:"route53-recovery-cluster",name:"Route53RecoveryCluster"},route53recoverycontrolconfig:{prefix:"route53-recovery-control-config",name:"Route53RecoveryControlConfig"},route53recoveryreadiness:{prefix:"route53-recovery-readiness",name:"Route53RecoveryReadiness"},chimesdkidentity:{prefix:"chime-sdk-identity",name:"ChimeSDKIdentity"},chimesdkmessaging:{prefix:"chime-sdk-messaging",name:"ChimeSDKMessaging"},snowdevicemanagement:{prefix:"snow-device-management",name:"SnowDeviceManagement"},memorydb:{name:"MemoryDB"},opensearch:{name:"OpenSearch"},kafkaconnect:{name:"KafkaConnect"},voiceid:{prefix:"voice-id",name:"VoiceID"},wisdom:{name:"Wisdom"},account:{name:"Account"},cloudcontrol:{name:"CloudControl"},grafana:{name:"Grafana"},panorama:{name:"Panorama"},chimesdkmeetings:{prefix:"chime-sdk-meetings",name:"ChimeSDKMeetings"},resiliencehub:{name:"Resiliencehub"},migrationhubstrategy:{name:"MigrationHubStrategy"},appconfigdata:{name:"AppConfigData"},drs:{name:"Drs"},migrationhubrefactorspaces:{prefix:"migration-hub-refactor-spaces",name:"MigrationHubRefactorSpaces"},evidently:{name:"Evidently"},inspector2:{name:"Inspector2"},rbin:{name:"Rbin"},rum:{name:"RUM"},backupgateway:{prefix:"backup-gateway",name:"BackupGateway"},iottwinmaker:{name:"IoTTwinMaker"},workspacesweb:{prefix:"workspaces-web",name:"WorkSpacesWeb"},amplifyuibuilder:{name:"AmplifyUIBuilder"},keyspaces:{name:"Keyspaces"},billingconductor:{name:"Billingconductor"},gamesparks:{name:"GameSparks"},pinpointsmsvoicev2:{prefix:"pinpoint-sms-voice-v2",name:"PinpointSMSVoiceV2"},ivschat:{name:"Ivschat"},chimesdkmediapipelines:{prefix:"chime-sdk-media-pipelines",name:"ChimeSDKMediaPipelines"},emrserverless:{prefix:"emr-serverless",name:"EMRServerless"},m2:{name:"M2"},connectcampaigns:{name:"ConnectCampaigns"},redshiftserverless:{prefix:"redshift-serverless",name:"RedshiftServerless"},rolesanywhere:{name:"RolesAnywhere"},licensemanagerusersubscriptions:{prefix:"license-manager-user-subscriptions",name:"LicenseManagerUserSubscriptions"}}});var yn=I((vv,Lo)=>{var ti=sn(),yd=pn(),vd=rr(),gd=dn(),Ed=hn(),Oo=mn(),cr=le(),ie=cr.property,Sd=cr.memoizedProperty;function _d(t,e){var r=this;t=t||{},e=e||{},e.api=this,t.metadata=t.metadata||{};var i=e.serviceIdentifier;delete e.serviceIdentifier,ie(this,"isApi",!0,!1),ie(this,"apiVersion",t.metadata.apiVersion),ie(this,"endpointPrefix",t.metadata.endpointPrefix),ie(this,"signingName",t.metadata.signingName),ie(this,"globalEndpoint",t.metadata.globalEndpoint),ie(this,"signatureVersion",t.metadata.signatureVersion),ie(this,"jsonVersion",t.metadata.jsonVersion),ie(this,"targetPrefix",t.metadata.targetPrefix),ie(this,"protocol",t.metadata.protocol),ie(this,"timestampFormat",t.metadata.timestampFormat),ie(this,"xmlNamespaceUri",t.metadata.xmlNamespace),ie(this,"abbreviation",t.metadata.serviceAbbreviation),ie(this,"fullName",t.metadata.serviceFullName),ie(this,"serviceId",t.metadata.serviceId),i&&Oo[i]&&ie(this,"xmlNoDefaultLists",Oo[i].xmlNoDefaultLists,!1),Sd(this,"className",function(){var s=t.metadata.serviceAbbreviation||t.metadata.serviceFullName;return s?(s=s.replace(/^Amazon|AWS\s*|\(.*|\s+|\W+/g,""),s==="ElasticLoadBalancing"&&(s="ELB"),s):null});function n(s,o){o.endpointoperation===!0&&ie(r,"endpointOperation",cr.string.lowerFirst(s)),o.endpointdiscovery&&!r.hasRequiredEndpointDiscovery&&ie(r,"hasRequiredEndpointDiscovery",o.endpointdiscovery.required===!0)}ie(this,"operations",new ti(t.operations,e,function(s,o){return new yd(s,o,e)},cr.string.lowerFirst,n)),ie(this,"shapes",new ti(t.shapes,e,function(s,o){return vd.create(o,e)})),ie(this,"paginators",new ti(t.paginators,e,function(s,o){return new gd(s,o,e)})),ie(this,"waiters",new ti(t.waiters,e,function(s,o){return new Ed(s,o,e)},cr.string.lowerFirst)),e.documentation&&(ie(this,"documentation",t.documentation),ie(this,"documentationUrl",t.documentationUrl)),ie(this,"errorCodeMapping",t.awsQueryCompatible)}Lo.exports=_d});var Mo=I((gv,ko)=>{function ri(t,e){if(!ri.services.hasOwnProperty(t))throw new Error("InvalidService: Failed to load api for "+t);return ri.services[t][e]}ri.services={};ko.exports=ri});var Fo=I(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});var wd=function(){function t(e,r){this.key=e,this.value=r}return t}(),Cd=function(){function t(e){if(this.nodeMap={},this.size=0,typeof e!="number"||e<1)throw new Error("Cache size can only be positive number");this.sizeLimit=e}return Object.defineProperty(t.prototype,"length",{get:function(){return this.size},enumerable:!0,configurable:!0}),t.prototype.prependToList=function(e){this.headerNode?(this.headerNode.prev=e,e.next=this.headerNode):this.tailNode=e,this.headerNode=e,this.size++},t.prototype.removeFromTail=function(){if(!!this.tailNode){var e=this.tailNode,r=e.prev;return r&&(r.next=void 0),e.prev=void 0,this.tailNode=r,this.size--,e}},t.prototype.detachFromList=function(e){this.headerNode===e&&(this.headerNode=e.next),this.tailNode===e&&(this.tailNode=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.next=void 0,e.prev=void 0,this.size--},t.prototype.get=function(e){if(this.nodeMap[e]){var r=this.nodeMap[e];return this.detachFromList(r),this.prependToList(r),r.value}},t.prototype.remove=function(e){if(this.nodeMap[e]){var r=this.nodeMap[e];this.detachFromList(r),delete this.nodeMap[e]}},t.prototype.put=function(e,r){if(this.nodeMap[e])this.remove(e);else if(this.size===this.sizeLimit){var i=this.removeFromTail(),n=i.key;delete this.nodeMap[n]}var s=new wd(e,r);this.nodeMap[e]=s,this.prependToList(s)},t.prototype.empty=function(){for(var e=Object.keys(this.nodeMap),r=0;r<e.length;r++){var i=e[r],n=this.nodeMap[i];this.detachFromList(n),delete this.nodeMap[i]}},t}();vn.LRUCache=Cd});var Bo=I(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});var Td=Fo(),bd=1e3,Ad=function(){function t(e){e===void 0&&(e=bd),this.maxSize=e,this.cache=new Td.LRUCache(e)}return Object.defineProperty(t.prototype,"size",{get:function(){return this.cache.length},enumerable:!0,configurable:!0}),t.prototype.put=function(e,r){var i=typeof e!="string"?t.getKeyString(e):e,n=this.populateValue(r);this.cache.put(i,n)},t.prototype.get=function(e){var r=typeof e!="string"?t.getKeyString(e):e,i=Date.now(),n=this.cache.get(r);if(n){for(var s=n.length-1;s>=0;s--){var o=n[s];o.Expire<i&&n.splice(s,1)}if(n.length===0){this.cache.remove(r);return}}return n},t.getKeyString=function(e){for(var r=[],i=Object.keys(e).sort(),n=0;n<i.length;n++){var s=i[n];e[s]!==void 0&&r.push(e[s])}return r.join(" ")},t.prototype.populateValue=function(e){var r=Date.now();return e.map(function(i){return{Address:i.Address||"",Expire:r+(i.CachePeriodInMinutes||1)*60*1e3}})},t.prototype.empty=function(){this.cache.empty()},t.prototype.remove=function(e){var r=typeof e!="string"?t.getKeyString(e):e;this.cache.remove(r)},t}();gn.EndpointCache=Ad});var En=I((_v,Uo)=>{var ft=j();ft.SequentialExecutor=ft.util.inherit({constructor:function(){this._events={}},listeners:function(e){return this._events[e]?this._events[e].slice(0):[]},on:function(e,r,i){return this._events[e]?i?this._events[e].unshift(r):this._events[e].push(r):this._events[e]=[r],this},onAsync:function(e,r,i){return r._isAsync=!0,this.on(e,r,i)},removeListener:function(e,r){var i=this._events[e];if(i){for(var n=i.length,s=-1,o=0;o<n;++o)i[o]===r&&(s=o);s>-1&&i.splice(s,1)}return this},removeAllListeners:function(e){return e?delete this._events[e]:this._events={},this},emit:function(e,r,i){i||(i=function(){});var n=this.listeners(e),s=n.length;return this.callListeners(n,r,i),s>0},callListeners:function(e,r,i,n){var s=this,o=n||null;function a(c){if(c&&(o=ft.util.error(o||new Error,c),s._haltHandlersOnError))return i.call(s,o);s.callListeners(e,r,i,o)}for(;e.length>0;){var u=e.shift();if(u._isAsync){u.apply(s,r.concat([a]));return}else{try{u.apply(s,r)}catch(c){o=ft.util.error(o||new Error,c)}if(o&&s._haltHandlersOnError){i.call(s,o);return}}}i.call(s,o)},addListeners:function(e){var r=this;return e._events&&(e=e._events),ft.util.each(e,function(i,n){typeof n=="function"&&(n=[n]),ft.util.arrayEach(n,function(s){r.on(i,s)})}),r},addNamedListener:function(e,r,i,n){return this[e]=i,this.addListener(r,i,n),this},addNamedAsyncListener:function(e,r,i,n){return i._isAsync=!0,this.addNamedListener(e,r,i,n)},addNamedListeners:function(e){var r=this;return e(function(){r.addNamedListener.apply(r,arguments)},function(){r.addNamedAsyncListener.apply(r,arguments)}),this}});ft.SequentialExecutor.prototype.addListener=ft.SequentialExecutor.prototype.on;Uo.exports=ft.SequentialExecutor});var jo=I((wv,xd)=>{xd.exports={rules:{"*/*":{endpoint:"{service}.{region}.amazonaws.com"},"cn-*/*":{endpoint:"{service}.{region}.amazonaws.com.cn"},"us-iso-*/*":"usIso","us-isob-*/*":"usIsob","*/budgets":"globalSSL","*/cloudfront":"globalSSL","*/sts":"globalSSL","*/importexport":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2",globalEndpoint:!0},"*/route53":"globalSSL","cn-*/route53":{endpoint:"{service}.amazonaws.com.cn",globalEndpoint:!0,signingRegion:"cn-northwest-1"},"us-gov-*/route53":"globalGovCloud","us-iso-*/route53":{endpoint:"{service}.c2s.ic.gov",globalEndpoint:!0,signingRegion:"us-iso-east-1"},"us-isob-*/route53":{endpoint:"{service}.sc2s.sgov.gov",globalEndpoint:!0,signingRegion:"us-isob-east-1"},"*/waf":"globalSSL","*/iam":"globalSSL","cn-*/iam":{endpoint:"{service}.cn-north-1.amazonaws.com.cn",globalEndpoint:!0,signingRegion:"cn-north-1"},"us-gov-*/iam":"globalGovCloud","us-gov-*/sts":{endpoint:"{service}.{region}.amazonaws.com"},"us-gov-west-1/s3":"s3signature","us-west-1/s3":"s3signature","us-west-2/s3":"s3signature","eu-west-1/s3":"s3signature","ap-southeast-1/s3":"s3signature","ap-southeast-2/s3":"s3signature","ap-northeast-1/s3":"s3signature","sa-east-1/s3":"s3signature","us-east-1/s3":{endpoint:"{service}.amazonaws.com",signatureVersion:"s3"},"us-east-1/sdb":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2"},"*/sdb":{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"v2"}},fipsRules:{"*/*":"fipsStandard","us-gov-*/*":"fipsStandard","us-iso-*/*":{endpoint:"{service}-fips.{region}.c2s.ic.gov"},"us-iso-*/dms":"usIso","us-isob-*/*":{endpoint:"{service}-fips.{region}.sc2s.sgov.gov"},"us-isob-*/dms":"usIsob","cn-*/*":{endpoint:"{service}-fips.{region}.amazonaws.com.cn"},"*/api.ecr":"fips.api.ecr","*/api.sagemaker":"fips.api.sagemaker","*/batch":"fipsDotPrefix","*/eks":"fipsDotPrefix","*/models.lex":"fips.models.lex","*/runtime.lex":"fips.runtime.lex","*/runtime.sagemaker":{endpoint:"runtime-fips.sagemaker.{region}.amazonaws.com"},"*/iam":"fipsWithoutRegion","*/route53":"fipsWithoutRegion","*/transcribe":"fipsDotPrefix","*/waf":"fipsWithoutRegion","us-gov-*/transcribe":"fipsDotPrefix","us-gov-*/api.ecr":"fips.api.ecr","us-gov-*/api.sagemaker":"fips.api.sagemaker","us-gov-*/models.lex":"fips.models.lex","us-gov-*/runtime.lex":"fips.runtime.lex","us-gov-*/acm-pca":"fipsWithServiceOnly","us-gov-*/batch":"fipsWithServiceOnly","us-gov-*/config":"fipsWithServiceOnly","us-gov-*/eks":"fipsWithServiceOnly","us-gov-*/elasticmapreduce":"fipsWithServiceOnly","us-gov-*/identitystore":"fipsWithServiceOnly","us-gov-*/dynamodb":"fipsWithServiceOnly","us-gov-*/elasticloadbalancing":"fipsWithServiceOnly","us-gov-*/guardduty":"fipsWithServiceOnly","us-gov-*/monitoring":"fipsWithServiceOnly","us-gov-*/resource-groups":"fipsWithServiceOnly","us-gov-*/runtime.sagemaker":"fipsWithServiceOnly","us-gov-*/servicecatalog-appregistry":"fipsWithServiceOnly","us-gov-*/servicequotas":"fipsWithServiceOnly","us-gov-*/ssm":"fipsWithServiceOnly","us-gov-*/sts":"fipsWithServiceOnly","us-gov-*/support":"fipsWithServiceOnly","us-gov-west-1/states":"fipsWithServiceOnly","us-iso-east-1/elasticfilesystem":{endpoint:"elasticfilesystem-fips.{region}.c2s.ic.gov"},"us-gov-west-1/organizations":"fipsWithServiceOnly","us-gov-west-1/route53":{endpoint:"route53.us-gov.amazonaws.com"}},dualstackRules:{"*/*":{endpoint:"{service}.{region}.api.aws"},"cn-*/*":{endpoint:"{service}.{region}.api.amazonwebservices.com.cn"},"*/s3":"dualstackLegacy","cn-*/s3":"dualstackLegacyCn","*/s3-control":"dualstackLegacy","cn-*/s3-control":"dualstackLegacyCn","ap-south-1/ec2":"dualstackLegacyEc2","eu-west-1/ec2":"dualstackLegacyEc2","sa-east-1/ec2":"dualstackLegacyEc2","us-east-1/ec2":"dualstackLegacyEc2","us-east-2/ec2":"dualstackLegacyEc2","us-west-2/ec2":"dualstackLegacyEc2"},dualstackFipsRules:{"*/*":{endpoint:"{service}-fips.{region}.api.aws"},"cn-*/*":{endpoint:"{service}-fips.{region}.api.amazonwebservices.com.cn"},"*/s3":"dualstackFipsLegacy","cn-*/s3":"dualstackFipsLegacyCn","*/s3-control":"dualstackFipsLegacy","cn-*/s3-control":"dualstackFipsLegacyCn"},patterns:{globalSSL:{endpoint:"https://{service}.amazonaws.com",globalEndpoint:!0,signingRegion:"us-east-1"},globalGovCloud:{endpoint:"{service}.us-gov.amazonaws.com",globalEndpoint:!0,signingRegion:"us-gov-west-1"},s3signature:{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"s3"},usIso:{endpoint:"{service}.{region}.c2s.ic.gov"},usIsob:{endpoint:"{service}.{region}.sc2s.sgov.gov"},fipsStandard:{endpoint:"{service}-fips.{region}.amazonaws.com"},fipsDotPrefix:{endpoint:"fips.{service}.{region}.amazonaws.com"},fipsWithoutRegion:{endpoint:"{service}-fips.amazonaws.com"},"fips.api.ecr":{endpoint:"ecr-fips.{region}.amazonaws.com"},"fips.api.sagemaker":{endpoint:"api-fips.sagemaker.{region}.amazonaws.com"},"fips.models.lex":{endpoint:"models-fips.lex.{region}.amazonaws.com"},"fips.runtime.lex":{endpoint:"runtime-fips.lex.{region}.amazonaws.com"},fipsWithServiceOnly:{endpoint:"{service}.{region}.amazonaws.com"},dualstackLegacy:{endpoint:"{service}.dualstack.{region}.amazonaws.com"},dualstackLegacyCn:{endpoint:"{service}.dualstack.{region}.amazonaws.com.cn"},dualstackFipsLegacy:{endpoint:"{service}-fips.dualstack.{region}.amazonaws.com"},dualstackFipsLegacyCn:{endpoint:"{service}-fips.dualstack.{region}.amazonaws.com.cn"},dualstackLegacyEc2:{endpoint:"api.ec2.{region}.aws"}}}});var Xo=I((Cv,Vo)=>{var Rd=le(),lr=jo();function Id(t){if(!t)return null;var e=t.split("-");return e.length<3?null:e.slice(0,e.length-2).join("-")+"-*"}function Dd(t){var e=t.config.region,r=Id(e),i=t.api.endpointPrefix;return[[e,i],[r,i],[e,"*"],[r,"*"],["*",i],["*","*"]].map(function(n){return n[0]&&n[1]?n.join("/"):null})}function Nd(t,e){Rd.each(e,function(r,i){r!=="globalEndpoint"&&(t.config[r]===void 0||t.config[r]===null)&&(t.config[r]=i)})}function Pd(t){for(var e=Dd(t),r=t.config.useFipsEndpoint,i=t.config.useDualstackEndpoint,n=0;n<e.length;n++){var s=e[n];if(!!s){var o=r?i?lr.dualstackFipsRules:lr.fipsRules:i?lr.dualstackRules:lr.rules;if(Object.prototype.hasOwnProperty.call(o,s)){var a=o[s];typeof a=="string"&&(a=lr.patterns[a]),t.isGlobalEndpoint=!!a.globalEndpoint,a.signingRegion&&(t.signingRegion=a.signingRegion),a.signatureVersion||(a.signatureVersion="v4"),Nd(t,a);return}}}}function qd(t){for(var e={"^(us|eu|ap|sa|ca|me)\\-\\w+\\-\\d+$":"amazonaws.com","^cn\\-\\w+\\-\\d+$":"amazonaws.com.cn","^us\\-gov\\-\\w+\\-\\d+$":"amazonaws.com","^us\\-iso\\-\\w+\\-\\d+$":"c2s.ic.gov","^us\\-isob\\-\\w+\\-\\d+$":"sc2s.sgov.gov"},r="amazonaws.com",i=Object.keys(e),n=0;n<i.length;n++){var s=RegExp(i[n]),o=e[i[n]];if(s.test(t))return o}return r}Vo.exports={configureEndpoint:Pd,getEndpointSuffix:qd}});var Sn=I((Tv,Wo)=>{function Od(t){return typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"))}function Ld(t){return typeof t=="string"&&["aws-global","aws-us-gov-global"].includes(t)}function kd(t){return["fips-aws-global","aws-fips","aws-global"].includes(t)?"us-east-1":["fips-aws-us-gov-global","aws-us-gov-global"].includes(t)?"us-gov-west-1":t.replace(/fips-(dkr-|prod-)?|-fips/,"")}Wo.exports={isFipsRegion:Od,isGlobalRegion:Ld,getRealRegion:kd}});var zo=I((bv,Ho)=>{var B=j(),Md=yn(),Fd=Xo(),_n=B.util.inherit,Bd=0,ii=Sn();B.Service=_n({constructor:function(e){if(!this.loadServiceClass)throw B.util.error(new Error,"Service must be constructed with `new' operator");if(e){if(e.region){var r=e.region;ii.isFipsRegion(r)&&(e.region=ii.getRealRegion(r),e.useFipsEndpoint=!0),ii.isGlobalRegion(r)&&(e.region=ii.getRealRegion(r))}typeof e.useDualstack=="boolean"&&typeof e.useDualstackEndpoint!="boolean"&&(e.useDualstackEndpoint=e.useDualstack)}var i=this.loadServiceClass(e||{});if(i){var n=B.util.copy(e),s=new i(e);return Object.defineProperty(s,"_originalConfig",{get:function(){return n},enumerable:!1,configurable:!0}),s._clientId=++Bd,s}this.initialize(e)},initialize:function(e){var r=B.config[this.serviceIdentifier];if(this.config=new B.Config(B.config),r&&this.config.update(r,!0),e&&this.config.update(e,!0),this.validateService(),this.config.endpoint||Fd.configureEndpoint(this),this.config.endpoint=this.endpointFromTemplate(this.config.endpoint),this.setEndpoint(this.config.endpoint),B.SequentialExecutor.call(this),B.Service.addDefaultMonitoringListeners(this),(this.config.clientSideMonitoring||B.Service._clientSideMonitoring)&&this.publisher){var i=this.publisher;this.addNamedListener("PUBLISH_API_CALL","apiCall",function(s){process.nextTick(function(){i.eventHandler(s)})}),this.addNamedListener("PUBLISH_API_ATTEMPT","apiCallAttempt",function(s){process.nextTick(function(){i.eventHandler(s)})})}},validateService:function(){},loadServiceClass:function(e){var r=e;if(B.util.isEmpty(this.api)){if(r.apiConfig)return B.Service.defineServiceApi(this.constructor,r.apiConfig);if(this.constructor.services){r=new B.Config(B.config),r.update(e,!0);var i=r.apiVersions[this.constructor.serviceIdentifier];return i=i||r.apiVersion,this.getLatestServiceClass(i)}else return null}else return null},getLatestServiceClass:function(e){return e=this.getLatestServiceVersion(e),this.constructor.services[e]===null&&B.Service.defineServiceApi(this.constructor,e),this.constructor.services[e]},getLatestServiceVersion:function(e){if(!this.constructor.services||this.constructor.services.length===0)throw new Error("No services defined on "+this.constructor.serviceIdentifier);if(e?B.util.isType(e,Date)&&(e=B.util.date.iso8601(e).split("T")[0]):e="latest",Object.hasOwnProperty(this.constructor.services,e))return e;for(var r=Object.keys(this.constructor.services).sort(),i=null,n=r.length-1;n>=0;n--)if(r[n][r[n].length-1]!=="*"&&(i=r[n]),r[n].substr(0,10)<=e)return i;throw new Error("Could not find "+this.constructor.serviceIdentifier+" API to satisfy version constraint `"+e+"'")},api:{},defaultRetryCount:3,customizeRequests:function(e){if(!e)this.customRequestHandler=null;else if(typeof e=="function")this.customRequestHandler=e;else throw new Error("Invalid callback type '"+typeof e+"' provided in customizeRequests")},makeRequest:function(e,r,i){if(typeof r=="function"&&(i=r,r=null),r=r||{},this.config.params){var n=this.api.operations[e];n&&(r=B.util.copy(r),B.util.each(this.config.params,function(o,a){n.input.members[o]&&(r[o]===void 0||r[o]===null)&&(r[o]=a)}))}var s=new B.Request(this,e,r);return this.addAllRequestListeners(s),this.attachMonitoringEmitter(s),i&&s.send(i),s},makeUnauthenticatedRequest:function(e,r,i){typeof r=="function"&&(i=r,r={});var n=this.makeRequest(e,r).toUnauthenticated();return i?n.send(i):n},waitFor:function(e,r,i){var n=new B.ResourceWaiter(this,e);return n.wait(r,i)},addAllRequestListeners:function(e){for(var r=[B.events,B.EventListeners.Core,this.serviceInterface(),B.EventListeners.CorePost],i=0;i<r.length;i++)r[i]&&e.addListeners(r[i]);this.config.paramValidation||e.removeListener("validate",B.EventListeners.Core.VALIDATE_PARAMETERS),this.config.logger&&e.addListeners(B.EventListeners.Logger),this.setupRequestListeners(e),typeof this.constructor.prototype.customRequestHandler=="function"&&this.constructor.prototype.customRequestHandler(e),Object.prototype.hasOwnProperty.call(this,"customRequestHandler")&&typeof this.customRequestHandler=="function"&&this.customRequestHandler(e)},apiCallEvent:function(e){var r=e.service.api.operations[e.operation],i={Type:"ApiCall",Api:r?r.name:e.operation,Version:1,Service:e.service.api.serviceId||e.service.api.endpointPrefix,Region:e.httpRequest.region,MaxRetriesExceeded:0,UserAgent:e.httpRequest.getUserAgent()},n=e.response;if(n.httpResponse.statusCode&&(i.FinalHttpStatusCode=n.httpResponse.statusCode),n.error){var s=n.error,o=n.httpResponse.statusCode;o>299?(s.code&&(i.FinalAwsException=s.code),s.message&&(i.FinalAwsExceptionMessage=s.message)):((s.code||s.name)&&(i.FinalSdkException=s.code||s.name),s.message&&(i.FinalSdkExceptionMessage=s.message))}return i},apiAttemptEvent:function(e){var r=e.service.api.operations[e.operation],i={Type:"ApiCallAttempt",Api:r?r.name:e.operation,Version:1,Service:e.service.api.serviceId||e.service.api.endpointPrefix,Fqdn:e.httpRequest.endpoint.hostname,UserAgent:e.httpRequest.getUserAgent()},n=e.response;return n.httpResponse.statusCode&&(i.HttpStatusCode=n.httpResponse.statusCode),!e._unAuthenticated&&e.service.config.credentials&&e.service.config.credentials.accessKeyId&&(i.AccessKey=e.service.config.credentials.accessKeyId),n.httpResponse.headers&&(e.httpRequest.headers["x-amz-security-token"]&&(i.SessionToken=e.httpRequest.headers["x-amz-security-token"]),n.httpResponse.headers["x-amzn-requestid"]&&(i.XAmznRequestId=n.httpResponse.headers["x-amzn-requestid"]),n.httpResponse.headers["x-amz-request-id"]&&(i.XAmzRequestId=n.httpResponse.headers["x-amz-request-id"]),n.httpResponse.headers["x-amz-id-2"]&&(i.XAmzId2=n.httpResponse.headers["x-amz-id-2"])),i},attemptFailEvent:function(e){var r=this.apiAttemptEvent(e),i=e.response,n=i.error;return i.httpResponse.statusCode>299?(n.code&&(r.AwsException=n.code),n.message&&(r.AwsExceptionMessage=n.message)):((n.code||n.name)&&(r.SdkException=n.code||n.name),n.message&&(r.SdkExceptionMessage=n.message)),r},attachMonitoringEmitter:function(e){var r,i,n,s,o=0,a,u,c=this,l=!0;e.on("validate",function(){s=B.util.realClock.now(),u=Date.now()},l),e.on("sign",function(){i=B.util.realClock.now(),r=Date.now(),a=e.httpRequest.region,o++},l),e.on("validateResponse",function(){n=Math.round(B.util.realClock.now()-i)}),e.addNamedListener("API_CALL_ATTEMPT","success",function(){var g=c.apiAttemptEvent(e);g.Timestamp=r,g.AttemptLatency=n>=0?n:0,g.Region=a,c.emit("apiCallAttempt",[g])}),e.addNamedListener("API_CALL_ATTEMPT_RETRY","retry",function(){var g=c.attemptFailEvent(e);g.Timestamp=r,n=n||Math.round(B.util.realClock.now()-i),g.AttemptLatency=n>=0?n:0,g.Region=a,c.emit("apiCallAttempt",[g])}),e.addNamedListener("API_CALL","complete",function(){var g=c.apiCallEvent(e);if(g.AttemptCount=o,!(g.AttemptCount<=0)){g.Timestamp=u;var b=Math.round(B.util.realClock.now()-s);g.Latency=b>=0?b:0;var v=e.response;v.error&&v.error.retryable&&typeof v.retryCount=="number"&&typeof v.maxRetries=="number"&&v.retryCount>=v.maxRetries&&(g.MaxRetriesExceeded=1),c.emit("apiCall",[g])}})},setupRequestListeners:function(e){},getSigningName:function(){return this.api.signingName||this.api.endpointPrefix},getSignerClass:function(e){var r,i=null,n="";if(e){var s=e.service.api.operations||{};i=s[e.operation]||null,n=i?i.authtype:""}return this.config.signatureVersion?r=this.config.signatureVersion:n==="v4"||n==="v4-unsigned-body"?r="v4":r=this.api.signatureVersion,B.Signers.RequestSigner.getVersion(r)},serviceInterface:function(){switch(this.api.protocol){case"ec2":return B.EventListeners.Query;case"query":return B.EventListeners.Query;case"json":return B.EventListeners.Json;case"rest-json":return B.EventListeners.RestJson;case"rest-xml":return B.EventListeners.RestXml}if(this.api.protocol)throw new Error("Invalid service `protocol' "+this.api.protocol+" in API config")},successfulResponse:function(e){return e.httpResponse.statusCode<300},numRetries:function(){return this.config.maxRetries!==void 0?this.config.maxRetries:this.defaultRetryCount},retryDelays:function(e,r){return B.util.calculateRetryDelay(e,this.config.retryDelayOptions,r)},retryableError:function(e){return!!(this.timeoutError(e)||this.networkingError(e)||this.expiredCredentialsError(e)||this.throttledError(e)||e.statusCode>=500)},networkingError:function(e){return e.code==="NetworkingError"},timeoutError:function(e){return e.code==="TimeoutError"},expiredCredentialsError:function(e){return e.code==="ExpiredTokenException"},clockSkewError:function(e){switch(e.code){case"RequestTimeTooSkewed":case"RequestExpired":case"InvalidSignatureException":case"SignatureDoesNotMatch":case"AuthFailure":case"RequestInTheFuture":return!0;default:return!1}},getSkewCorrectedDate:function(){return new Date(Date.now()+this.config.systemClockOffset)},applyClockOffset:function(e){e&&(this.config.systemClockOffset=e-Date.now())},isClockSkewed:function(e){if(e)return Math.abs(this.getSkewCorrectedDate().getTime()-e)>=3e5},throttledError:function(e){if(e.statusCode===429)return!0;switch(e.code){case"ProvisionedThroughputExceededException":case"Throttling":case"ThrottlingException":case"RequestLimitExceeded":case"RequestThrottled":case"RequestThrottledException":case"TooManyRequestsException":case"TransactionInProgressException":case"EC2ThrottledException":return!0;default:return!1}},endpointFromTemplate:function(e){if(typeof e!="string")return e;var r=e;return r=r.replace(/\{service\}/g,this.api.endpointPrefix),r=r.replace(/\{region\}/g,this.config.region),r=r.replace(/\{scheme\}/g,this.config.sslEnabled?"https":"http"),r},setEndpoint:function(e){this.endpoint=new B.Endpoint(e,this.config)},paginationConfig:function(e,r){var i=this.api.operations[e].paginator;if(!i){if(r){var n=new Error;throw B.util.error(n,"No pagination configuration for "+e)}return null}return i}});B.util.update(B.Service,{defineMethods:function(e){B.util.each(e.prototype.api.operations,function(i){if(!e.prototype[i]){var n=e.prototype.api.operations[i];n.authtype==="none"?e.prototype[i]=function(s,o){return this.makeUnauthenticatedRequest(i,s,o)}:e.prototype[i]=function(s,o){return this.makeRequest(i,s,o)}}})},defineService:function(e,r,i){B.Service._serviceMap[e]=!0,Array.isArray(r)||(i=r,r=[]);var n=_n(B.Service,i||{});if(typeof e=="string"){B.Service.addVersions(n,r);var s=n.serviceIdentifier||e;n.serviceIdentifier=s}else n.prototype.api=e,B.Service.defineMethods(n);if(B.SequentialExecutor.call(this.prototype),!this.prototype.publisher&&B.util.clientSideMonitoring){var o=B.util.clientSideMonitoring.Publisher,a=B.util.clientSideMonitoring.configProvider,u=a();this.prototype.publisher=new o(u),u.enabled&&(B.Service._clientSideMonitoring=!0)}return B.SequentialExecutor.call(n.prototype),B.Service.addDefaultMonitoringListeners(n.prototype),n},addVersions:function(e,r){Array.isArray(r)||(r=[r]),e.services=e.services||{};for(var i=0;i<r.length;i++)e.services[r[i]]===void 0&&(e.services[r[i]]=null);e.apiVersions=Object.keys(e.services).sort()},defineServiceApi:function(e,r,i){var n=_n(e,{serviceIdentifier:e.serviceIdentifier});function s(o){o.isApi?n.prototype.api=o:n.prototype.api=new Md(o,{serviceIdentifier:e.serviceIdentifier})}if(typeof r=="string"){if(i)s(i);else try{s(B.apiLoader(e.serviceIdentifier,r))}catch(o){throw B.util.error(o,{message:"Could not find API configuration "+e.serviceIdentifier+"-"+r})}Object.prototype.hasOwnProperty.call(e.services,r)||(e.apiVersions=e.apiVersions.concat(r).sort()),e.services[r]=n}else s(r);return B.Service.defineMethods(n),n},hasService:function(t){return Object.prototype.hasOwnProperty.call(B.Service._serviceMap,t)},addDefaultMonitoringListeners:function(e){e.addNamedListener("MONITOR_EVENTS_BUBBLE","apiCallAttempt",function(i){var n=Object.getPrototypeOf(e);n._events&&n.emit("apiCallAttempt",[i])}),e.addNamedListener("CALL_EVENTS_BUBBLE","apiCall",function(i){var n=Object.getPrototypeOf(e);n._events&&n.emit("apiCall",[i])})},_serviceMap:{}});B.util.mixin(B.Service,B.SequentialExecutor);Ho.exports=B.Service});var wn=I(()=>{var Ue=j();Ue.Credentials=Ue.util.inherit({constructor:function(){if(Ue.util.hideProperties(this,["secretAccessKey"]),this.expired=!1,this.expireTime=null,this.refreshCallbacks=[],arguments.length===1&&typeof arguments[0]=="object"){var e=arguments[0].credentials||arguments[0];this.accessKeyId=e.accessKeyId,this.secretAccessKey=e.secretAccessKey,this.sessionToken=e.sessionToken}else this.accessKeyId=arguments[0],this.secretAccessKey=arguments[1],this.sessionToken=arguments[2]},expiryWindow:15,needsRefresh:function(){var e=Ue.util.date.getDate().getTime(),r=new Date(e+this.expiryWindow*1e3);return this.expireTime&&r>this.expireTime?!0:this.expired||!this.accessKeyId||!this.secretAccessKey},get:function(e){var r=this;this.needsRefresh()?this.refresh(function(i){i||(r.expired=!1),e&&e(i)}):e&&e()},refresh:function(e){this.expired=!1,e()},coalesceRefresh:function(e,r){var i=this;i.refreshCallbacks.push(e)===1&&i.load(function(s){Ue.util.arrayEach(i.refreshCallbacks,function(o){r?o(s):Ue.util.defer(function(){o(s)})}),i.refreshCallbacks.length=0})},load:function(e){e()}});Ue.Credentials.addPromisesToClass=function(e){this.prototype.getPromise=Ue.util.promisifyMethod("get",e),this.prototype.refreshPromise=Ue.util.promisifyMethod("refresh",e)};Ue.Credentials.deletePromisesFromClass=function(){delete this.prototype.getPromise,delete this.prototype.refreshPromise};Ue.util.addPromises(Ue.Credentials)});var Cn=I(()=>{var ze=j();ze.CredentialProviderChain=ze.util.inherit(ze.Credentials,{constructor:function(e){e?this.providers=e:this.providers=ze.CredentialProviderChain.defaultProviders.slice(0),this.resolveCallbacks=[]},resolve:function(e){var r=this;if(r.providers.length===0)return e(new Error("No providers")),r;if(r.resolveCallbacks.push(e)===1){let o=function(a,u){if(!a&&u||i===n.length){ze.util.arrayEach(r.resolveCallbacks,function(l){l(a,u)}),r.resolveCallbacks.length=0;return}var c=n[i++];typeof c=="function"?u=c.call():u=c,u.get?u.get(function(l){o(l,l?null:u)}):o(null,u)};var s=o,i=0,n=r.providers.slice(0);o()}return r}});ze.CredentialProviderChain.defaultProviders=[];ze.CredentialProviderChain.addPromisesToClass=function(e){this.prototype.resolvePromise=ze.util.promisifyMethod("resolve",e)};ze.CredentialProviderChain.deletePromisesFromClass=function(){delete this.prototype.resolvePromise};ze.util.addPromises(ze.CredentialProviderChain)});var Ko=I(()=>{var ne=j();wn();Cn();var ni;ne.Config=ne.util.inherit({constructor:function(e){e===void 0&&(e={}),e=this.extractCredentials(e),ne.util.each.call(this,this.keys,function(r,i){this.set(r,e[r],i)})},getCredentials:function(e){var r=this;function i(a){e(a,a?null:r.credentials)}function n(a,u){return new ne.util.error(u||new Error,{code:"CredentialsError",message:a,name:"CredentialsError"})}function s(){r.credentials.get(function(a){if(a){var u="Could not load credentials from "+r.credentials.constructor.name;a=n(u,a)}i(a)})}function o(){var a=null;(!r.credentials.accessKeyId||!r.credentials.secretAccessKey)&&(a=n("Missing credentials")),i(a)}r.credentials?typeof r.credentials.get=="function"?s():o():r.credentialProvider?r.credentialProvider.resolve(function(a,u){a&&(a=n("Could not load credentials from any providers",a)),r.credentials=u,i(a)}):i(n("No credentials to load"))},update:function(e,r){r=r||!1,e=this.extractCredentials(e),ne.util.each.call(this,e,function(i,n){(r||Object.prototype.hasOwnProperty.call(this.keys,i)||ne.Service.hasService(i))&&this.set(i,n)})},loadFromPath:function(e){this.clear();var r=JSON.parse(ne.util.readFileSync(e)),i=new ne.FileSystemCredentials(e),n=new ne.CredentialProviderChain;return n.providers.unshift(i),n.resolve(function(s,o){if(s)throw s;r.credentials=o}),this.constructor(r),this},clear:function(){ne.util.each.call(this,this.keys,function(e){delete this[e]}),this.set("credentials",void 0),this.set("credentialProvider",void 0)},set:function(e,r,i){r===void 0?(i===void 0&&(i=this.keys[e]),typeof i=="function"?this[e]=i.call(this):this[e]=i):e==="httpOptions"&&this[e]?this[e]=ne.util.merge(this[e],r):this[e]=r},keys:{credentials:null,credentialProvider:null,region:null,logger:null,apiVersions:{},apiVersion:null,endpoint:void 0,httpOptions:{timeout:12e4},maxRetries:void 0,maxRedirects:10,paramValidation:!0,sslEnabled:!0,s3ForcePathStyle:!1,s3BucketEndpoint:!1,s3DisableBodySigning:!0,s3UsEast1RegionalEndpoint:"legacy",s3UseArnRegion:void 0,computeChecksums:!0,convertResponseTypes:!0,correctClockSkew:!1,customUserAgent:null,dynamoDbCrc32:!0,systemClockOffset:0,signatureVersion:null,signatureCache:!0,retryDelayOptions:{},useAccelerateEndpoint:!1,clientSideMonitoring:!1,endpointDiscoveryEnabled:void 0,endpointCacheSize:1e3,hostPrefixEnabled:!0,stsRegionalEndpoints:"legacy",useFipsEndpoint:!1,useDualstackEndpoint:!1},extractCredentials:function(e){return e.accessKeyId&&e.secretAccessKey&&(e=ne.util.copy(e),e.credentials=new ne.Credentials(e)),e},setPromisesDependency:function(e){ni=e,e===null&&typeof Promise=="function"&&(ni=Promise);var r=[ne.Request,ne.Credentials,ne.CredentialProviderChain];ne.S3&&(r.push(ne.S3),ne.S3.ManagedUpload&&r.push(ne.S3.ManagedUpload)),ne.util.addPromises(r,ni)},getPromisesDependency:function(){return ni}});ne.config=new ne.Config});var oi=I(()=>{var ge=j(),si=ge.util.inherit;ge.Endpoint=si({constructor:function(e,r){if(ge.util.hideProperties(this,["slashes","auth","hash","search","query"]),typeof e=="undefined"||e===null)throw new Error("Invalid endpoint: "+e);if(typeof e!="string")return ge.util.copy(e);if(!e.match(/^http/)){var i=r&&r.sslEnabled!==void 0?r.sslEnabled:ge.config.sslEnabled;e=(i?"https":"http")+"://"+e}ge.util.update(this,ge.util.urlParse(e)),this.port?this.port=parseInt(this.port,10):this.port=this.protocol==="https:"?443:80}});ge.HttpRequest=si({constructor:function(e,r){e=new ge.Endpoint(e),this.method="POST",this.path=e.path||"/",this.headers={},this.body="",this.endpoint=e,this.region=r,this._userAgent="",this.setUserAgent()},setUserAgent:function(){this._userAgent=this.headers[this.getUserAgentHeaderName()]=ge.util.userAgent()},getUserAgentHeaderName:function(){var e=ge.util.isBrowser()?"X-Amz-":"";return e+"User-Agent"},appendToUserAgent:function(e){typeof e=="string"&&e&&(this._userAgent+=" "+e),this.headers[this.getUserAgentHeaderName()]=this._userAgent},getUserAgent:function(){return this._userAgent},pathname:function(){return this.path.split("?",1)[0]},search:function(){var e=this.path.split("?",2)[1];return e?(e=ge.util.queryStringParse(e),ge.util.queryParamsToString(e)):""},updateEndpoint:function(e){var r=new ge.Endpoint(e);this.endpoint=r,this.path=r.path||"/",this.headers.Host&&(this.headers.Host=r.host)}});ge.HttpResponse=si({constructor:function(){this.statusCode=void 0,this.headers={},this.body=void 0,this.streaming=!1,this.stream=null},createUnbufferedStream:function(){return this.streaming=!0,this.stream}});ge.HttpClient=si({});ge.HttpClient.getInstance=function(){return this.singleton===void 0&&(this.singleton=new this),this.singleton}});var ta=I((Ov,ea)=>{var he=j(),qe=le(),Go=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"];function ai(t){var e=t.service,r=e.api||{},i=r.operations,n={};return e.config.region&&(n.region=e.config.region),r.serviceId&&(n.serviceId=r.serviceId),e.config.credentials.accessKeyId&&(n.accessKeyId=e.config.credentials.accessKeyId),n}function $o(t,e,r){!r||e===void 0||e===null||r.type==="structure"&&r.required&&r.required.length>0&&qe.arrayEach(r.required,function(i){var n=r.members[i];if(n.endpointDiscoveryId===!0){var s=n.isLocationName?n.name:i;t[s]=String(e[i])}else $o(t,e[i],n)})}function ui(t,e){var r={};return $o(r,t.params,e),r}function Yo(t){var e=t.service,r=e.api,i=r.operations?r.operations[t.operation]:void 0,n=i?i.input:void 0,s=ui(t,n),o=ai(t);Object.keys(s).length>0&&(o=qe.update(o,s),i&&(o.operation=i.name));var a=he.endpointCache.get(o);if(!(a&&a.length===1&&a[0].Address===""))if(a&&a.length>0)t.httpRequest.updateEndpoint(a[0].Address);else{var u=e.makeRequest(r.endpointOperation,{Operation:i.name,Identifiers:s});Qo(u),u.removeListener("validate",he.EventListeners.Core.VALIDATE_PARAMETERS),u.removeListener("retry",he.EventListeners.Core.RETRY_CHECK),he.endpointCache.put(o,[{Address:"",CachePeriodInMinutes:1}]),u.send(function(c,l){l&&l.Endpoints?he.endpointCache.put(o,l.Endpoints):c&&he.endpointCache.put(o,[{Address:"",CachePeriodInMinutes:1}])})}}var pt={};function Jo(t,e){var r=t.service,i=r.api,n=i.operations?i.operations[t.operation]:void 0,s=n?n.input:void 0,o=ui(t,s),a=ai(t);Object.keys(o).length>0&&(a=qe.update(a,o),n&&(a.operation=n.name));var u=he.EndpointCache.getKeyString(a),c=he.endpointCache.get(u);if(c&&c.length===1&&c[0].Address===""){pt[u]||(pt[u]=[]),pt[u].push({request:t,callback:e});return}else if(c&&c.length>0)t.httpRequest.updateEndpoint(c[0].Address),e();else{var l=r.makeRequest(i.endpointOperation,{Operation:n.name,Identifiers:o});l.removeListener("validate",he.EventListeners.Core.VALIDATE_PARAMETERS),Qo(l),he.endpointCache.put(u,[{Address:"",CachePeriodInMinutes:60}]),l.send(function(h,g){if(h){if(t.response.error=qe.error(h,{retryable:!1}),he.endpointCache.remove(a),pt[u]){var b=pt[u];qe.arrayEach(b,function(v){v.request.response.error=qe.error(h,{retryable:!1}),v.callback()}),delete pt[u]}}else if(g&&(he.endpointCache.put(u,g.Endpoints),t.httpRequest.updateEndpoint(g.Endpoints[0].Address),pt[u])){var b=pt[u];qe.arrayEach(b,function(E){E.request.httpRequest.updateEndpoint(g.Endpoints[0].Address),E.callback()}),delete pt[u]}e()})}}function Qo(t){var e=t.service.api,r=e.apiVersion;r&&!t.httpRequest.headers["x-amz-api-version"]&&(t.httpRequest.headers["x-amz-api-version"]=r)}function Tn(t){var e=t.error,r=t.httpResponse;if(e&&(e.code==="InvalidEndpointException"||r.statusCode===421)){var i=t.request,n=i.service.api.operations||{},s=n[i.operation]?n[i.operation].input:void 0,o=ui(i,s),a=ai(i);Object.keys(o).length>0&&(a=qe.update(a,o),n[i.operation]&&(a.operation=n[i.operation].name)),he.endpointCache.remove(a)}}function Ud(t){if(t._originalConfig&&t._originalConfig.endpoint&&t._originalConfig.endpointDiscoveryEnabled===!0)throw qe.error(new Error,{code:"ConfigurationException",message:"Custom endpoint is supplied; endpointDiscoveryEnabled must not be true."});var e=he.config[t.serviceIdentifier]||{};return Boolean(he.config.endpoint||e.endpoint||t._originalConfig&&t._originalConfig.endpoint)}function Zo(t){return["false","0"].indexOf(t)>=0}function jd(t){var e=t.service||{};if(e.config.endpointDiscoveryEnabled!==void 0)return e.config.endpointDiscoveryEnabled;if(!qe.isBrowser()){for(var r=0;r<Go.length;r++){var i=Go[r];if(Object.prototype.hasOwnProperty.call(process.env,i)){if(process.env[i]===""||process.env[i]===void 0)throw qe.error(new Error,{code:"ConfigurationException",message:"environmental variable "+i+" cannot be set to nothing"});return!Zo(process.env[i])}}var n={};try{n=he.util.iniLoader?he.util.iniLoader.loadFrom({isConfig:!0,filename:process.env[he.util.sharedConfigFileEnv]}):{}}catch(o){}var s=n[process.env.AWS_PROFILE||he.util.defaultProfile]||{};if(Object.prototype.hasOwnProperty.call(s,"endpoint_discovery_enabled")){if(s.endpoint_discovery_enabled===void 0)throw qe.error(new Error,{code:"ConfigurationException",message:"config file entry 'endpoint_discovery_enabled' cannot be set to nothing"});return!Zo(s.endpoint_discovery_enabled)}}}function Vd(t,e){var r=t.service||{};if(Ud(r)||t.isPresigned())return e();var i=r.api.operations||{},n=i[t.operation],s=n?n.endpointDiscoveryRequired:"NULL",o=jd(t),a=r.api.hasRequiredEndpointDiscovery;switch((o||a)&&t.httpRequest.appendToUserAgent("endpoint-discovery"),s){case"OPTIONAL":(o||a)&&(Yo(t),t.addNamedListener("INVALIDATE_CACHED_ENDPOINTS","extractError",Tn)),e();break;case"REQUIRED":if(o===!1){t.response.error=qe.error(new Error,{code:"ConfigurationException",message:"Endpoint Discovery is disabled but "+r.api.className+"."+t.operation+"() requires it. Please check your configurations."}),e();break}t.addNamedListener("INVALIDATE_CACHED_ENDPOINTS","extractError",Tn),Jo(t,e);break;case"NULL":default:e();break}}ea.exports={discoverEndpoint:Vd,requiredDiscoverEndpoint:Jo,optionalDiscoverEndpoint:Yo,marshallCustomIdentifiers:ui,getCacheKey:ai,invalidateCachedEndpoint:Tn}});var ra=I(()=>{var G=j(),wt=En(),Xd=ta().discoverEndpoint;G.EventListeners={Core:{}};function Wd(t){if(!t.service.api.operations)return"";var e=t.service.api.operations[t.operation];return e?e.authtype:""}G.EventListeners={Core:new wt().addNamedListeners(function(t,e){e("VALIDATE_CREDENTIALS","validate",function(n,s){if(!n.service.api.signatureVersion&&!n.service.config.signatureVersion)return s();n.service.config.getCredentials(function(o){o&&(n.response.error=G.util.error(o,{code:"CredentialsError",message:"Missing credentials in config, if using AWS_CONFIG_FILE, set AWS_SDK_LOAD_CONFIG=1"})),s()})}),t("VALIDATE_REGION","validate",function(n){if(!n.service.isGlobalEndpoint){var s=new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/);n.service.config.region?s.test(n.service.config.region)||(n.response.error=G.util.error(new Error,{code:"ConfigError",message:"Invalid region in config"})):n.response.error=G.util.error(new Error,{code:"ConfigError",message:"Missing region in config"})}}),t("BUILD_IDEMPOTENCY_TOKENS","validate",function(n){if(!!n.service.api.operations){var s=n.service.api.operations[n.operation];if(!!s){var o=s.idempotentMembers;if(!!o.length){for(var a=G.util.copy(n.params),u=0,c=o.length;u<c;u++)a[o[u]]||(a[o[u]]=G.util.uuid.v4());n.params=a}}}}),t("VALIDATE_PARAMETERS","validate",function(n){if(!!n.service.api.operations){var s=n.service.api.operations[n.operation].input,o=n.service.config.paramValidation;new G.ParamValidator(o).validate(s,n.params)}}),t("COMPUTE_CHECKSUM","afterBuild",function(n){if(!!n.service.api.operations){var s=n.service.api.operations[n.operation];if(!!s){var o=n.httpRequest.body,a=o&&(G.util.Buffer.isBuffer(o)||typeof o=="string"),u=n.httpRequest.headers;if(s.httpChecksumRequired&&n.service.config.computeChecksums&&a&&!u["Content-MD5"]){var c=G.util.crypto.md5(o,"base64");u["Content-MD5"]=c}}}}),e("COMPUTE_SHA256","afterBuild",function(n,s){if(n.haltHandlersOnError(),!!n.service.api.operations){var o=n.service.api.operations[n.operation],a=o?o.authtype:"";if(!n.service.api.signatureVersion&&!a&&!n.service.config.signatureVersion)return s();if(n.service.getSignerClass(n)===G.Signers.V4){var u=n.httpRequest.body||"";if(a.indexOf("unsigned-body")>=0)return n.httpRequest.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",s();G.util.computeSha256(u,function(c,l){c?s(c):(n.httpRequest.headers["X-Amz-Content-Sha256"]=l,s())})}else s()}}),t("SET_CONTENT_LENGTH","afterBuild",function(n){var s=Wd(n),o=G.util.getRequestPayloadShape(n);if(n.httpRequest.headers["Content-Length"]===void 0)try{var a=G.util.string.byteLength(n.httpRequest.body);n.httpRequest.headers["Content-Length"]=a}catch(u){if(o&&o.isStreaming){if(o.requiresLength)throw u;if(s.indexOf("unsigned-body")>=0){n.httpRequest.headers["Transfer-Encoding"]="chunked";return}else throw u}throw u}}),t("SET_HTTP_HOST","afterBuild",function(n){n.httpRequest.headers.Host=n.httpRequest.endpoint.host}),t("SET_TRACE_ID","afterBuild",function(n){var s="X-Amzn-Trace-Id";if(G.util.isNode()&&!Object.hasOwnProperty.call(n.httpRequest.headers,s)){var o="AWS_LAMBDA_FUNCTION_NAME",a="_X_AMZN_TRACE_ID",u=process.env[o],c=process.env[a];typeof u=="string"&&u.length>0&&typeof c=="string"&&c.length>0&&(n.httpRequest.headers[s]=c)}}),t("RESTART","restart",function(){var n=this.response.error;!n||!n.retryable||(this.httpRequest=new G.HttpRequest(this.service.endpoint,this.service.region),this.response.retryCount<this.service.config.maxRetries?this.response.retryCount++:this.response.error=null)});var r=!0;e("DISCOVER_ENDPOINT","sign",Xd,r),e("SIGN","sign",function(n,s){var o=n.service,a=n.service.api.operations||{},u=a[n.operation],c=u?u.authtype:"";if(!o.api.signatureVersion&&!c&&!o.config.signatureVersion)return s();o.config.getCredentials(function(l,h){if(l)return n.response.error=l,s();try{var g=o.getSkewCorrectedDate(),b=o.getSignerClass(n),v=new b(n.httpRequest,o.getSigningName(n),{signatureCache:o.config.signatureCache,operation:u,signatureVersion:o.api.signatureVersion});v.setServiceClientId(o._clientId),delete n.httpRequest.headers.Authorization,delete n.httpRequest.headers.Date,delete n.httpRequest.headers["X-Amz-Date"],v.addAuthorization(h,g),n.signedAt=g}catch(E){n.response.error=E}s()})}),t("VALIDATE_RESPONSE","validateResponse",function(n){this.service.successfulResponse(n,this)?(n.data={},n.error=null):(n.data=null,n.error=G.util.error(new Error,{code:"UnknownError",message:"An unknown error occurred."}))}),t("ERROR","error",function(n,s){var o=s.request.service.api.errorCodeMapping;if(o&&n&&n.code){var a=o[n.code];a&&(s.error.code=a.code)}},!0),e("SEND","send",function(n,s){n.httpResponse._abortCallback=s,n.error=null,n.data=null;function o(h){n.httpResponse.stream=h;var g=n.request.httpRequest.stream,b=n.request.service,v=b.api,E=n.request.operation,D=v.operations[E]||{};h.on("headers",function(d,_,R){if(n.request.emit("httpHeaders",[d,_,n,R]),!n.httpResponse.streaming)if(G.HttpClient.streamsApiVersion===2){if(D.hasEventOutput&&b.successfulResponse(n)){n.request.emit("httpDone"),s();return}h.on("readable",function(){var C=h.read();C!==null&&n.request.emit("httpData",[C,n])})}else h.on("data",function(C){n.request.emit("httpData",[C,n])})}),h.on("end",function(){if(!g||!g.didCallback){if(G.HttpClient.streamsApiVersion===2&&D.hasEventOutput&&b.successfulResponse(n))return;n.request.emit("httpDone"),s()}})}function a(h){h.on("sendProgress",function(b){n.request.emit("httpUploadProgress",[b,n])}),h.on("receiveProgress",function(b){n.request.emit("httpDownloadProgress",[b,n])})}function u(h){if(h.code!=="RequestAbortedError"){var g=h.code==="TimeoutError"?h.code:"NetworkingError";h=G.util.error(h,{code:g,region:n.request.httpRequest.region,hostname:n.request.httpRequest.endpoint.hostname,retryable:!0})}n.error=h,n.request.emit("httpError",[n.error,n],function(){s()})}function c(){var h=G.HttpClient.getInstance(),g=n.request.service.config.httpOptions||{};try{var b=h.handleRequest(n.request.httpRequest,g,o,u);a(b)}catch(v){u(v)}}var l=(n.request.service.getSkewCorrectedDate()-this.signedAt)/1e3;l>=60*10?this.emit("sign",[this],function(h){h?s(h):c()}):c()}),t("HTTP_HEADERS","httpHeaders",function(n,s,o,a){o.httpResponse.statusCode=n,o.httpResponse.statusMessage=a,o.httpResponse.headers=s,o.httpResponse.body=G.util.buffer.toBuffer(""),o.httpResponse.buffers=[],o.httpResponse.numBytes=0;var u=s.date||s.Date,c=o.request.service;if(u){var l=Date.parse(u);c.config.correctClockSkew&&c.isClockSkewed(l)&&c.applyClockOffset(l)}}),t("HTTP_DATA","httpData",function(n,s){if(n){if(G.util.isNode()){s.httpResponse.numBytes+=n.length;var o=s.httpResponse.headers["content-length"],a={loaded:s.httpResponse.numBytes,total:o};s.request.emit("httpDownloadProgress",[a,s])}s.httpResponse.buffers.push(G.util.buffer.toBuffer(n))}}),t("HTTP_DONE","httpDone",function(n){if(n.httpResponse.buffers&&n.httpResponse.buffers.length>0){var s=G.util.buffer.concat(n.httpResponse.buffers);n.httpResponse.body=s}delete n.httpResponse.numBytes,delete n.httpResponse.buffers}),t("FINALIZE_ERROR","retry",function(n){n.httpResponse.statusCode&&(n.error.statusCode=n.httpResponse.statusCode,n.error.retryable===void 0&&(n.error.retryable=this.service.retryableError(n.error,this)))}),t("INVALIDATE_CREDENTIALS","retry",function(n){if(!!n.error)switch(n.error.code){case"RequestExpired":case"ExpiredTokenException":case"ExpiredToken":n.error.retryable=!0,n.request.service.config.credentials.expired=!0}}),t("EXPIRED_SIGNATURE","retry",function(n){var s=n.error;!s||typeof s.code=="string"&&typeof s.message=="string"&&s.code.match(/Signature/)&&s.message.match(/expired/)&&(n.error.retryable=!0)}),t("CLOCK_SKEWED","retry",function(n){!n.error||this.service.clockSkewError(n.error)&&this.service.config.correctClockSkew&&(n.error.retryable=!0)}),t("REDIRECT","retry",function(n){n.error&&n.error.statusCode>=300&&n.error.statusCode<400&&n.httpResponse.headers.location&&(this.httpRequest.endpoint=new G.Endpoint(n.httpResponse.headers.location),this.httpRequest.headers.Host=this.httpRequest.endpoint.host,n.error.redirect=!0,n.error.retryable=!0)}),t("RETRY_CHECK","retry",function(n){n.error&&(n.error.redirect&&n.redirectCount<n.maxRedirects?n.error.retryDelay=0:n.retryCount<n.maxRetries&&(n.error.retryDelay=this.service.retryDelays(n.retryCount,n.error)||0))}),e("RESET_RETRY_STATE","afterRetry",function(n,s){var o,a=!1;n.error&&(o=n.error.retryDelay||0,n.error.retryable&&n.retryCount<n.maxRetries?(n.retryCount++,a=!0):n.error.redirect&&n.redirectCount<n.maxRedirects&&(n.redirectCount++,a=!0)),a&&o>=0?(n.error=null,setTimeout(s,o)):s()})}),CorePost:new wt().addNamedListeners(function(t){t("EXTRACT_REQUEST_ID","extractData",G.util.extractRequestId),t("EXTRACT_REQUEST_ID","extractError",G.util.extractRequestId),t("ENOTFOUND_ERROR","httpError",function(r){function i(s){return s.errno==="ENOTFOUND"||typeof s.errno=="number"&&typeof G.util.getSystemErrorName=="function"&&["EAI_NONAME","EAI_NODATA"].indexOf(G.util.getSystemErrorName(s.errno)>=0)}if(r.code==="NetworkingError"&&i(r)){var n="Inaccessible host: `"+r.hostname+"' at port `"+r.port+"'. This service may not be available in the `"+r.region+"' region.";this.response.error=G.util.error(new Error(n),{code:"UnknownEndpoint",region:r.region,hostname:r.hostname,retryable:!0,originalError:r})}})}),Logger:new wt().addNamedListeners(function(t){t("LOG_REQUEST","complete",function(r){var i=r.request,n=i.service.config.logger;if(!n)return;function s(u,c){if(!c)return c;if(u.isSensitive)return"***SensitiveInformation***";switch(u.type){case"structure":var l={};return G.util.each(c,function(b,v){Object.prototype.hasOwnProperty.call(u.members,b)?l[b]=s(u.members[b],v):l[b]=v}),l;case"list":var h=[];return G.util.arrayEach(c,function(b,v){h.push(s(u.member,b))}),h;case"map":var g={};return G.util.each(c,function(b,v){g[b]=s(u.value,v)}),g;default:return c}}function o(){var u=r.request.service.getSkewCorrectedDate().getTime(),c=(u-i.startTime.getTime())/1e3,l=!!n.isTTY,h=r.httpResponse.statusCode,g=i.params;if(i.service.api.operations&&i.service.api.operations[i.operation]&&i.service.api.operations[i.operation].input){var b=i.service.api.operations[i.operation].input;g=s(b,i.params)}var v=require("util").inspect(g,!0,null),E="";return l&&(E+="[33m"),E+="[AWS "+i.service.serviceIdentifier+" "+h,E+=" "+c.toString()+"s "+r.retryCount+" retries]",l&&(E+="[0;1m"),E+=" "+G.util.string.lowerFirst(i.operation),E+="("+v+")",l&&(E+="[0m"),E}var a=o();typeof n.log=="function"?n.log(a):typeof n.write=="function"&&n.write(a+`
`)})}),Json:new wt().addNamedListeners(function(t){var e=Jr();t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)}),Rest:new wt().addNamedListeners(function(t){var e=nr();t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)}),RestJson:new wt().addNamedListeners(function(t){var e=cn();t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)}),RestXml:new wt().addNamedListeners(function(t){var e=fn();t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)}),Query:new wt().addNamedListeners(function(t){var e=an();t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)})}});var na=I((Mv,ia)=>{function bn(t,e){this.currentState=e||null,this.states=t||{}}bn.prototype.runTo=function(e,r,i,n){typeof e=="function"&&(n=i,i=r,r=e,e=null);var s=this,o=s.states[s.currentState];o.fn.call(i||s,n,function(a){if(a)if(o.fail)s.currentState=o.fail;else return r?r.call(i,a):null;else if(o.accept)s.currentState=o.accept;else return r?r.call(i):null;if(s.currentState===e)return r?r.call(i,a):null;s.runTo(e,r,i,a)})};bn.prototype.addState=function(e,r,i,n){return typeof r=="function"?(n=r,r=null,i=null):typeof i=="function"&&(n=i,i=null),this.currentState||(this.currentState=e),this.states[e]={accept:r,fail:i,fn:n},this};ia.exports=bn});var li=I(ci=>{(function(t){"use strict";function e(p){return p!==null?Object.prototype.toString.call(p)==="[object Array]":!1}function r(p){return p!==null?Object.prototype.toString.call(p)==="[object Object]":!1}function i(p,y){if(p===y)return!0;var w=Object.prototype.toString.call(p);if(w!==Object.prototype.toString.call(y))return!1;if(e(p)===!0){if(p.length!==y.length)return!1;for(var P=0;P<p.length;P++)if(i(p[P],y[P])===!1)return!1;return!0}if(r(p)===!0){var O={};for(var F in p)if(hasOwnProperty.call(p,F)){if(i(p[F],y[F])===!1)return!1;O[F]=!0}for(var K in y)if(hasOwnProperty.call(y,K)&&O[K]!==!0)return!1;return!0}return!1}function n(p){if(p===""||p===!1||p===null)return!0;if(e(p)&&p.length===0)return!0;if(r(p)){for(var y in p)if(p.hasOwnProperty(y))return!1;return!0}else return!1}function s(p){for(var y=Object.keys(p),w=[],P=0;P<y.length;P++)w.push(p[y[P]]);return w}function o(p,y){var w={};for(var P in p)w[P]=p[P];for(var O in y)w[O]=y[O];return w}var a;typeof String.prototype.trimLeft=="function"?a=function(p){return p.trimLeft()}:a=function(p){return p.match(/^\s*(.*)/)[1]};var u=0,c=1,l=2,h=3,g=4,b=5,v=6,E=7,D=8,S=9,d={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},_="EOF",R="UnquotedIdentifier",N="QuotedIdentifier",C="Rbracket",T="Rparen",L="Comma",X="Colon",M="Rbrace",W="Number",A="Current",ye="Expref",fe="Pipe",Q="Or",Pe="And",it="EQ",nt="GT",xt="LT",$="GTE",jt="LTE",gt="NE",ke="Flatten",Ce="Star",st="Filter",Rt="Dot",Vt="Not",Et="Lbrace",ot="Lbracket",m="Lparen",f="Literal",q={".":Rt,"*":Ce,",":L,":":X,"{":Et,"}":M,"]":C,"(":m,")":T,"@":A},x={"<":!0,">":!0,"=":!0,"!":!0},J={" ":!0,"	":!0,"\n":!0};function ae(p){return p>="a"&&p<="z"||p>="A"&&p<="Z"||p==="_"}function ue(p){return p>="0"&&p<="9"||p==="-"}function we(p){return p>="a"&&p<="z"||p>="A"&&p<="Z"||p>="0"&&p<="9"||p==="_"}function xe(){}xe.prototype={tokenize:function(p){var y=[];this._current=0;for(var w,P,O;this._current<p.length;)if(ae(p[this._current]))w=this._current,P=this._consumeUnquotedIdentifier(p),y.push({type:R,value:P,start:w});else if(q[p[this._current]]!==void 0)y.push({type:q[p[this._current]],value:p[this._current],start:this._current}),this._current++;else if(ue(p[this._current]))O=this._consumeNumber(p),y.push(O);else if(p[this._current]==="[")O=this._consumeLBracket(p),y.push(O);else if(p[this._current]==='"')w=this._current,P=this._consumeQuotedIdentifier(p),y.push({type:N,value:P,start:w});else if(p[this._current]==="'")w=this._current,P=this._consumeRawStringLiteral(p),y.push({type:f,value:P,start:w});else if(p[this._current]==="`"){w=this._current;var F=this._consumeLiteral(p);y.push({type:f,value:F,start:w})}else if(x[p[this._current]]!==void 0)y.push(this._consumeOperator(p));else if(J[p[this._current]]!==void 0)this._current++;else if(p[this._current]==="&")w=this._current,this._current++,p[this._current]==="&"?(this._current++,y.push({type:Pe,value:"&&",start:w})):y.push({type:ye,value:"&",start:w});else if(p[this._current]==="|")w=this._current,this._current++,p[this._current]==="|"?(this._current++,y.push({type:Q,value:"||",start:w})):y.push({type:fe,value:"|",start:w});else{var K=new Error("Unknown character:"+p[this._current]);throw K.name="LexerError",K}return y},_consumeUnquotedIdentifier:function(p){var y=this._current;for(this._current++;this._current<p.length&&we(p[this._current]);)this._current++;return p.slice(y,this._current)},_consumeQuotedIdentifier:function(p){var y=this._current;this._current++;for(var w=p.length;p[this._current]!=='"'&&this._current<w;){var P=this._current;p[P]==="\\"&&(p[P+1]==="\\"||p[P+1]==='"')?P+=2:P++,this._current=P}return this._current++,JSON.parse(p.slice(y,this._current))},_consumeRawStringLiteral:function(p){var y=this._current;this._current++;for(var w=p.length;p[this._current]!=="'"&&this._current<w;){var P=this._current;p[P]==="\\"&&(p[P+1]==="\\"||p[P+1]==="'")?P+=2:P++,this._current=P}this._current++;var O=p.slice(y+1,this._current-1);return O.replace("\\'","'")},_consumeNumber:function(p){var y=this._current;this._current++;for(var w=p.length;ue(p[this._current])&&this._current<w;)this._current++;var P=parseInt(p.slice(y,this._current));return{type:W,value:P,start:y}},_consumeLBracket:function(p){var y=this._current;return this._current++,p[this._current]==="?"?(this._current++,{type:st,value:"[?",start:y}):p[this._current]==="]"?(this._current++,{type:ke,value:"[]",start:y}):{type:ot,value:"[",start:y}},_consumeOperator:function(p){var y=this._current,w=p[y];if(this._current++,w==="!")return p[this._current]==="="?(this._current++,{type:gt,value:"!=",start:y}):{type:Vt,value:"!",start:y};if(w==="<")return p[this._current]==="="?(this._current++,{type:jt,value:"<=",start:y}):{type:xt,value:"<",start:y};if(w===">")return p[this._current]==="="?(this._current++,{type:$,value:">=",start:y}):{type:nt,value:">",start:y};if(w==="="&&p[this._current]==="=")return this._current++,{type:it,value:"==",start:y}},_consumeLiteral:function(p){this._current++;for(var y=this._current,w=p.length,P;p[this._current]!=="`"&&this._current<w;){var O=this._current;p[O]==="\\"&&(p[O+1]==="\\"||p[O+1]==="`")?O+=2:O++,this._current=O}var F=a(p.slice(y,this._current));return F=F.replace("\\`","`"),this._looksLikeJSON(F)?P=JSON.parse(F):P=JSON.parse('"'+F+'"'),this._current++,P},_looksLikeJSON:function(p){var y='[{"',w=["true","false","null"],P="-0123456789";if(p==="")return!1;if(y.indexOf(p[0])>=0)return!0;if(w.indexOf(p)>=0)return!0;if(P.indexOf(p[0])>=0)try{return JSON.parse(p),!0}catch(O){return!1}else return!1}};var H={};H[_]=0,H[R]=0,H[N]=0,H[C]=0,H[T]=0,H[L]=0,H[M]=0,H[W]=0,H[A]=0,H[ye]=0,H[fe]=1,H[Q]=2,H[Pe]=3,H[it]=5,H[nt]=5,H[xt]=5,H[$]=5,H[jt]=5,H[gt]=5,H[ke]=9,H[Ce]=20,H[st]=21,H[Rt]=40,H[Vt]=45,H[Et]=50,H[ot]=55,H[m]=60;function ce(){}ce.prototype={parse:function(p){this._loadTokens(p),this.index=0;var y=this.expression(0);if(this._lookahead(0)!==_){var w=this._lookaheadToken(0),P=new Error("Unexpected token type: "+w.type+", value: "+w.value);throw P.name="ParserError",P}return y},_loadTokens:function(p){var y=new xe,w=y.tokenize(p);w.push({type:_,value:"",start:p.length}),this.tokens=w},expression:function(p){var y=this._lookaheadToken(0);this._advance();for(var w=this.nud(y),P=this._lookahead(0);p<H[P];)this._advance(),w=this.led(P,w),P=this._lookahead(0);return w},_lookahead:function(p){return this.tokens[this.index+p].type},_lookaheadToken:function(p){return this.tokens[this.index+p]},_advance:function(){this.index++},nud:function(p){var y,w,P;switch(p.type){case f:return{type:"Literal",value:p.value};case R:return{type:"Field",name:p.value};case N:var O={type:"Field",name:p.value};if(this._lookahead(0)===m)throw new Error("Quoted identifier not allowed for function names.");return O;case Vt:return w=this.expression(H.Not),{type:"NotExpression",children:[w]};case Ce:return y={type:"Identity"},w=null,this._lookahead(0)===C?w={type:"Identity"}:w=this._parseProjectionRHS(H.Star),{type:"ValueProjection",children:[y,w]};case st:return this.led(p.type,{type:"Identity"});case Et:return this._parseMultiselectHash();case ke:return y={type:ke,children:[{type:"Identity"}]},w=this._parseProjectionRHS(H.Flatten),{type:"Projection",children:[y,w]};case ot:return this._lookahead(0)===W||this._lookahead(0)===X?(w=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},w)):this._lookahead(0)===Ce&&this._lookahead(1)===C?(this._advance(),this._advance(),w=this._parseProjectionRHS(H.Star),{type:"Projection",children:[{type:"Identity"},w]}):this._parseMultiselectList();case A:return{type:A};case ye:return P=this.expression(H.Expref),{type:"ExpressionReference",children:[P]};case m:for(var F=[];this._lookahead(0)!==T;)this._lookahead(0)===A?(P={type:A},this._advance()):P=this.expression(0),F.push(P);return this._match(T),F[0];default:this._errorToken(p)}},led:function(p,y){var w;switch(p){case Rt:var P=H.Dot;return this._lookahead(0)!==Ce?(w=this._parseDotRHS(P),{type:"Subexpression",children:[y,w]}):(this._advance(),w=this._parseProjectionRHS(P),{type:"ValueProjection",children:[y,w]});case fe:return w=this.expression(H.Pipe),{type:fe,children:[y,w]};case Q:return w=this.expression(H.Or),{type:"OrExpression",children:[y,w]};case Pe:return w=this.expression(H.And),{type:"AndExpression",children:[y,w]};case m:for(var O=y.name,F=[],K,Y;this._lookahead(0)!==T;)this._lookahead(0)===A?(K={type:A},this._advance()):K=this.expression(0),this._lookahead(0)===L&&this._match(L),F.push(K);return this._match(T),Y={type:"Function",name:O,children:F},Y;case st:var Te=this.expression(0);return this._match(C),this._lookahead(0)===ke?w={type:"Identity"}:w=this._parseProjectionRHS(H.Filter),{type:"FilterProjection",children:[y,w,Te]};case ke:var at={type:ke,children:[y]},pe=this._parseProjectionRHS(H.Flatten);return{type:"Projection",children:[at,pe]};case it:case gt:case nt:case $:case xt:case jt:return this._parseComparator(y,p);case ot:var z=this._lookaheadToken(0);return z.type===W||z.type===X?(w=this._parseIndexExpression(),this._projectIfSlice(y,w)):(this._match(Ce),this._match(C),w=this._parseProjectionRHS(H.Star),{type:"Projection",children:[y,w]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(p){if(this._lookahead(0)===p)this._advance();else{var y=this._lookaheadToken(0),w=new Error("Expected "+p+", got: "+y.type);throw w.name="ParserError",w}},_errorToken:function(p){var y=new Error("Invalid token ("+p.type+'): "'+p.value+'"');throw y.name="ParserError",y},_parseIndexExpression:function(){if(this._lookahead(0)===X||this._lookahead(1)===X)return this._parseSliceExpression();var p={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(C),p},_projectIfSlice:function(p,y){var w={type:"IndexExpression",children:[p,y]};return y.type==="Slice"?{type:"Projection",children:[w,this._parseProjectionRHS(H.Star)]}:w},_parseSliceExpression:function(){for(var p=[null,null,null],y=0,w=this._lookahead(0);w!==C&&y<3;){if(w===X)y++,this._advance();else if(w===W)p[y]=this._lookaheadToken(0).value,this._advance();else{var P=this._lookahead(0),O=new Error("Syntax error, unexpected token: "+P.value+"("+P.type+")");throw O.name="Parsererror",O}w=this._lookahead(0)}return this._match(C),{type:"Slice",children:p}},_parseComparator:function(p,y){var w=this.expression(H[y]);return{type:"Comparator",name:y,children:[p,w]}},_parseDotRHS:function(p){var y=this._lookahead(0),w=[R,N,Ce];if(w.indexOf(y)>=0)return this.expression(p);if(y===ot)return this._match(ot),this._parseMultiselectList();if(y===Et)return this._match(Et),this._parseMultiselectHash()},_parseProjectionRHS:function(p){var y;if(H[this._lookahead(0)]<10)y={type:"Identity"};else if(this._lookahead(0)===ot)y=this.expression(p);else if(this._lookahead(0)===st)y=this.expression(p);else if(this._lookahead(0)===Rt)this._match(Rt),y=this._parseDotRHS(p);else{var w=this._lookaheadToken(0),P=new Error("Sytanx error, unexpected token: "+w.value+"("+w.type+")");throw P.name="ParserError",P}return y},_parseMultiselectList:function(){for(var p=[];this._lookahead(0)!==C;){var y=this.expression(0);if(p.push(y),this._lookahead(0)===L&&(this._match(L),this._lookahead(0)===C))throw new Error("Unexpected token Rbracket")}return this._match(C),{type:"MultiSelectList",children:p}},_parseMultiselectHash:function(){for(var p=[],y=[R,N],w,P,O,F;;){if(w=this._lookaheadToken(0),y.indexOf(w.type)<0)throw new Error("Expecting an identifier token, got: "+w.type);if(P=w.value,this._advance(),this._match(X),O=this.expression(0),F={type:"KeyValuePair",name:P,value:O},p.push(F),this._lookahead(0)===L)this._match(L);else if(this._lookahead(0)===M){this._match(M);break}}return{type:"MultiSelectHash",children:p}}};function Me(p){this.runtime=p}Me.prototype={search:function(p,y){return this.visit(p,y)},visit:function(p,y){var w,P,O,F,K,Y,Te,at,pe,z;switch(p.type){case"Field":return y!==null&&r(y)?(Y=y[p.name],Y===void 0?null:Y):null;case"Subexpression":for(O=this.visit(p.children[0],y),z=1;z<p.children.length;z++)if(O=this.visit(p.children[1],O),O===null)return null;return O;case"IndexExpression":return Te=this.visit(p.children[0],y),at=this.visit(p.children[1],Te),at;case"Index":if(!e(y))return null;var ut=p.value;return ut<0&&(ut=y.length+ut),O=y[ut],O===void 0&&(O=null),O;case"Slice":if(!e(y))return null;var Ml=p.children.slice(0),ki=this.computeSliceParams(y.length,Ml),Yn=ki[0],Jn=ki[1],Mi=ki[2];if(O=[],Mi>0)for(z=Yn;z<Jn;z+=Mi)O.push(y[z]);else for(z=Yn;z>Jn;z+=Mi)O.push(y[z]);return O;case"Projection":var We=this.visit(p.children[0],y);if(!e(We))return null;for(pe=[],z=0;z<We.length;z++)P=this.visit(p.children[1],We[z]),P!==null&&pe.push(P);return pe;case"ValueProjection":if(We=this.visit(p.children[0],y),!r(We))return null;pe=[];var Qn=s(We);for(z=0;z<Qn.length;z++)P=this.visit(p.children[1],Qn[z]),P!==null&&pe.push(P);return pe;case"FilterProjection":if(We=this.visit(p.children[0],y),!e(We))return null;var Fi=[],Zn=[];for(z=0;z<We.length;z++)w=this.visit(p.children[2],We[z]),n(w)||Fi.push(We[z]);for(var Bi=0;Bi<Fi.length;Bi++)P=this.visit(p.children[1],Fi[Bi]),P!==null&&Zn.push(P);return Zn;case"Comparator":switch(F=this.visit(p.children[0],y),K=this.visit(p.children[1],y),p.name){case it:O=i(F,K);break;case gt:O=!i(F,K);break;case nt:O=F>K;break;case $:O=F>=K;break;case xt:O=F<K;break;case jt:O=F<=K;break;default:throw new Error("Unknown comparator: "+p.name)}return O;case ke:var Ui=this.visit(p.children[0],y);if(!e(Ui))return null;var Fr=[];for(z=0;z<Ui.length;z++)P=Ui[z],e(P)?Fr.push.apply(Fr,P):Fr.push(P);return Fr;case"Identity":return y;case"MultiSelectList":if(y===null)return null;for(pe=[],z=0;z<p.children.length;z++)pe.push(this.visit(p.children[z],y));return pe;case"MultiSelectHash":if(y===null)return null;pe={};var ji;for(z=0;z<p.children.length;z++)ji=p.children[z],pe[ji.name]=this.visit(ji.value,y);return pe;case"OrExpression":return w=this.visit(p.children[0],y),n(w)&&(w=this.visit(p.children[1],y)),w;case"AndExpression":return F=this.visit(p.children[0],y),n(F)===!0?F:this.visit(p.children[1],y);case"NotExpression":return F=this.visit(p.children[0],y),n(F);case"Literal":return p.value;case fe:return Te=this.visit(p.children[0],y),this.visit(p.children[1],Te);case A:return y;case"Function":var es=[];for(z=0;z<p.children.length;z++)es.push(this.visit(p.children[z],y));return this.runtime.callFunction(p.name,es);case"ExpressionReference":var ts=p.children[0];return ts.jmespathType=ye,ts;default:throw new Error("Unknown node type: "+p.type)}},computeSliceParams:function(p,y){var w=y[0],P=y[1],O=y[2],F=[null,null,null];if(O===null)O=1;else if(O===0){var K=new Error("Invalid slice, step cannot be 0");throw K.name="RuntimeError",K}var Y=O<0;return w===null?w=Y?p-1:0:w=this.capSliceRange(p,w,O),P===null?P=Y?-1:p:P=this.capSliceRange(p,P,O),F[0]=w,F[1]=P,F[2]=O,F},capSliceRange:function(p,y,w){return y<0?(y+=p,y<0&&(y=w<0?-1:0)):y>=p&&(y=w<0?p-1:p),y}};function Lr(p){this._interpreter=p,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[u]}]},avg:{_func:this._functionAvg,_signature:[{types:[D]}]},ceil:{_func:this._functionCeil,_signature:[{types:[u]}]},contains:{_func:this._functionContains,_signature:[{types:[l,h]},{types:[c]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[l]},{types:[l]}]},floor:{_func:this._functionFloor,_signature:[{types:[u]}]},length:{_func:this._functionLength,_signature:[{types:[l,h,g]}]},map:{_func:this._functionMap,_signature:[{types:[v]},{types:[h]}]},max:{_func:this._functionMax,_signature:[{types:[D,S]}]},merge:{_func:this._functionMerge,_signature:[{types:[g],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[h]},{types:[v]}]},sum:{_func:this._functionSum,_signature:[{types:[D]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[l]},{types:[l]}]},min:{_func:this._functionMin,_signature:[{types:[D,S]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[h]},{types:[v]}]},type:{_func:this._functionType,_signature:[{types:[c]}]},keys:{_func:this._functionKeys,_signature:[{types:[g]}]},values:{_func:this._functionValues,_signature:[{types:[g]}]},sort:{_func:this._functionSort,_signature:[{types:[S,D]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[h]},{types:[v]}]},join:{_func:this._functionJoin,_signature:[{types:[l]},{types:[S]}]},reverse:{_func:this._functionReverse,_signature:[{types:[l,h]}]},to_array:{_func:this._functionToArray,_signature:[{types:[c]}]},to_string:{_func:this._functionToString,_signature:[{types:[c]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[c]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[c],variadic:!0}]}}}Lr.prototype={callFunction:function(p,y){var w=this.functionTable[p];if(w===void 0)throw new Error("Unknown function: "+p+"()");return this._validateArgs(p,y,w._signature),w._func.call(this,y)},_validateArgs:function(p,y,w){var P;if(w[w.length-1].variadic){if(y.length<w.length)throw P=w.length===1?" argument":" arguments",new Error("ArgumentError: "+p+"() takes at least"+w.length+P+" but received "+y.length)}else if(y.length!==w.length)throw P=w.length===1?" argument":" arguments",new Error("ArgumentError: "+p+"() takes "+w.length+P+" but received "+y.length);for(var O,F,K,Y=0;Y<w.length;Y++){K=!1,O=w[Y].types,F=this._getTypeName(y[Y]);for(var Te=0;Te<O.length;Te++)if(this._typeMatches(F,O[Te],y[Y])){K=!0;break}if(!K){var at=O.map(function(pe){return d[pe]}).join(",");throw new Error("TypeError: "+p+"() expected argument "+(Y+1)+" to be type "+at+" but received type "+d[F]+" instead.")}}},_typeMatches:function(p,y,w){if(y===c)return!0;if(y===S||y===D||y===h){if(y===h)return p===h;if(p===h){var P;y===D?P=u:y===S&&(P=l);for(var O=0;O<w.length;O++)if(!this._typeMatches(this._getTypeName(w[O]),P,w[O]))return!1;return!0}}else return p===y},_getTypeName:function(p){switch(Object.prototype.toString.call(p)){case"[object String]":return l;case"[object Number]":return u;case"[object Array]":return h;case"[object Boolean]":return b;case"[object Null]":return E;case"[object Object]":return p.jmespathType===ye?v:g}},_functionStartsWith:function(p){return p[0].lastIndexOf(p[1])===0},_functionEndsWith:function(p){var y=p[0],w=p[1];return y.indexOf(w,y.length-w.length)!==-1},_functionReverse:function(p){var y=this._getTypeName(p[0]);if(y===l){for(var w=p[0],P="",O=w.length-1;O>=0;O--)P+=w[O];return P}else{var F=p[0].slice(0);return F.reverse(),F}},_functionAbs:function(p){return Math.abs(p[0])},_functionCeil:function(p){return Math.ceil(p[0])},_functionAvg:function(p){for(var y=0,w=p[0],P=0;P<w.length;P++)y+=w[P];return y/w.length},_functionContains:function(p){return p[0].indexOf(p[1])>=0},_functionFloor:function(p){return Math.floor(p[0])},_functionLength:function(p){return r(p[0])?Object.keys(p[0]).length:p[0].length},_functionMap:function(p){for(var y=[],w=this._interpreter,P=p[0],O=p[1],F=0;F<O.length;F++)y.push(w.visit(P,O[F]));return y},_functionMerge:function(p){for(var y={},w=0;w<p.length;w++){var P=p[w];for(var O in P)y[O]=P[O]}return y},_functionMax:function(p){if(p[0].length>0){var y=this._getTypeName(p[0][0]);if(y===u)return Math.max.apply(Math,p[0]);for(var w=p[0],P=w[0],O=1;O<w.length;O++)P.localeCompare(w[O])<0&&(P=w[O]);return P}else return null},_functionMin:function(p){if(p[0].length>0){var y=this._getTypeName(p[0][0]);if(y===u)return Math.min.apply(Math,p[0]);for(var w=p[0],P=w[0],O=1;O<w.length;O++)w[O].localeCompare(P)<0&&(P=w[O]);return P}else return null},_functionSum:function(p){for(var y=0,w=p[0],P=0;P<w.length;P++)y+=w[P];return y},_functionType:function(p){switch(this._getTypeName(p[0])){case u:return"number";case l:return"string";case h:return"array";case g:return"object";case b:return"boolean";case v:return"expref";case E:return"null"}},_functionKeys:function(p){return Object.keys(p[0])},_functionValues:function(p){for(var y=p[0],w=Object.keys(y),P=[],O=0;O<w.length;O++)P.push(y[w[O]]);return P},_functionJoin:function(p){var y=p[0],w=p[1];return w.join(y)},_functionToArray:function(p){return this._getTypeName(p[0])===h?p[0]:[p[0]]},_functionToString:function(p){return this._getTypeName(p[0])===l?p[0]:JSON.stringify(p[0])},_functionToNumber:function(p){var y=this._getTypeName(p[0]),w;return y===u?p[0]:y===l&&(w=+p[0],!isNaN(w))?w:null},_functionNotNull:function(p){for(var y=0;y<p.length;y++)if(this._getTypeName(p[y])!==E)return p[y];return null},_functionSort:function(p){var y=p[0].slice(0);return y.sort(),y},_functionSortBy:function(p){var y=p[0].slice(0);if(y.length===0)return y;var w=this._interpreter,P=p[1],O=this._getTypeName(w.visit(P,y[0]));if([u,l].indexOf(O)<0)throw new Error("TypeError");for(var F=this,K=[],Y=0;Y<y.length;Y++)K.push([Y,y[Y]]);K.sort(function(at,pe){var z=w.visit(P,at[1]),ut=w.visit(P,pe[1]);if(F._getTypeName(z)!==O)throw new Error("TypeError: expected "+O+", received "+F._getTypeName(z));if(F._getTypeName(ut)!==O)throw new Error("TypeError: expected "+O+", received "+F._getTypeName(ut));return z>ut?1:z<ut?-1:at[0]-pe[0]});for(var Te=0;Te<K.length;Te++)y[Te]=K[Te][1];return y},_functionMaxBy:function(p){for(var y=p[1],w=p[0],P=this.createKeyFunction(y,[u,l]),O=-1/0,F,K,Y=0;Y<w.length;Y++)K=P(w[Y]),K>O&&(O=K,F=w[Y]);return F},_functionMinBy:function(p){for(var y=p[1],w=p[0],P=this.createKeyFunction(y,[u,l]),O=1/0,F,K,Y=0;Y<w.length;Y++)K=P(w[Y]),K<O&&(O=K,F=w[Y]);return F},createKeyFunction:function(p,y){var w=this,P=this._interpreter,O=function(F){var K=P.visit(p,F);if(y.indexOf(w._getTypeName(K))<0){var Y="TypeError: expected one of "+y+", received "+w._getTypeName(K);throw new Error(Y)}return K};return O}};function kr(p){var y=new ce,w=y.parse(p);return w}function Zt(p){var y=new xe;return y.tokenize(p)}function Mr(p,y){var w=new ce,P=new Lr,O=new Me(P);P._interpreter=O;var F=w.parse(y);return O.search(F,p)}t.tokenize=Zt,t.compile=kr,t.search=Mr,t.strictDeepEqual=i})(typeof ci=="undefined"?ci.jmespath={}:ci)});var oa=I(()=>{var ee=j(),sa=na(),Hd=ee.util.inherit,fi=ee.util.domain,zd=li(),Kd={success:1,error:1,complete:1};function Gd(t){return Object.prototype.hasOwnProperty.call(Kd,t._asm.currentState)}var An=new sa;An.setupStates=function(){var t=function(e,r){var i=this;i._haltHandlersOnError=!1,i.emit(i._asm.currentState,function(n){if(n)if(Gd(i))if(fi&&i.domain instanceof fi.Domain)n.domainEmitter=i,n.domain=i.domain,n.domainThrown=!1,i.domain.emit("error",n);else throw n;else i.response.error=n,r(n);else r(i.response.error)})};this.addState("validate","build","error",t),this.addState("build","afterBuild","restart",t),this.addState("afterBuild","sign","restart",t),this.addState("sign","send","retry",t),this.addState("retry","afterRetry","afterRetry",t),this.addState("afterRetry","sign","error",t),this.addState("send","validateResponse","retry",t),this.addState("validateResponse","extractData","extractError",t),this.addState("extractError","extractData","retry",t),this.addState("extractData","success","retry",t),this.addState("restart","build","error",t),this.addState("success","complete","complete",t),this.addState("error","complete","complete",t),this.addState("complete",null,null,t)};An.setupStates();ee.Request=Hd({constructor:function(e,r,i){var n=e.endpoint,s=e.config.region,o=e.config.customUserAgent;e.signingRegion?s=e.signingRegion:e.isGlobalEndpoint&&(s="us-east-1"),this.domain=fi&&fi.active,this.service=e,this.operation=r,this.params=i||{},this.httpRequest=new ee.HttpRequest(n,s),this.httpRequest.appendToUserAgent(o),this.startTime=e.getSkewCorrectedDate(),this.response=new ee.Response(this),this._asm=new sa(An.states,"validate"),this._haltHandlersOnError=!1,ee.SequentialExecutor.call(this),this.emit=this.emitEvent},send:function(e){return e&&(this.httpRequest.appendToUserAgent("callback"),this.on("complete",function(r){e.call(r,r.error,r.data)})),this.runTo(),this.response},build:function(e){return this.runTo("send",e)},runTo:function(e,r){return this._asm.runTo(e,r,this),this},abort:function(){return this.removeAllListeners("validateResponse"),this.removeAllListeners("extractError"),this.on("validateResponse",function(r){r.error=ee.util.error(new Error("Request aborted by user"),{code:"RequestAbortedError",retryable:!1})}),this.httpRequest.stream&&!this.httpRequest.stream.didCallback&&(this.httpRequest.stream.abort(),this.httpRequest._abortCallback?this.httpRequest._abortCallback():this.removeAllListeners("send")),this},eachPage:function(e){e=ee.util.fn.makeAsync(e,3);function r(i){e.call(i,i.error,i.data,function(n){n!==!1&&(i.hasNextPage()?i.nextPage().on("complete",r).send():e.call(i,null,null,ee.util.fn.noop))})}this.on("complete",r).send()},eachItem:function(e){var r=this;function i(n,s){if(n)return e(n,null);if(s===null)return e(null,null);var o=r.service.paginationConfig(r.operation),a=o.resultKey;Array.isArray(a)&&(a=a[0]);var u=zd.search(s,a),c=!0;return ee.util.arrayEach(u,function(l){if(c=e(null,l),c===!1)return ee.util.abort}),c}this.eachPage(i)},isPageable:function(){return!!this.service.paginationConfig(this.operation)},createReadStream:function(){var e=ee.util.stream,r=this,i=null;return ee.HttpClient.streamsApiVersion===2?(i=new e.PassThrough,process.nextTick(function(){r.send()})):(i=new e.Stream,i.readable=!0,i.sent=!1,i.on("newListener",function(n){!i.sent&&n==="data"&&(i.sent=!0,process.nextTick(function(){r.send()}))})),this.on("error",function(n){i.emit("error",n)}),this.on("httpHeaders",function(s,o,a){if(s<300){r.removeListener("httpData",ee.EventListeners.Core.HTTP_DATA),r.removeListener("httpError",ee.EventListeners.Core.HTTP_ERROR),r.on("httpError",function(E){a.error=E,a.error.retryable=!1});var u=!1,c;if(r.httpRequest.method!=="HEAD"&&(c=parseInt(o["content-length"],10)),c!==void 0&&!isNaN(c)&&c>=0){u=!0;var l=0}var h=function(){u&&l!==c?i.emit("error",ee.util.error(new Error("Stream content length mismatch. Received "+l+" of "+c+" bytes."),{code:"StreamContentLengthMismatch"})):ee.HttpClient.streamsApiVersion===2?i.end():i.emit("end")},g=a.httpResponse.createUnbufferedStream();if(ee.HttpClient.streamsApiVersion===2)if(u){var b=new e.PassThrough;b._write=function(v){return v&&v.length&&(l+=v.length),e.PassThrough.prototype._write.apply(this,arguments)},b.on("end",h),i.on("error",function(v){u=!1,g.unpipe(b),b.emit("end"),b.end()}),g.pipe(b).pipe(i,{end:!1})}else g.pipe(i);else u&&g.on("data",function(v){v&&v.length&&(l+=v.length)}),g.on("data",function(v){i.emit("data",v)}),g.on("end",h);g.on("error",function(v){u=!1,i.emit("error",v)})}}),i},emitEvent:function(e,r,i){typeof r=="function"&&(i=r,r=null),i||(i=function(){}),r||(r=this.eventParameters(e,this.response));var n=ee.SequentialExecutor.prototype.emit;n.call(this,e,r,function(s){s&&(this.response.error=s),i.call(this,s)})},eventParameters:function(e){switch(e){case"restart":case"validate":case"sign":case"build":case"afterValidate":case"afterBuild":return[this];case"error":return[this.response.error,this.response];default:return[this.response]}},presign:function(e,r){return!r&&typeof e=="function"&&(r=e,e=null),new ee.Signers.Presign().sign(this.toGet(),e,r)},isPresigned:function(){return Object.prototype.hasOwnProperty.call(this.httpRequest.headers,"presigned-expires")},toUnauthenticated:function(){return this._unAuthenticated=!0,this.removeListener("validate",ee.EventListeners.Core.VALIDATE_CREDENTIALS),this.removeListener("sign",ee.EventListeners.Core.SIGN),this},toGet:function(){return(this.service.api.protocol==="query"||this.service.api.protocol==="ec2")&&(this.removeListener("build",this.buildAsGet),this.addListener("build",this.buildAsGet)),this},buildAsGet:function(e){e.httpRequest.method="GET",e.httpRequest.path=e.service.endpoint.path+"?"+e.httpRequest.body,e.httpRequest.body="",delete e.httpRequest.headers["Content-Length"],delete e.httpRequest.headers["Content-Type"]},haltHandlersOnError:function(){this._haltHandlersOnError=!0}});ee.Request.addPromisesToClass=function(e){this.prototype.promise=function(){var i=this;return this.httpRequest.appendToUserAgent("promise"),new e(function(n,s){i.on("complete",function(o){o.error?s(o.error):n(Object.defineProperty(o.data||{},"$response",{value:o}))}),i.runTo()})}};ee.Request.deletePromisesFromClass=function(){delete this.prototype.promise};ee.util.addPromises(ee.Request);ee.util.mixin(ee.Request,ee.SequentialExecutor)});var ua=I(()=>{var fr=j(),$d=fr.util.inherit,aa=li();fr.Response=$d({constructor:function(e){this.request=e,this.data=null,this.error=null,this.retryCount=0,this.redirectCount=0,this.httpResponse=new fr.HttpResponse,e&&(this.maxRetries=e.service.numRetries(),this.maxRedirects=e.service.config.maxRedirects)},nextPage:function(e){var r,i=this.request.service,n=this.request.operation;try{r=i.paginationConfig(n,!0)}catch(u){this.error=u}if(!this.hasNextPage()){if(e)e(this.error,null);else if(this.error)throw this.error;return null}var s=fr.util.copy(this.request.params);if(this.nextPageTokens){var o=r.inputToken;typeof o=="string"&&(o=[o]);for(var a=0;a<o.length;a++)s[o[a]]=this.nextPageTokens[a];return i.makeRequest(this.request.operation,s,e)}else return e?e(null,null):null},hasNextPage:function(){if(this.cacheNextPageTokens(),this.nextPageTokens)return!0;if(this.nextPageTokens!==void 0)return!1},cacheNextPageTokens:function(){if(Object.prototype.hasOwnProperty.call(this,"nextPageTokens"))return this.nextPageTokens;this.nextPageTokens=void 0;var e=this.request.service.paginationConfig(this.request.operation);if(!e)return this.nextPageTokens;if(this.nextPageTokens=null,e.moreResults&&!aa.search(this.data,e.moreResults))return this.nextPageTokens;var r=e.outputToken;return typeof r=="string"&&(r=[r]),fr.util.arrayEach.call(this,r,function(i){var n=aa.search(this.data,i);n&&(this.nextPageTokens=this.nextPageTokens||[],this.nextPageTokens.push(n))}),this.nextPageTokens}})});var la=I(()=>{var qt=j(),Yd=qt.util.inherit,$t=li();function ca(t){var e=t.request._waiter,r=e.config.acceptors,i=!1,n="retry";r.forEach(function(s){if(!i){var o=e.matchers[s.matcher];o&&o(t,s.expected,s.argument)&&(i=!0,n=s.state)}}),!i&&t.error&&(n="failure"),n==="success"?e.setSuccess(t):e.setError(t,n==="retry")}qt.ResourceWaiter=Yd({constructor:function(e,r){this.service=e,this.state=r,this.loadWaiterConfig(this.state)},service:null,state:null,config:null,matchers:{path:function(t,e,r){try{var i=$t.search(t.data,r)}catch(n){return!1}return $t.strictDeepEqual(i,e)},pathAll:function(t,e,r){try{var i=$t.search(t.data,r)}catch(o){return!1}Array.isArray(i)||(i=[i]);var n=i.length;if(!n)return!1;for(var s=0;s<n;s++)if(!$t.strictDeepEqual(i[s],e))return!1;return!0},pathAny:function(t,e,r){try{var i=$t.search(t.data,r)}catch(o){return!1}Array.isArray(i)||(i=[i]);for(var n=i.length,s=0;s<n;s++)if($t.strictDeepEqual(i[s],e))return!0;return!1},status:function(t,e){var r=t.httpResponse.statusCode;return typeof r=="number"&&r===e},error:function(t,e){return typeof e=="string"&&t.error?e===t.error.code:e===!!t.error}},listeners:new qt.SequentialExecutor().addNamedListeners(function(t){t("RETRY_CHECK","retry",function(e){var r=e.request._waiter;e.error&&e.error.code==="ResourceNotReady"&&(e.error.retryDelay=(r.config.delay||0)*1e3)}),t("CHECK_OUTPUT","extractData",ca),t("CHECK_ERROR","extractError",ca)}),wait:function(e,r){typeof e=="function"&&(r=e,e=void 0),e&&e.$waiter&&(e=qt.util.copy(e),typeof e.$waiter.delay=="number"&&(this.config.delay=e.$waiter.delay),typeof e.$waiter.maxAttempts=="number"&&(this.config.maxAttempts=e.$waiter.maxAttempts),delete e.$waiter);var i=this.service.makeRequest(this.config.operation,e);return i._waiter=this,i.response.maxRetries=this.config.maxAttempts,i.addListeners(this.listeners),r&&i.send(r),i},setSuccess:function(e){e.error=null,e.data=e.data||{},e.request.removeAllListeners("extractData")},setError:function(e,r){e.data=null,e.error=qt.util.error(e.error||new Error,{code:"ResourceNotReady",message:"Resource is not in the state "+this.state,retryable:r})},loadWaiterConfig:function(e){if(!this.service.api.waiters[e])throw new qt.util.error(new Error,{code:"StateNotFoundError",message:"State "+e+" not found."});this.config=qt.util.copy(this.service.api.waiters[e])}})});var pa=I((Hv,fa)=>{var dt=j(),Jd=dt.util.inherit;dt.Signers.V2=Jd(dt.Signers.RequestSigner,{addAuthorization:function(e,r){r||(r=dt.util.date.getDate());var i=this.request;i.params.Timestamp=dt.util.date.iso8601(r),i.params.SignatureVersion="2",i.params.SignatureMethod="HmacSHA256",i.params.AWSAccessKeyId=e.accessKeyId,e.sessionToken&&(i.params.SecurityToken=e.sessionToken),delete i.params.Signature,i.params.Signature=this.signature(e),i.body=dt.util.queryParamsToString(i.params),i.headers["Content-Length"]=i.body.length},signature:function(e){return dt.util.crypto.hmac(e.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var e=[];return e.push(this.request.method),e.push(this.request.endpoint.host.toLowerCase()),e.push(this.request.pathname()),e.push(dt.util.queryParamsToString(this.request.params)),e.join(`
`)}});fa.exports=dt.Signers.V2});var xn=I((zv,da)=>{var Ze=j(),Qd=Ze.util.inherit;Ze.Signers.V3=Qd(Ze.Signers.RequestSigner,{addAuthorization:function(e,r){var i=Ze.util.date.rfc822(r);this.request.headers["X-Amz-Date"]=i,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken),this.request.headers["X-Amzn-Authorization"]=this.authorization(e,i)},authorization:function(e){return"AWS3 AWSAccessKeyId="+e.accessKeyId+",Algorithm=HmacSHA256,SignedHeaders="+this.signedHeaders()+",Signature="+this.signature(e)},signedHeaders:function(){var e=[];return Ze.util.arrayEach(this.headersToSign(),function(i){e.push(i.toLowerCase())}),e.sort().join(";")},canonicalHeaders:function(){var e=this.request.headers,r=[];return Ze.util.arrayEach(this.headersToSign(),function(n){r.push(n.toLowerCase().trim()+":"+String(e[n]).trim())}),r.sort().join(`
`)+`
`},headersToSign:function(){var e=[];return Ze.util.each(this.request.headers,function(i){(i==="Host"||i==="Content-Encoding"||i.match(/^X-Amz/i))&&e.push(i)}),e},signature:function(e){return Ze.util.crypto.hmac(e.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var e=[];return e.push(this.request.method),e.push("/"),e.push(""),e.push(this.canonicalHeaders()),e.push(this.request.body),Ze.util.crypto.sha256(e.join(`
`))}});da.exports=Ze.Signers.V3});var ma=I((Kv,ha)=>{var pi=j(),Zd=pi.util.inherit;xn();pi.Signers.V3Https=Zd(pi.Signers.V3,{authorization:function(e){return"AWS3-HTTPS AWSAccessKeyId="+e.accessKeyId+",Algorithm=HmacSHA256,Signature="+this.signature(e)},stringToSign:function(){return this.request.headers["X-Amz-Date"]}});ha.exports=pi.Signers.V3Https});var ga=I((Gv,va)=>{var pr=j(),dr={},di=[],eh=50,ya="aws4_request";va.exports={createScope:function(e,r,i){return[e.substr(0,8),r,i,ya].join("/")},getSigningKey:function(e,r,i,n,s){var o=pr.util.crypto.hmac(e.secretAccessKey,e.accessKeyId,"base64"),a=[o,r,i,n].join("_");if(s=s!==!1,s&&a in dr)return dr[a];var u=pr.util.crypto.hmac("AWS4"+e.secretAccessKey,r,"buffer"),c=pr.util.crypto.hmac(u,i,"buffer"),l=pr.util.crypto.hmac(c,n,"buffer"),h=pr.util.crypto.hmac(l,ya,"buffer");return s&&(dr[a]=h,di.push(a),di.length>eh&&delete dr[di.shift()]),h},emptyCache:function(){dr={},di=[]}}});var _a=I(($v,Sa)=>{var Ae=j(),Ea=ga(),th=Ae.util.inherit,hi="presigned-expires";Ae.Signers.V4=th(Ae.Signers.RequestSigner,{constructor:function(e,r,i){Ae.Signers.RequestSigner.call(this,e),this.serviceName=r,i=i||{},this.signatureCache=typeof i.signatureCache=="boolean"?i.signatureCache:!0,this.operation=i.operation,this.signatureVersion=i.signatureVersion},algorithm:"AWS4-HMAC-SHA256",addAuthorization:function(e,r){var i=Ae.util.date.iso8601(r).replace(/[:\-]|\.\d{3}/g,"");this.isPresigned()?this.updateForPresigned(e,i):this.addHeaders(e,i),this.request.headers.Authorization=this.authorization(e,i)},addHeaders:function(e,r){this.request.headers["X-Amz-Date"]=r,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken)},updateForPresigned:function(e,r){var i=this.credentialString(r),n={"X-Amz-Date":r,"X-Amz-Algorithm":this.algorithm,"X-Amz-Credential":e.accessKeyId+"/"+i,"X-Amz-Expires":this.request.headers[hi],"X-Amz-SignedHeaders":this.signedHeaders()};e.sessionToken&&(n["X-Amz-Security-Token"]=e.sessionToken),this.request.headers["Content-Type"]&&(n["Content-Type"]=this.request.headers["Content-Type"]),this.request.headers["Content-MD5"]&&(n["Content-MD5"]=this.request.headers["Content-MD5"]),this.request.headers["Cache-Control"]&&(n["Cache-Control"]=this.request.headers["Cache-Control"]),Ae.util.each.call(this,this.request.headers,function(o,a){if(o!==hi&&this.isSignableHeader(o)){var u=o.toLowerCase();u.indexOf("x-amz-meta-")===0?n[u]=a:u.indexOf("x-amz-")===0&&(n[o]=a)}});var s=this.request.path.indexOf("?")>=0?"&":"?";this.request.path+=s+Ae.util.queryParamsToString(n)},authorization:function(e,r){var i=[],n=this.credentialString(r);return i.push(this.algorithm+" Credential="+e.accessKeyId+"/"+n),i.push("SignedHeaders="+this.signedHeaders()),i.push("Signature="+this.signature(e,r)),i.join(", ")},signature:function(e,r){var i=Ea.getSigningKey(e,r.substr(0,8),this.request.region,this.serviceName,this.signatureCache);return Ae.util.crypto.hmac(i,this.stringToSign(r),"hex")},stringToSign:function(e){var r=[];return r.push("AWS4-HMAC-SHA256"),r.push(e),r.push(this.credentialString(e)),r.push(this.hexEncodedHash(this.canonicalString())),r.join(`
`)},canonicalString:function(){var e=[],r=this.request.pathname();return this.serviceName!=="s3"&&this.signatureVersion!=="s3v4"&&(r=Ae.util.uriEscapePath(r)),e.push(this.request.method),e.push(r),e.push(this.request.search()),e.push(this.canonicalHeaders()+`
`),e.push(this.signedHeaders()),e.push(this.hexEncodedBodyHash()),e.join(`
`)},canonicalHeaders:function(){var e=[];Ae.util.each.call(this,this.request.headers,function(i,n){e.push([i,n])}),e.sort(function(i,n){return i[0].toLowerCase()<n[0].toLowerCase()?-1:1});var r=[];return Ae.util.arrayEach.call(this,e,function(i){var n=i[0].toLowerCase();if(this.isSignableHeader(n)){var s=i[1];if(typeof s=="undefined"||s===null||typeof s.toString!="function")throw Ae.util.error(new Error("Header "+n+" contains invalid value"),{code:"InvalidHeader"});r.push(n+":"+this.canonicalHeaderValues(s.toString()))}}),r.join(`
`)},canonicalHeaderValues:function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")},signedHeaders:function(){var e=[];return Ae.util.each.call(this,this.request.headers,function(r){r=r.toLowerCase(),this.isSignableHeader(r)&&e.push(r)}),e.sort().join(";")},credentialString:function(e){return Ea.createScope(e.substr(0,8),this.request.region,this.serviceName)},hexEncodedHash:function(e){return Ae.util.crypto.sha256(e,"hex")},hexEncodedBodyHash:function(){var e=this.request;return this.isPresigned()&&["s3","s3-object-lambda"].indexOf(this.serviceName)>-1&&!e.body?"UNSIGNED-PAYLOAD":e.headers["X-Amz-Content-Sha256"]?e.headers["X-Amz-Content-Sha256"]:this.hexEncodedHash(this.request.body||"")},unsignableHeaders:["authorization","content-type","content-length","user-agent",hi,"expect","x-amzn-trace-id"],isSignableHeader:function(e){return e.toLowerCase().indexOf("x-amz-")===0?!0:this.unsignableHeaders.indexOf(e)<0},isPresigned:function(){return!!this.request.headers[hi]}});Sa.exports=Ae.Signers.V4});var Ca=I((Yv,wa)=>{var et=j(),rh=et.util.inherit;et.Signers.S3=rh(et.Signers.RequestSigner,{subResources:{acl:1,accelerate:1,analytics:1,cors:1,lifecycle:1,delete:1,inventory:1,location:1,logging:1,metrics:1,notification:1,partNumber:1,policy:1,requestPayment:1,replication:1,restore:1,tagging:1,torrent:1,uploadId:1,uploads:1,versionId:1,versioning:1,versions:1,website:1},responseHeaders:{"response-content-type":1,"response-content-language":1,"response-expires":1,"response-cache-control":1,"response-content-disposition":1,"response-content-encoding":1},addAuthorization:function(e,r){this.request.headers["presigned-expires"]||(this.request.headers["X-Amz-Date"]=et.util.date.rfc822(r)),e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken);var i=this.sign(e.secretAccessKey,this.stringToSign()),n="AWS "+e.accessKeyId+":"+i;this.request.headers.Authorization=n},stringToSign:function(){var e=this.request,r=[];r.push(e.method),r.push(e.headers["Content-MD5"]||""),r.push(e.headers["Content-Type"]||""),r.push(e.headers["presigned-expires"]||"");var i=this.canonicalizedAmzHeaders();return i&&r.push(i),r.push(this.canonicalizedResource()),r.join(`
`)},canonicalizedAmzHeaders:function(){var e=[];et.util.each(this.request.headers,function(i){i.match(/^x-amz-/i)&&e.push(i)}),e.sort(function(i,n){return i.toLowerCase()<n.toLowerCase()?-1:1});var r=[];return et.util.arrayEach.call(this,e,function(i){r.push(i.toLowerCase()+":"+String(this.request.headers[i]))}),r.join(`
`)},canonicalizedResource:function(){var e=this.request,r=e.path.split("?"),i=r[0],n=r[1],s="";if(e.virtualHostedBucket&&(s+="/"+e.virtualHostedBucket),s+=i,n){var o=[];et.util.arrayEach.call(this,n.split("&"),function(a){var u=a.split("=")[0],c=a.split("=")[1];if(this.subResources[u]||this.responseHeaders[u]){var l={name:u};c!==void 0&&(this.subResources[u]?l.value=c:l.value=decodeURIComponent(c)),o.push(l)}}),o.sort(function(a,u){return a.name<u.name?-1:1}),o.length&&(n=[],et.util.arrayEach(o,function(a){a.value===void 0?n.push(a.name):n.push(a.name+"="+a.value)}),s+="?"+n.join("&"))}return s},sign:function(e,r){return et.util.crypto.hmac(e,r,"base64","sha1")}});wa.exports=et.Signers.S3});var ba=I((Jv,Ta)=>{var Ee=j(),ih=Ee.util.inherit,Yt="presigned-expires";function nh(t){var e=t.httpRequest.headers[Yt],r=t.service.getSignerClass(t);if(delete t.httpRequest.headers["User-Agent"],delete t.httpRequest.headers["X-Amz-User-Agent"],r===Ee.Signers.V4){if(e>604800){var i="Presigning does not support expiry time greater than a week with SigV4 signing.";throw Ee.util.error(new Error,{code:"InvalidExpiryTime",message:i,retryable:!1})}t.httpRequest.headers[Yt]=e}else if(r===Ee.Signers.S3){var n=t.service?t.service.getSkewCorrectedDate():Ee.util.date.getDate();t.httpRequest.headers[Yt]=parseInt(Ee.util.date.unixTimestamp(n)+e,10).toString()}else throw Ee.util.error(new Error,{message:"Presigning only supports S3 or SigV4 signing.",code:"UnsupportedSigner",retryable:!1})}function sh(t){var e=t.httpRequest.endpoint,r=Ee.util.urlParse(t.httpRequest.path),i={};r.search&&(i=Ee.util.queryStringParse(r.search.substr(1)));var n=t.httpRequest.headers.Authorization.split(" ");if(n[0]==="AWS")n=n[1].split(":"),i.Signature=n.pop(),i.AWSAccessKeyId=n.join(":"),Ee.util.each(t.httpRequest.headers,function(a,u){a===Yt&&(a="Expires"),a.indexOf("x-amz-meta-")===0&&(delete i[a],a=a.toLowerCase()),i[a]=u}),delete t.httpRequest.headers[Yt],delete i.Authorization,delete i.Host;else if(n[0]==="AWS4-HMAC-SHA256"){n.shift();var s=n.join(" "),o=s.match(/Signature=(.*?)(?:,|\s|\r?\n|$)/)[1];i["X-Amz-Signature"]=o,delete i.Expires}e.pathname=r.pathname,e.search=Ee.util.queryParamsToString(i)}Ee.Signers.Presign=ih({sign:function(e,r,i){if(e.httpRequest.headers[Yt]=r||3600,e.on("build",nh),e.on("sign",sh),e.removeListener("afterBuild",Ee.EventListeners.Core.SET_CONTENT_LENGTH),e.removeListener("afterBuild",Ee.EventListeners.Core.COMPUTE_SHA256),e.emit("beforePresign",[e]),i)e.build(function(){this.response.error?i(this.response.error):i(null,Ee.util.urlFormat(e.httpRequest.endpoint))});else{if(e.build(),e.response.error)throw e.response.error;return Ee.util.urlFormat(e.httpRequest.endpoint)}}});Ta.exports=Ee.Signers.Presign});var Aa=I(()=>{var ht=j(),oh=ht.util.inherit;ht.Signers.RequestSigner=oh({constructor:function(e){this.request=e},setServiceClientId:function(e){this.serviceClientId=e},getServiceClientId:function(){return this.serviceClientId}});ht.Signers.RequestSigner.getVersion=function(e){switch(e){case"v2":return ht.Signers.V2;case"v3":return ht.Signers.V3;case"s3v4":return ht.Signers.V4;case"v4":return ht.Signers.V4;case"s3":return ht.Signers.S3;case"v3https":return ht.Signers.V3Https}throw new Error("Unknown signing version "+e)};pa();xn();ma();_a();Ca();ba()});var xa=I(()=>{var Ke=j();Ke.ParamValidator=Ke.util.inherit({constructor:function(e){(e===!0||e===void 0)&&(e={min:!0}),this.validation=e},validate:function(e,r,i){if(this.errors=[],this.validateMember(e,r||{},i||"params"),this.errors.length>1){var n=this.errors.join(`
* `);throw n="There were "+this.errors.length+` validation errors:
* `+n,Ke.util.error(new Error(n),{code:"MultipleValidationErrors",errors:this.errors})}else{if(this.errors.length===1)throw this.errors[0];return!0}},fail:function(e,r){this.errors.push(Ke.util.error(new Error(r),{code:e}))},validateStructure:function(e,r,i){if(e.isDocument)return!0;this.validateType(r,i,["object"],"structure");for(var n,s=0;e.required&&s<e.required.length;s++){n=e.required[s];var o=r[n];o==null&&this.fail("MissingRequiredParameter","Missing required key '"+n+"' in "+i)}for(n in r)if(!!Object.prototype.hasOwnProperty.call(r,n)){var a=r[n],u=e.members[n];if(u!==void 0){var c=[i,n].join(".");this.validateMember(u,a,c)}else a!=null&&this.fail("UnexpectedParameter","Unexpected key '"+n+"' found in "+i)}return!0},validateMember:function(e,r,i){switch(e.type){case"structure":return this.validateStructure(e,r,i);case"list":return this.validateList(e,r,i);case"map":return this.validateMap(e,r,i);default:return this.validateScalar(e,r,i)}},validateList:function(e,r,i){if(this.validateType(r,i,[Array])){this.validateRange(e,r.length,i,"list member count");for(var n=0;n<r.length;n++)this.validateMember(e.member,r[n],i+"["+n+"]")}},validateMap:function(e,r,i){if(this.validateType(r,i,["object"],"map")){var n=0;for(var s in r)!Object.prototype.hasOwnProperty.call(r,s)||(this.validateMember(e.key,s,i+"[key='"+s+"']"),this.validateMember(e.value,r[s],i+"['"+s+"']"),n++);this.validateRange(e,n,i,"map member count")}},validateScalar:function(e,r,i){switch(e.type){case null:case void 0:case"string":return this.validateString(e,r,i);case"base64":case"binary":return this.validatePayload(r,i);case"integer":case"float":return this.validateNumber(e,r,i);case"boolean":return this.validateType(r,i,["boolean"]);case"timestamp":return this.validateType(r,i,[Date,/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z$/,"number"],"Date object, ISO-8601 string, or a UNIX timestamp");default:return this.fail("UnkownType","Unhandled type "+e.type+" for "+i)}},validateString:function(e,r,i){var n=["string"];e.isJsonValue&&(n=n.concat(["number","object","boolean"])),r!==null&&this.validateType(r,i,n)&&(this.validateEnum(e,r,i),this.validateRange(e,r.length,i,"string length"),this.validatePattern(e,r,i),this.validateUri(e,r,i))},validateUri:function(e,r,i){e.location==="uri"&&r.length===0&&this.fail("UriParameterError",'Expected uri parameter to have length >= 1, but found "'+r+'" for '+i)},validatePattern:function(e,r,i){this.validation.pattern&&e.pattern!==void 0&&(new RegExp(e.pattern).test(r)||this.fail("PatternMatchError",'Provided value "'+r+'" does not match regex pattern /'+e.pattern+"/ for "+i))},validateRange:function(e,r,i,n){this.validation.min&&e.min!==void 0&&r<e.min&&this.fail("MinRangeError","Expected "+n+" >= "+e.min+", but found "+r+" for "+i),this.validation.max&&e.max!==void 0&&r>e.max&&this.fail("MaxRangeError","Expected "+n+" <= "+e.max+", but found "+r+" for "+i)},validateEnum:function(e,r,i){this.validation.enum&&e.enum!==void 0&&e.enum.indexOf(r)===-1&&this.fail("EnumError","Found string value of "+r+", but expected "+e.enum.join("|")+" for "+i)},validateType:function(e,r,i,n){if(e==null)return!1;for(var s=!1,o=0;o<i.length;o++){if(typeof i[o]=="string"){if(typeof e===i[o])return!0}else if(i[o]instanceof RegExp){if((e||"").toString().match(i[o]))return!0}else{if(e instanceof i[o]||Ke.util.isType(e,i[o]))return!0;!n&&!s&&(i=i.slice()),i[o]=Ke.util.typeName(i[o])}s=!0}var a=n;a||(a=i.join(", ").replace(/,([^,]+)$/,", or$1"));var u=a.match(/^[aeiou]/i)?"n":"";return this.fail("InvalidParameterType","Expected "+r+" to be a"+u+" "+a),!1},validateNumber:function(e,r,i){if(r!=null){if(typeof r=="string"){var n=parseFloat(r);n.toString()===r&&(r=n)}this.validateType(r,i,["number"])&&this.validateRange(e,r,i,"numeric value")}},validatePayload:function(e,r){if(e!=null&&typeof e!="string"&&!(e&&typeof e.byteLength=="number")){if(Ke.util.isNode()){var i=Ke.util.stream.Stream;if(Ke.util.Buffer.isBuffer(e)||e instanceof i)return}else if(typeof Blob!==void 0&&e instanceof Blob)return;var n=["Buffer","Stream","File","Blob","ArrayBuffer","DataView"];if(e){for(var s=0;s<n.length;s++)if(Ke.util.isType(e,n[s])||Ke.util.typeName(e.constructor)===n[s])return}this.fail("InvalidParameterType","Expected "+r+" to be a string, Buffer, Stream, Blob, or typed array object")}}})});var j=I((rg,Ra)=>{var mt={util:le()},ah={};ah.toString();Ra.exports=mt;mt.util.update(mt,{VERSION:"2.1188.0",Signers:{},Protocol:{Json:Jr(),Query:an(),Rest:nr(),RestJson:cn(),RestXml:fn()},XML:{Builder:Ro(),Parser:null},JSON:{Builder:Kr(),Parser:$r()},Model:{Api:yn(),Operation:pn(),Shape:rr(),Paginator:dn(),ResourceWaiter:hn()},apiLoader:Mo(),EndpointCache:Bo().EndpointCache});En();zo();Ko();oi();ra();oa();ua();la();Aa();xa();mt.events=new mt.SequentialExecutor;mt.util.memoizedProperty(mt,"endpointCache",function(){return new mt.EndpointCache(mt.config.endpointCacheSize)},!0)});var In=I(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.default=lh;var uh=ch(require("crypto"));function ch(t){return t&&t.__esModule?t:{default:t}}function lh(){return uh.default.randomBytes(16)}});var yi=I(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.default=void 0;var Ia=[];for(hr=0;hr<256;++hr)Ia[hr]=(hr+256).toString(16).substr(1);var hr;function fh(t,e){var r=e||0,i=Ia;return[i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]]].join("")}var ph=fh;mi.default=ph});var Pa=I(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.default=void 0;var dh=Da(In()),hh=Da(yi());function Da(t){return t&&t.__esModule?t:{default:t}}var Na,Dn,Nn=0,Pn=0;function mh(t,e,r){var i=e&&r||0,n=e||[];t=t||{};var s=t.node||Na,o=t.clockseq!==void 0?t.clockseq:Dn;if(s==null||o==null){var a=t.random||(t.rng||dh.default)();s==null&&(s=Na=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=Dn=(a[6]<<8|a[7])&16383)}var u=t.msecs!==void 0?t.msecs:new Date().getTime(),c=t.nsecs!==void 0?t.nsecs:Pn+1,l=u-Nn+(c-Pn)/1e4;if(l<0&&t.clockseq===void 0&&(o=o+1&16383),(l<0||u>Nn)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Nn=u,Pn=c,Dn=o,u+=122192928e5;var h=((u&268435455)*1e4+c)%4294967296;n[i++]=h>>>24&255,n[i++]=h>>>16&255,n[i++]=h>>>8&255,n[i++]=h&255;var g=u/4294967296*1e4&268435455;n[i++]=g>>>8&255,n[i++]=g&255,n[i++]=g>>>24&15|16,n[i++]=g>>>16&255,n[i++]=o>>>8|128,n[i++]=o&255;for(var b=0;b<6;++b)n[i+b]=s[b];return e||(0,hh.default)(n)}var yh=mh;vi.default=yh});var qn=I(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.default=_h;Ot.URL=Ot.DNS=void 0;var vh=gh(yi());function gh(t){return t&&t.__esModule?t:{default:t}}function Eh(t){var e=[];return t.replace(/[a-fA-F0-9]{2}/g,function(r){e.push(parseInt(r,16))}),e}function Sh(t){t=unescape(encodeURIComponent(t));for(var e=new Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}var qa="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Ot.DNS=qa;var Oa="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Ot.URL=Oa;function _h(t,e,r){var i=function(n,s,o,a){var u=o&&a||0;if(typeof n=="string"&&(n=Sh(n)),typeof s=="string"&&(s=Eh(s)),!Array.isArray(n))throw TypeError("value must be an array of bytes");if(!Array.isArray(s)||s.length!==16)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var c=r(s.concat(n));if(c[6]=c[6]&15|e,c[8]=c[8]&63|128,o)for(var l=0;l<16;++l)o[u+l]=c[l];return o||(0,vh.default)(c)};try{i.name=t}catch(n){}return i.DNS=qa,i.URL=Oa,i}});var La=I(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.default=void 0;var wh=Ch(require("crypto"));function Ch(t){return t&&t.__esModule?t:{default:t}}function Th(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),wh.default.createHash("md5").update(t).digest()}var bh=Th;gi.default=bh});var Ma=I(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.default=void 0;var Ah=ka(qn()),xh=ka(La());function ka(t){return t&&t.__esModule?t:{default:t}}var Rh=(0,Ah.default)("v3",48,xh.default),Ih=Rh;Ei.default=Ih});var Ba=I(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.default=void 0;var Dh=Fa(In()),Nh=Fa(yi());function Fa(t){return t&&t.__esModule?t:{default:t}}function Ph(t,e,r){var i=e&&r||0;typeof t=="string"&&(e=t==="binary"?new Array(16):null,t=null),t=t||{};var n=t.random||(t.rng||Dh.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e)for(var s=0;s<16;++s)e[i+s]=n[s];return e||(0,Nh.default)(n)}var qh=Ph;Si.default=qh});var Ua=I(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.default=void 0;var Oh=Lh(require("crypto"));function Lh(t){return t&&t.__esModule?t:{default:t}}function kh(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),Oh.default.createHash("sha1").update(t).digest()}var Mh=kh;_i.default=Mh});var Va=I(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.default=void 0;var Fh=ja(qn()),Bh=ja(Ua());function ja(t){return t&&t.__esModule?t:{default:t}}var Uh=(0,Fh.default)("v5",80,Bh.default),jh=Uh;wi.default=jh});var Xa=I(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Object.defineProperty(Jt,"v1",{enumerable:!0,get:function(){return Vh.default}});Object.defineProperty(Jt,"v3",{enumerable:!0,get:function(){return Xh.default}});Object.defineProperty(Jt,"v4",{enumerable:!0,get:function(){return Wh.default}});Object.defineProperty(Jt,"v5",{enumerable:!0,get:function(){return Hh.default}});var Vh=Ci(Pa()),Xh=Ci(Ma()),Wh=Ci(Ba()),Hh=Ci(Va());function Ci(t){return t&&t.__esModule?t:{default:t}}});var le=I((dg,Wa)=>{var je,k={environment:"nodejs",engine:function(){if(k.isBrowser()&&typeof navigator!="undefined")return navigator.userAgent;var e=process.platform+"/"+process.version;return process.env.AWS_EXECUTION_ENV&&(e+=" exec-env/"+process.env.AWS_EXECUTION_ENV),e},userAgent:function(){var e=k.environment,r="aws-sdk-"+e+"/"+j().VERSION;return e==="nodejs"&&(r+=" "+k.engine()),r},uriEscape:function(e){var r=encodeURIComponent(e);return r=r.replace(/[^A-Za-z0-9_.~\-%]+/g,escape),r=r.replace(/[*]/g,function(i){return"%"+i.charCodeAt(0).toString(16).toUpperCase()}),r},uriEscapePath:function(e){var r=[];return k.arrayEach(e.split("/"),function(i){r.push(k.uriEscape(i))}),r.join("/")},urlParse:function(e){return k.url.parse(e)},urlFormat:function(e){return k.url.format(e)},queryStringParse:function(e){return k.querystring.parse(e)},queryParamsToString:function(e){var r=[],i=k.uriEscape,n=Object.keys(e).sort();return k.arrayEach(n,function(s){var o=e[s],a=i(s),u=a+"=";if(Array.isArray(o)){var c=[];k.arrayEach(o,function(l){c.push(i(l))}),u=a+"="+c.sort().join("&"+a+"=")}else o!=null&&(u=a+"="+i(o));r.push(u)}),r.join("&")},readFileSync:function(e){return k.isBrowser()?null:require("fs").readFileSync(e,"utf-8")},base64:{encode:function(e){if(typeof e=="number")throw k.error(new Error("Cannot base64 encode number "+e));if(e===null||typeof e=="undefined")return e;var r=k.buffer.toBuffer(e);return r.toString("base64")},decode:function(e){if(typeof e=="number")throw k.error(new Error("Cannot base64 decode number "+e));return e===null||typeof e=="undefined"?e:k.buffer.toBuffer(e,"base64")}},buffer:{toBuffer:function(t,e){return typeof k.Buffer.from=="function"&&k.Buffer.from!==Uint8Array.from?k.Buffer.from(t,e):new k.Buffer(t,e)},alloc:function(t,e,r){if(typeof t!="number")throw new Error("size passed to alloc must be a number.");if(typeof k.Buffer.alloc=="function")return k.Buffer.alloc(t,e,r);var i=new k.Buffer(t);return e!==void 0&&typeof i.fill=="function"&&i.fill(e,void 0,void 0,r),i},toStream:function(e){k.Buffer.isBuffer(e)||(e=k.buffer.toBuffer(e));var r=new k.stream.Readable,i=0;return r._read=function(n){if(i>=e.length)return r.push(null);var s=i+n;s>e.length&&(s=e.length),r.push(e.slice(i,s)),i=s},r},concat:function(t){var e=0,r=0,i=null,n;for(n=0;n<t.length;n++)e+=t[n].length;for(i=k.buffer.alloc(e),n=0;n<t.length;n++)t[n].copy(i,r),r+=t[n].length;return i}},string:{byteLength:function(e){if(e==null)return 0;if(typeof e=="string"&&(e=k.buffer.toBuffer(e)),typeof e.byteLength=="number")return e.byteLength;if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size;if(typeof e.path=="string")return require("fs").lstatSync(e.path).size;throw k.error(new Error("Cannot determine length of "+e),{object:e})},upperFirst:function(e){return e[0].toUpperCase()+e.substr(1)},lowerFirst:function(e){return e[0].toLowerCase()+e.substr(1)}},ini:{parse:function(e){var r,i={};return k.arrayEach(e.split(/\r?\n/),function(n){n=n.split(/(^|\s)[;#]/)[0].trim();var s=n[0]==="["&&n[n.length-1]==="]";if(s){if(r=n.substring(1,n.length-1),r==="__proto__"||r.split(/\s/)[1]==="__proto__")throw k.error(new Error("Cannot load profile name '"+r+"' from shared ini file."))}else if(r){var o=n.indexOf("="),a=0,u=n.length-1,c=o!==-1&&o!==a&&o!==u;if(c){var l=n.substring(0,o).trim(),h=n.substring(o+1).trim();i[r]=i[r]||{},i[r][l]=h}}}),i}},fn:{noop:function(){},callback:function(t){if(t)throw t},makeAsync:function(e,r){return r&&r<=e.length?e:function(){var i=Array.prototype.slice.call(arguments,0),n=i.pop(),s=e.apply(null,i);n(s)}}},date:{getDate:function(){return je||(je=j()),je.config.systemClockOffset?new Date(new Date().getTime()+je.config.systemClockOffset):new Date},iso8601:function(e){return e===void 0&&(e=k.date.getDate()),e.toISOString().replace(/\.\d{3}Z$/,"Z")},rfc822:function(e){return e===void 0&&(e=k.date.getDate()),e.toUTCString()},unixTimestamp:function(e){return e===void 0&&(e=k.date.getDate()),e.getTime()/1e3},from:function(e){return typeof e=="number"?new Date(e*1e3):new Date(e)},format:function(e,r){return r||(r="iso8601"),k.date[r](k.date.from(e))},parseTimestamp:function(e){if(typeof e=="number")return new Date(e*1e3);if(e.match(/^\d+$/))return new Date(e*1e3);if(e.match(/^\d{4}/))return new Date(e);if(e.match(/^\w{3},/))return new Date(e);throw k.error(new Error("unhandled timestamp format: "+e),{code:"TimestampParserError"})}},crypto:{crc32Table:[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],crc32:function(e){var r=k.crypto.crc32Table,i=0^-1;typeof e=="string"&&(e=k.buffer.toBuffer(e));for(var n=0;n<e.length;n++){var s=e.readUInt8(n);i=i>>>8^r[(i^s)&255]}return(i^-1)>>>0},hmac:function(e,r,i,n){return i||(i="binary"),i==="buffer"&&(i=void 0),n||(n="sha256"),typeof r=="string"&&(r=k.buffer.toBuffer(r)),k.crypto.lib.createHmac(n,e).update(r).digest(i)},md5:function(e,r,i){return k.crypto.hash("md5",e,r,i)},sha256:function(e,r,i){return k.crypto.hash("sha256",e,r,i)},hash:function(t,e,r,i){var n=k.crypto.createHash(t);r||(r="binary"),r==="buffer"&&(r=void 0),typeof e=="string"&&(e=k.buffer.toBuffer(e));var s=k.arraySliceFn(e),o=k.Buffer.isBuffer(e);if(k.isBrowser()&&typeof ArrayBuffer!="undefined"&&e&&e.buffer instanceof ArrayBuffer&&(o=!0),i&&typeof e=="object"&&typeof e.on=="function"&&!o)e.on("data",function(h){n.update(h)}),e.on("error",function(h){i(h)}),e.on("end",function(){i(null,n.digest(r))});else if(i&&s&&!o&&typeof FileReader!="undefined"){var a=0,u=1024*512,c=new FileReader;c.onerror=function(){i(new Error("Failed to read data."))},c.onload=function(){var h=new k.Buffer(new Uint8Array(c.result));n.update(h),a+=h.length,c._continueReading()},c._continueReading=function(){if(a>=e.size){i(null,n.digest(r));return}var h=a+u;h>e.size&&(h=e.size),c.readAsArrayBuffer(s.call(e,a,h))},c._continueReading()}else{k.isBrowser()&&typeof e=="object"&&!o&&(e=new k.Buffer(new Uint8Array(e)));var l=n.update(e).digest(r);return i&&i(null,l),l}},toHex:function(e){for(var r=[],i=0;i<e.length;i++)r.push(("0"+e.charCodeAt(i).toString(16)).substr(-2,2));return r.join("")},createHash:function(e){return k.crypto.lib.createHash(e)}},abort:{},each:function(e,r){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=r.call(this,i,e[i]);if(n===k.abort)break}},arrayEach:function(e,r){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=r.call(this,e[i],parseInt(i,10));if(n===k.abort)break}},update:function(e,r){return k.each(r,function(n,s){e[n]=s}),e},merge:function(e,r){return k.update(k.copy(e),r)},copy:function(e){if(e==null)return e;var r={};for(var i in e)r[i]=e[i];return r},isEmpty:function(e){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))return!1;return!0},arraySliceFn:function(e){var r=e.slice||e.webkitSlice||e.mozSlice;return typeof r=="function"?r:null},isType:function(e,r){return typeof r=="function"&&(r=k.typeName(r)),Object.prototype.toString.call(e)==="[object "+r+"]"},typeName:function(e){if(Object.prototype.hasOwnProperty.call(e,"name"))return e.name;var r=e.toString(),i=r.match(/^\s*function (.+)\(/);return i?i[1]:r},error:function(e,r){var i=null;return typeof e.message=="string"&&e.message!==""&&(typeof r=="string"||r&&r.message)&&(i=k.copy(e),i.message=e.message),e.message=e.message||null,typeof r=="string"?e.message=r:typeof r=="object"&&r!==null&&(k.update(e,r),r.message&&(e.message=r.message),(r.code||r.name)&&(e.code=r.code||r.name),r.stack&&(e.stack=r.stack)),typeof Object.defineProperty=="function"&&(Object.defineProperty(e,"name",{writable:!0,enumerable:!1}),Object.defineProperty(e,"message",{enumerable:!0})),e.name=String(r&&r.name||e.name||e.code||"Error"),e.time=new Date,i&&(e.originalError=i),e},inherit:function(e,r){var i=null;if(r===void 0)r=e,e=Object,i={};else{var n=function(){};n.prototype=e.prototype,i=new n}return r.constructor===Object&&(r.constructor=function(){if(e!==Object)return e.apply(this,arguments)}),r.constructor.prototype=i,k.update(r.constructor.prototype,r),r.constructor.__super__=e,r.constructor},mixin:function(){for(var e=arguments[0],r=1;r<arguments.length;r++)for(var i in arguments[r].prototype){var n=arguments[r].prototype[i];i!=="constructor"&&(e.prototype[i]=n)}return e},hideProperties:function(e,r){typeof Object.defineProperty=="function"&&k.arrayEach(r,function(i){Object.defineProperty(e,i,{enumerable:!1,writable:!0,configurable:!0})})},property:function(e,r,i,n,s){var o={configurable:!0,enumerable:n!==void 0?n:!0};typeof i=="function"&&!s?o.get=i:(o.value=i,o.writable=!0),Object.defineProperty(e,r,o)},memoizedProperty:function(e,r,i,n){var s=null;k.property(e,r,function(){return s===null&&(s=i()),s},n)},hoistPayloadMember:function(e){var r=e.request,i=r.operation,n=r.service.api.operations[i],s=n.output;if(s.payload&&!n.hasEventOutput){var o=s.members[s.payload],a=e.data[s.payload];o.type==="structure"&&k.each(a,function(u,c){k.property(e.data,u,c,!1)})}},computeSha256:function(e,r){if(k.isNode()){var i=k.stream.Stream,n=require("fs");if(typeof i=="function"&&e instanceof i)if(typeof e.path=="string"){var s={};typeof e.start=="number"&&(s.start=e.start),typeof e.end=="number"&&(s.end=e.end),e=n.createReadStream(e.path,s)}else return r(new Error("Non-file stream objects are not supported with SigV4"))}k.crypto.sha256(e,"hex",function(o,a){o?r(o):r(null,a)})},isClockSkewed:function(e){if(e)return k.property(je.config,"isClockSkewed",Math.abs(new Date().getTime()-e)>=3e5,!1),je.config.isClockSkewed},applyClockOffset:function(e){e&&(je.config.systemClockOffset=e-new Date().getTime())},extractRequestId:function(e){var r=e.httpResponse.headers["x-amz-request-id"]||e.httpResponse.headers["x-amzn-requestid"];!r&&e.data&&e.data.ResponseMetadata&&(r=e.data.ResponseMetadata.RequestId),r&&(e.requestId=r),e.error&&(e.error.requestId=r)},addPromises:function(e,r){var i=!1;r===void 0&&je&&je.config&&(r=je.config.getPromisesDependency()),r===void 0&&typeof Promise!="undefined"&&(r=Promise),typeof r!="function"&&(i=!0),Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var s=e[n];i?s.deletePromisesFromClass&&s.deletePromisesFromClass():s.addPromisesToClass&&s.addPromisesToClass(r)}},promisifyMethod:function(e,r){return function(){var n=this,s=Array.prototype.slice.call(arguments);return new r(function(o,a){s.push(function(u,c){u?a(u):o(c)}),n[e].apply(n,s)})}},isDualstackAvailable:function(e){if(!e)return!1;var r=mn();return typeof e!="string"&&(e=e.serviceIdentifier),typeof e!="string"||!r.hasOwnProperty(e)?!1:!!r[e].dualstackAvailable},calculateRetryDelay:function(e,r,i){r||(r={});var n=r.customBackoff||null;if(typeof n=="function")return n(e,i);var s=typeof r.base=="number"?r.base:100,o=Math.random()*(Math.pow(2,e)*s);return o},handleRequestWithRetries:function(e,r,i){r||(r={});var n=je.HttpClient.getInstance(),s=r.httpOptions||{},o=0,a=function(c){var l=r.maxRetries||0;if(c&&c.code==="TimeoutError"&&(c.retryable=!0),c&&c.retryable&&o<l){var h=k.calculateRetryDelay(o,r.retryDelayOptions,c);if(h>=0){o++,setTimeout(u,h+(c.retryAfter||0));return}}i(c)},u=function(){var c="";n.handleRequest(e,s,function(l){l.on("data",function(h){c+=h.toString()}),l.on("end",function(){var h=l.statusCode;if(h<300)i(null,c);else{var g=parseInt(l.headers["retry-after"],10)*1e3||0,b=k.error(new Error,{statusCode:h,retryable:h>=500||h===429});g&&b.retryable&&(b.retryAfter=g),a(b)}})},a)};je.util.defer(u)},uuid:{v4:function(){return Xa().v4()}},convertPayloadToString:function(e){var r=e.request,i=r.operation,n=r.service.api.operations[i].output||{};n.payload&&e.data[n.payload]&&(e.data[n.payload]=e.data[n.payload].toString())},defer:function(e){typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick(e):typeof setImmediate=="function"?setImmediate(e):setTimeout(e,0)},getRequestPayloadShape:function(e){var r=e.service.api.operations;if(!!r){var i=(r||{})[e.operation];if(!(!i||!i.input||!i.input.payload))return i.input.members[i.input.payload]}},getProfilesFromSharedConfig:function(e,r){var i={},n={};if(process.env[k.configOptInEnv])var n=e.loadFrom({isConfig:!0,filename:process.env[k.sharedConfigFileEnv]});var s={};try{var s=e.loadFrom({filename:r||process.env[k.configOptInEnv]&&process.env[k.sharedCredentialsFileEnv]})}catch(c){if(!process.env[k.configOptInEnv])throw c}for(var o=0,a=Object.keys(n);o<a.length;o++)i[a[o]]=u(i[a[o]]||{},n[a[o]]);for(var o=0,a=Object.keys(s);o<a.length;o++)i[a[o]]=u(i[a[o]]||{},s[a[o]]);return i;function u(c,l){for(var h=0,g=Object.keys(l);h<g.length;h++)c[g[h]]=l[g[h]];return c}},ARN:{validate:function(e){return e&&e.indexOf("arn:")===0&&e.split(":").length>=6},parse:function(e){var r=e.split(":");return{partition:r[1],service:r[2],region:r[3],accountId:r[4],resource:r.slice(5).join(":")}},build:function(e){if(e.service===void 0||e.region===void 0||e.accountId===void 0||e.resource===void 0)throw k.error(new Error("Input ARN object is invalid"));return"arn:"+(e.partition||"aws")+":"+e.service+":"+e.region+":"+e.accountId+":"+e.resource}},defaultProfile:"default",configOptInEnv:"AWS_SDK_LOAD_CONFIG",sharedCredentialsFileEnv:"AWS_SHARED_CREDENTIALS_FILE",sharedConfigFileEnv:"AWS_CONFIG_FILE",imdsDisabledEnv:"AWS_EC2_METADATA_DISABLED"};Wa.exports=k});var Ga=I((hg,Ka)=>{var zh=j().util,Ha=require("stream").Transform,za=zh.buffer.alloc;function mr(t){Ha.call(this,t),this.currentMessageTotalLength=0,this.currentMessagePendingLength=0,this.currentMessage=null,this.messageLengthBuffer=null}mr.prototype=Object.create(Ha.prototype);mr.prototype._transform=function(t,e,r){for(var i=t.length,n=0;n<i;){if(!this.currentMessage){var s=i-n;this.messageLengthBuffer||(this.messageLengthBuffer=za(4));var o=Math.min(4-this.currentMessagePendingLength,s);if(t.copy(this.messageLengthBuffer,this.currentMessagePendingLength,n,n+o),this.currentMessagePendingLength+=o,n+=o,this.currentMessagePendingLength<4)break;this.allocateMessage(this.messageLengthBuffer.readUInt32BE(0)),this.messageLengthBuffer=null}var a=Math.min(this.currentMessageTotalLength-this.currentMessagePendingLength,i-n);t.copy(this.currentMessage,this.currentMessagePendingLength,n,n+a),this.currentMessagePendingLength+=a,n+=a,this.currentMessageTotalLength&&this.currentMessageTotalLength===this.currentMessagePendingLength&&(this.push(this.currentMessage),this.currentMessage=null,this.currentMessageTotalLength=0,this.currentMessagePendingLength=0)}r()};mr.prototype._flush=function(t){this.currentMessageTotalLength?this.currentMessageTotalLength===this.currentMessagePendingLength?t(null,this.currentMessage):t(new Error("Truncated event message received.")):t()};mr.prototype.allocateMessage=function(t){if(typeof t!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+t);this.currentMessageTotalLength=t,this.currentMessagePendingLength=4,this.currentMessage=za(t),this.currentMessage.writeUInt32BE(t,0)};Ka.exports={EventMessageChunkerStream:mr}});var Qa=I((mg,Ja)=>{var $a=j().util,Kh=$a.buffer.toBuffer;function yr(t){if(t.length!==8)throw new Error("Int64 buffers must be exactly 8 bytes");$a.Buffer.isBuffer(t)||(t=Kh(t)),this.bytes=t}yr.fromNumber=function(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(t+" is too large (or, if negative, too small) to represent as an Int64");for(var e=new Uint8Array(8),r=7,i=Math.abs(Math.round(t));r>-1&&i>0;r--,i/=256)e[r]=i;return t<0&&Ya(e),new yr(e)};yr.prototype.valueOf=function(){var t=this.bytes.slice(0),e=t[0]&128;return e&&Ya(t),parseInt(t.toString("hex"),16)*(e?-1:1)};yr.prototype.toString=function(){return String(this.valueOf())};function Ya(t){for(var e=0;e<8;e++)t[e]^=255;for(var e=7;e>-1&&(t[e]++,t[e]===0);e--);}Ja.exports={Int64:yr}});var tu=I((yg,eu)=>{var Ti=j().util,Gh=Ti.buffer.toBuffer,Za=4,bi=Za*2,vr=4,$h=bi+vr*2;function Yh(t){if(Ti.Buffer.isBuffer(t)||(t=Gh(t)),t.length<$h)throw new Error("Provided message too short to accommodate event stream message overhead");if(t.length!==t.readUInt32BE(0))throw new Error("Reported message length does not match received message length");var e=t.readUInt32BE(bi);if(e!==Ti.crypto.crc32(t.slice(0,bi)))throw new Error("The prelude checksum specified in the message ("+e+") does not match the calculated CRC32 checksum.");var r=t.readUInt32BE(t.length-vr);if(r!==Ti.crypto.crc32(t.slice(0,t.length-vr)))throw new Error("The message checksum did not match the expected value of "+r);var i=bi+vr,n=i+t.readUInt32BE(Za);return{headers:t.slice(i,n),body:t.slice(n,t.length-vr)}}eu.exports={splitMessage:Yh}});var su=I((vg,nu)=>{var ru=Qa().Int64,Jh=tu().splitMessage,iu="boolean",Qh="byte",Zh="short",em="integer",tm="long",rm="binary",im="string",nm="timestamp",sm="uuid";function om(t){for(var e={},r=0;r<t.length;){var i=t.readUInt8(r++),n=t.slice(r,r+i).toString();switch(r+=i,t.readUInt8(r++)){case 0:e[n]={type:iu,value:!0};break;case 1:e[n]={type:iu,value:!1};break;case 2:e[n]={type:Qh,value:t.readInt8(r++)};break;case 3:e[n]={type:Zh,value:t.readInt16BE(r)},r+=2;break;case 4:e[n]={type:em,value:t.readInt32BE(r)},r+=4;break;case 5:e[n]={type:tm,value:new ru(t.slice(r,r+8))},r+=8;break;case 6:var s=t.readUInt16BE(r);r+=2,e[n]={type:rm,value:t.slice(r,r+s)},r+=s;break;case 7:var o=t.readUInt16BE(r);r+=2,e[n]={type:im,value:t.slice(r,r+o).toString()},r+=o;break;case 8:e[n]={type:nm,value:new Date(new ru(t.slice(r,r+8)).valueOf())},r+=8;break;case 9:var a=t.slice(r,r+16).toString("hex");r+=16,e[n]={type:sm,value:a.substr(0,8)+"-"+a.substr(8,4)+"-"+a.substr(12,4)+"-"+a.substr(16,4)+"-"+a.substr(20)};break;default:throw new Error("Unrecognized header type tag")}}return e}function am(t){var e=Jh(t);return{headers:om(e.headers),body:e.body}}nu.exports={parseMessage:am}});var On=I((gg,ou)=>{var um=su().parseMessage;function cm(t,e,r){var i=um(e),n=i.headers[":message-type"];if(n){if(n.value==="error")throw lm(i);if(n.value!=="event")return}var s=i.headers[":event-type"],o=r.members[s.value];if(!!o){var a={},u=o.eventPayloadMemberName;if(u){var c=o.members[u];c.type==="binary"?a[u]=i.body:a[u]=t.parse(i.body.toString(),c)}for(var l=o.eventHeaderMemberNames,h=0;h<l.length;h++){var g=l[h];i.headers[g]&&(a[g]=o.members[g].toType(i.headers[g].value))}var b={};return b[s.value]=a,b}}function lm(t){var e=t.headers[":error-code"],r=t.headers[":error-message"],i=new Error(r.value||r);return i.code=i.name=e.value||e,i}ou.exports={parseEvent:cm}});var cu=I((Eg,uu)=>{var au=require("stream").Transform,fm=On().parseEvent;function Ln(t){t=t||{},t.readableObjectMode=!0,au.call(this,t),this._readableState.objectMode=!0,this.parser=t.parser,this.eventStreamModel=t.eventStreamModel}Ln.prototype=Object.create(au.prototype);Ln.prototype._transform=function(t,e,r){try{var i=fm(this.parser,t,this.eventStreamModel);return this.push(i),r()}catch(n){r(n)}};uu.exports={EventUnmarshallerStream:Ln}});var fu=I((Sg,lu)=>{var pm=Ga().EventMessageChunkerStream,dm=cu().EventUnmarshallerStream;function hm(t,e,r){var i=new dm({parser:e,eventStreamModel:r}),n=new pm;return t.pipe(n).pipe(i),t.on("error",function(s){n.emit("error",s)}),n.on("error",function(s){i.emit("error",s)}),i}lu.exports={createEventStream:hm}});var du=I((_g,pu)=>{function mm(t){for(var e=[],r=0;r<t.length;){var i=t.readInt32BE(r),n=t.slice(r,i+r);r+=i,e.push(n)}return e}pu.exports={eventMessageChunker:mm}});var mu=I((wg,hu)=>{var ym=du().eventMessageChunker,vm=On().parseEvent;function gm(t,e,r){for(var i=ym(t),n=[],s=0;s<i.length;s++)n.push(vm(e,i[s],r));return n}hu.exports={createEventStream:gm}});var vu=I((Cg,yu)=>{yu.exports={now:function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6}}});var Eu=I((Tg,gu)=>{var Em=j().util,Sm=require("dgram"),_m=Em.buffer.toBuffer,wm=1024*8;function Lt(t){t=t||{},this.enabled=t.enabled||!1,this.port=t.port||31e3,this.clientId=t.clientId||"",this.address=t.host||"127.0.0.1",this.clientId.length>255&&(this.clientId=this.clientId.substr(0,255)),this.messagesInFlight=0}Lt.prototype.fieldsToTrim={UserAgent:256,SdkException:128,SdkExceptionMessage:512,AwsException:128,AwsExceptionMessage:512,FinalSdkException:128,FinalSdkExceptionMessage:512,FinalAwsException:128,FinalAwsExceptionMessage:512};Lt.prototype.trimFields=function(t){for(var e=Object.keys(this.fieldsToTrim),r=0,i=e.length;r<i;r++){var n=e[r];if(t.hasOwnProperty(n)){var s=this.fieldsToTrim[n],o=t[n];o&&o.length>s&&(t[n]=o.substr(0,s))}}return t};Lt.prototype.eventHandler=function(t){t.ClientId=this.clientId,this.trimFields(t);var e=_m(JSON.stringify(t));!this.enabled||e.length>wm||this.publishDatagram(e)};Lt.prototype.publishDatagram=function(t){var e=this,r=this.getClient();this.messagesInFlight++,this.client.send(t,0,t.length,this.port,this.address,function(i,n){--e.messagesInFlight<=0&&e.destroyClient()})};Lt.prototype.getClient=function(){return this.client||(this.client=Sm.createSocket("udp4")),this.client};Lt.prototype.destroyClient=function(){this.client&&(this.client.close(),this.client=void 0)};gu.exports={Publisher:Lt}});var wu=I((bg,_u)=>{var kn=j();function Cm(){var t={port:void 0,clientId:void 0,enabled:void 0,host:void 0};return Tm(t)||bm(t),Su(t)}function Tm(t){return t.port=t.port||process.env.AWS_CSM_PORT,t.enabled=t.enabled||process.env.AWS_CSM_ENABLED,t.clientId=t.clientId||process.env.AWS_CSM_CLIENT_ID,t.host=t.host||process.env.AWS_CSM_HOST,t.port&&t.enabled&&t.clientId&&t.host||["false","0"].indexOf(t.enabled)>=0}function bm(t){var e;try{var r=kn.util.iniLoader.loadFrom({isConfig:!0,filename:process.env[kn.util.sharedConfigFileEnv]}),e=r[process.env.AWS_PROFILE||kn.util.defaultProfile]}catch(i){return!1}return e?(t.port=t.port||e.csm_port,t.enabled=t.enabled||e.csm_enabled,t.clientId=t.clientId||e.csm_client_id,t.host=t.host||e.csm_host,t.port&&t.enabled&&t.clientId&&t.host):t}function Su(t){var e=["false","0",void 0];return!t.enabled||e.indexOf(t.enabled.toLowerCase())>=0?t.enabled=!1:t.enabled=!0,t.port=t.port?parseInt(t.port,10):void 0,t}_u.exports=Cm});var Mn=I((Ag,bu)=>{var Qt=j(),Cu=require("os"),Am=require("path");function Tu(t,e){var r=Qt.util.ini.parse(Qt.util.readFileSync(t)),i={};return Object.keys(r).forEach(function(n){var s=r[n];n=e?n.replace(/^profile\s/,""):n,Object.defineProperty(i,n,{value:s,enumerable:!0})}),i}Qt.IniLoader=Qt.util.inherit({constructor:function(){this.resolvedProfiles={}},clearCachedFiles:function(){this.resolvedProfiles={}},loadFrom:function(e){e=e||{};var r=e.isConfig===!0,i=e.filename||this.getDefaultFilePath(r);if(!this.resolvedProfiles[i]){var n=this.parseFile(i,r);Object.defineProperty(this.resolvedProfiles,i,{value:n})}return this.resolvedProfiles[i]},parseFile:Tu,getDefaultFilePath:function(e){return Am.join(this.getHomeDir(),".aws",e?"config":"credentials")},getHomeDir:function(){var e=process.env,r=e.HOME||e.USERPROFILE||(e.HOMEPATH?(e.HOMEDRIVE||"C:/")+e.HOMEPATH:null);if(r)return r;if(typeof Cu.homedir=="function")return Cu.homedir();throw Qt.util.error(new Error("Cannot load credentials, HOME path not set"))}});var xm=Qt.IniLoader;bu.exports={IniLoader:xm,parseFile:Tu}});var xu=I((xg,Au)=>{var Rm=Mn().IniLoader;Au.exports.iniLoader=new Rm});var Iu=I((Rg,Ru)=>{var gr=j();function Fn(t,e){if(typeof t=="string"){if(["legacy","regional"].indexOf(t.toLowerCase())>=0)return t.toLowerCase();throw gr.util.error(new Error,e)}}function Im(t,e){t=t||{};var r;if(t[e.clientConfig]&&(r=Fn(t[e.clientConfig],{code:"InvalidConfiguration",message:'invalid "'+e.clientConfig+'" configuration. Expect "legacy"  or "regional". Got "'+t[e.clientConfig]+'".'}),r)||!gr.util.isNode())return r;if(Object.prototype.hasOwnProperty.call(process.env,e.env)){var i=process.env[e.env];if(r=Fn(i,{code:"InvalidEnvironmentalVariable",message:"invalid "+e.env+' environmental variable. Expect "legacy"  or "regional". Got "'+process.env[e.env]+'".'}),r)return r}var n={};try{var s=gr.util.getProfilesFromSharedConfig(gr.util.iniLoader);n=s[process.env.AWS_PROFILE||gr.util.defaultProfile]}catch(a){}if(n&&Object.prototype.hasOwnProperty.call(n,e.sharedConfig)){var o=n[e.sharedConfig];if(r=Fn(o,{code:"InvalidConfiguration",message:"invalid "+e.sharedConfig+' profile config. Expect "legacy"  or "regional". Got "'+n[e.sharedConfig]+'".'}),r)return r}return r}Ru.exports=Im});var Du=I(()=>{var Ai=j(),Dm=Iu(),Nm="AWS_STS_REGIONAL_ENDPOINTS",Pm="sts_regional_endpoints";Ai.util.update(Ai.STS.prototype,{credentialsFrom:function(e,r){return e?(r||(r=new Ai.TemporaryCredentials),r.expired=!1,r.accessKeyId=e.Credentials.AccessKeyId,r.secretAccessKey=e.Credentials.SecretAccessKey,r.sessionToken=e.Credentials.SessionToken,r.expireTime=e.Credentials.Expiration,r):null},assumeRoleWithWebIdentity:function(e,r){return this.makeUnauthenticatedRequest("assumeRoleWithWebIdentity",e,r)},assumeRoleWithSAML:function(e,r){return this.makeUnauthenticatedRequest("assumeRoleWithSAML",e,r)},setupRequestListeners:function(e){e.addListener("validate",this.optInRegionalEndpoint,!0)},optInRegionalEndpoint:function(e){var r=e.service,i=r.config;if(i.stsRegionalEndpoints=Dm(r._originalConfig,{env:Nm,sharedConfig:Pm,clientConfig:"stsRegionalEndpoints"}),i.stsRegionalEndpoints==="regional"&&r.isGlobalEndpoint){if(!i.region)throw Ai.util.error(new Error,{code:"ConfigError",message:"Missing region in config"});var n=i.endpoint.indexOf(".amazonaws.com"),s=i.endpoint.substring(0,n)+"."+i.region+i.endpoint.substring(n);e.httpRequest.updateEndpoint(s),e.httpRequest.region=i.region}}})});var Nu=I((Ng,qm)=>{qm.exports={version:"2.0",metadata:{apiVersion:"2011-06-15",endpointPrefix:"sts",globalEndpoint:"sts.amazonaws.com",protocol:"query",serviceAbbreviation:"AWS STS",serviceFullName:"AWS Security Token Service",serviceId:"STS",signatureVersion:"v4",uid:"sts-2011-06-15",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/"},operations:{AssumeRole:{input:{type:"structure",required:["RoleArn","RoleSessionName"],members:{RoleArn:{},RoleSessionName:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"},Tags:{shape:"S8"},TransitiveTagKeys:{type:"list",member:{}},ExternalId:{},SerialNumber:{},TokenCode:{},SourceIdentity:{}}},output:{resultWrapper:"AssumeRoleResult",type:"structure",members:{Credentials:{shape:"Si"},AssumedRoleUser:{shape:"Sn"},PackedPolicySize:{type:"integer"},SourceIdentity:{}}}},AssumeRoleWithSAML:{input:{type:"structure",required:["RoleArn","PrincipalArn","SAMLAssertion"],members:{RoleArn:{},PrincipalArn:{},SAMLAssertion:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithSAMLResult",type:"structure",members:{Credentials:{shape:"Si"},AssumedRoleUser:{shape:"Sn"},PackedPolicySize:{type:"integer"},Subject:{},SubjectType:{},Issuer:{},Audience:{},NameQualifier:{},SourceIdentity:{}}}},AssumeRoleWithWebIdentity:{input:{type:"structure",required:["RoleArn","RoleSessionName","WebIdentityToken"],members:{RoleArn:{},RoleSessionName:{},WebIdentityToken:{},ProviderId:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithWebIdentityResult",type:"structure",members:{Credentials:{shape:"Si"},SubjectFromWebIdentityToken:{},AssumedRoleUser:{shape:"Sn"},PackedPolicySize:{type:"integer"},Provider:{},Audience:{},SourceIdentity:{}}}},DecodeAuthorizationMessage:{input:{type:"structure",required:["EncodedMessage"],members:{EncodedMessage:{}}},output:{resultWrapper:"DecodeAuthorizationMessageResult",type:"structure",members:{DecodedMessage:{}}}},GetAccessKeyInfo:{input:{type:"structure",required:["AccessKeyId"],members:{AccessKeyId:{}}},output:{resultWrapper:"GetAccessKeyInfoResult",type:"structure",members:{Account:{}}}},GetCallerIdentity:{input:{type:"structure",members:{}},output:{resultWrapper:"GetCallerIdentityResult",type:"structure",members:{UserId:{},Account:{},Arn:{}}}},GetFederationToken:{input:{type:"structure",required:["Name"],members:{Name:{},Policy:{},PolicyArns:{shape:"S4"},DurationSeconds:{type:"integer"},Tags:{shape:"S8"}}},output:{resultWrapper:"GetFederationTokenResult",type:"structure",members:{Credentials:{shape:"Si"},FederatedUser:{type:"structure",required:["FederatedUserId","Arn"],members:{FederatedUserId:{},Arn:{}}},PackedPolicySize:{type:"integer"}}}},GetSessionToken:{input:{type:"structure",members:{DurationSeconds:{type:"integer"},SerialNumber:{},TokenCode:{}}},output:{resultWrapper:"GetSessionTokenResult",type:"structure",members:{Credentials:{shape:"Si"}}}}},shapes:{S4:{type:"list",member:{type:"structure",members:{arn:{}}}},S8:{type:"list",member:{type:"structure",required:["Key","Value"],members:{Key:{},Value:{}}}},Si:{type:"structure",required:["AccessKeyId","SecretAccessKey","SessionToken","Expiration"],members:{AccessKeyId:{},SecretAccessKey:{},SessionToken:{},Expiration:{type:"timestamp"}}},Sn:{type:"structure",required:["AssumedRoleId","Arn"],members:{AssumedRoleId:{},Arn:{}}}}}});var Pu=I((Pg,Om)=>{Om.exports={pagination:{}}});var Ct=I((qg,Ou)=>{Ri();var xi=j(),Lm=xi.Service,qu=xi.apiLoader;qu.services.sts={};xi.STS=Lm.defineService("sts",["2011-06-15"]);Du();Object.defineProperty(qu.services.sts,"2011-06-15",{get:function(){var e=Nu();return e.paginators=Pu().pagination,e},enumerable:!0,configurable:!0});Ou.exports=xi.STS});var Lu=I(()=>{var kt=j(),km=Ct();kt.TemporaryCredentials=kt.util.inherit(kt.Credentials,{constructor:function(e,r){kt.Credentials.call(this),this.loadMasterCredentials(r),this.expired=!0,this.params=e||{},this.params.RoleArn&&(this.params.RoleSessionName=this.params.RoleSessionName||"temporary-credentials")},refresh:function(e){this.coalesceRefresh(e||kt.util.fn.callback)},load:function(e){var r=this;r.createClients(),r.masterCredentials.get(function(){r.service.config.credentials=r.masterCredentials;var i=r.params.RoleArn?r.service.assumeRole:r.service.getSessionToken;i.call(r.service,function(n,s){n||r.service.credentialsFrom(s,r),e(n)})})},loadMasterCredentials:function(e){for(this.masterCredentials=e||kt.config.credentials;this.masterCredentials.masterCredentials;)this.masterCredentials=this.masterCredentials.masterCredentials;typeof this.masterCredentials.get!="function"&&(this.masterCredentials=new kt.Credentials(this.masterCredentials))},createClients:function(){this.service=this.service||new km({params:this.params})}})});var ku=I(()=>{var tt=j(),Mm=Ct();tt.ChainableTemporaryCredentials=tt.util.inherit(tt.Credentials,{constructor:function(e){tt.Credentials.call(this),e=e||{},this.errorCode="ChainableTemporaryCredentialsProviderFailure",this.expired=!0,this.tokenCodeFn=null;var r=tt.util.copy(e.params)||{};if(r.RoleArn&&(r.RoleSessionName=r.RoleSessionName||"temporary-credentials"),r.SerialNumber){if(!e.tokenCodeFn||typeof e.tokenCodeFn!="function")throw new tt.util.error(new Error("tokenCodeFn must be a function when params.SerialNumber is given"),{code:this.errorCode});this.tokenCodeFn=e.tokenCodeFn}var i=tt.util.merge({params:r,credentials:e.masterCredentials||tt.config.credentials},e.stsConfig||{});this.service=new Mm(i)},refresh:function(e){this.coalesceRefresh(e||tt.util.fn.callback)},load:function(e){var r=this,i=r.service.config.params.RoleArn?"assumeRole":"getSessionToken";this.getTokenCode(function(n,s){var o={};if(n){e(n);return}s&&(o.TokenCode=s),r.service[i](o,function(a,u){a||r.service.credentialsFrom(u,r),e(a)})})},getTokenCode:function(e){var r=this;this.tokenCodeFn?this.tokenCodeFn(this.service.config.params.SerialNumber,function(i,n){if(i){var s=i;i instanceof Error&&(s=i.message),e(tt.util.error(new Error("Error fetching MFA token: "+s),{code:r.errorCode}));return}e(null,n)}):e(null)}})});var Mu=I(()=>{var Mt=j(),Fm=Ct();Mt.WebIdentityCredentials=Mt.util.inherit(Mt.Credentials,{constructor:function(e,r){Mt.Credentials.call(this),this.expired=!0,this.params=e,this.params.RoleSessionName=this.params.RoleSessionName||"web-identity",this.data=null,this._clientConfig=Mt.util.copy(r||{})},refresh:function(e){this.coalesceRefresh(e||Mt.util.fn.callback)},load:function(e){var r=this;r.createClients(),r.service.assumeRoleWithWebIdentity(function(i,n){r.data=null,i||(r.data=n,r.service.credentialsFrom(n,r)),e(i)})},createClients:function(){if(!this.service){var t=Mt.util.merge({},this._clientConfig);t.params=this.params,this.service=new Fm(t)}}})});var Fu=I((Ug,Bm)=>{Bm.exports={version:"2.0",metadata:{apiVersion:"2014-06-30",endpointPrefix:"cognito-identity",jsonVersion:"1.1",protocol:"json",serviceFullName:"Amazon Cognito Identity",serviceId:"Cognito Identity",signatureVersion:"v4",targetPrefix:"AWSCognitoIdentityService",uid:"cognito-identity-2014-06-30"},operations:{CreateIdentityPool:{input:{type:"structure",required:["IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},AllowClassicFlow:{type:"boolean"},SupportedLoginProviders:{shape:"S5"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S9"},CognitoIdentityProviders:{shape:"Sb"},SamlProviderARNs:{shape:"Sg"},IdentityPoolTags:{shape:"Sh"}}},output:{shape:"Sk"}},DeleteIdentities:{input:{type:"structure",required:["IdentityIdsToDelete"],members:{IdentityIdsToDelete:{type:"list",member:{}}}},output:{type:"structure",members:{UnprocessedIdentityIds:{type:"list",member:{type:"structure",members:{IdentityId:{},ErrorCode:{}}}}}}},DeleteIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}}},DescribeIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{}}},output:{shape:"Sv"}},DescribeIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{shape:"Sk"}},GetCredentialsForIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"S10"},CustomRoleArn:{}}},output:{type:"structure",members:{IdentityId:{},Credentials:{type:"structure",members:{AccessKeyId:{},SecretKey:{},SessionToken:{},Expiration:{type:"timestamp"}}}}},authtype:"none"},GetId:{input:{type:"structure",required:["IdentityPoolId"],members:{AccountId:{},IdentityPoolId:{},Logins:{shape:"S10"}}},output:{type:"structure",members:{IdentityId:{}}},authtype:"none"},GetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{type:"structure",members:{IdentityPoolId:{},Roles:{shape:"S1c"},RoleMappings:{shape:"S1e"}}}},GetOpenIdToken:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"S10"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}},authtype:"none"},GetOpenIdTokenForDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId","Logins"],members:{IdentityPoolId:{},IdentityId:{},Logins:{shape:"S10"},PrincipalTags:{shape:"S1s"},TokenDuration:{type:"long"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}}},GetPrincipalTagAttributeMap:{input:{type:"structure",required:["IdentityPoolId","IdentityProviderName"],members:{IdentityPoolId:{},IdentityProviderName:{}}},output:{type:"structure",members:{IdentityPoolId:{},IdentityProviderName:{},UseDefaults:{type:"boolean"},PrincipalTags:{shape:"S1s"}}}},ListIdentities:{input:{type:"structure",required:["IdentityPoolId","MaxResults"],members:{IdentityPoolId:{},MaxResults:{type:"integer"},NextToken:{},HideDisabled:{type:"boolean"}}},output:{type:"structure",members:{IdentityPoolId:{},Identities:{type:"list",member:{shape:"Sv"}},NextToken:{}}}},ListIdentityPools:{input:{type:"structure",required:["MaxResults"],members:{MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityPools:{type:"list",member:{type:"structure",members:{IdentityPoolId:{},IdentityPoolName:{}}}},NextToken:{}}}},ListTagsForResource:{input:{type:"structure",required:["ResourceArn"],members:{ResourceArn:{}}},output:{type:"structure",members:{Tags:{shape:"Sh"}}}},LookupDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{},IdentityId:{},DeveloperUserIdentifier:{},MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityId:{},DeveloperUserIdentifierList:{type:"list",member:{}},NextToken:{}}}},MergeDeveloperIdentities:{input:{type:"structure",required:["SourceUserIdentifier","DestinationUserIdentifier","DeveloperProviderName","IdentityPoolId"],members:{SourceUserIdentifier:{},DestinationUserIdentifier:{},DeveloperProviderName:{},IdentityPoolId:{}}},output:{type:"structure",members:{IdentityId:{}}}},SetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId","Roles"],members:{IdentityPoolId:{},Roles:{shape:"S1c"},RoleMappings:{shape:"S1e"}}}},SetPrincipalTagAttributeMap:{input:{type:"structure",required:["IdentityPoolId","IdentityProviderName"],members:{IdentityPoolId:{},IdentityProviderName:{},UseDefaults:{type:"boolean"},PrincipalTags:{shape:"S1s"}}},output:{type:"structure",members:{IdentityPoolId:{},IdentityProviderName:{},UseDefaults:{type:"boolean"},PrincipalTags:{shape:"S1s"}}}},TagResource:{input:{type:"structure",required:["ResourceArn","Tags"],members:{ResourceArn:{},Tags:{shape:"Sh"}}},output:{type:"structure",members:{}}},UnlinkDeveloperIdentity:{input:{type:"structure",required:["IdentityId","IdentityPoolId","DeveloperProviderName","DeveloperUserIdentifier"],members:{IdentityId:{},IdentityPoolId:{},DeveloperProviderName:{},DeveloperUserIdentifier:{}}}},UnlinkIdentity:{input:{type:"structure",required:["IdentityId","Logins","LoginsToRemove"],members:{IdentityId:{},Logins:{shape:"S10"},LoginsToRemove:{shape:"Sw"}}},authtype:"none"},UntagResource:{input:{type:"structure",required:["ResourceArn","TagKeys"],members:{ResourceArn:{},TagKeys:{type:"list",member:{}}}},output:{type:"structure",members:{}}},UpdateIdentityPool:{input:{shape:"Sk"},output:{shape:"Sk"}}},shapes:{S5:{type:"map",key:{},value:{}},S9:{type:"list",member:{}},Sb:{type:"list",member:{type:"structure",members:{ProviderName:{},ClientId:{},ServerSideTokenCheck:{type:"boolean"}}}},Sg:{type:"list",member:{}},Sh:{type:"map",key:{},value:{}},Sk:{type:"structure",required:["IdentityPoolId","IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolId:{},IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},AllowClassicFlow:{type:"boolean"},SupportedLoginProviders:{shape:"S5"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S9"},CognitoIdentityProviders:{shape:"Sb"},SamlProviderARNs:{shape:"Sg"},IdentityPoolTags:{shape:"Sh"}}},Sv:{type:"structure",members:{IdentityId:{},Logins:{shape:"Sw"},CreationDate:{type:"timestamp"},LastModifiedDate:{type:"timestamp"}}},Sw:{type:"list",member:{}},S10:{type:"map",key:{},value:{}},S1c:{type:"map",key:{},value:{}},S1e:{type:"map",key:{},value:{type:"structure",required:["Type"],members:{Type:{},AmbiguousRoleResolution:{},RulesConfiguration:{type:"structure",required:["Rules"],members:{Rules:{type:"list",member:{type:"structure",required:["Claim","MatchType","Value","RoleARN"],members:{Claim:{},MatchType:{},Value:{},RoleARN:{}}}}}}}}},S1s:{type:"map",key:{},value:{}}}}});var Bu=I((jg,Um)=>{Um.exports={pagination:{ListIdentityPools:{input_token:"NextToken",limit_key:"MaxResults",output_token:"NextToken",result_key:"IdentityPools"}}}});var Vu=I((Vg,ju)=>{Ri();var Ii=j(),jm=Ii.Service,Uu=Ii.apiLoader;Uu.services.cognitoidentity={};Ii.CognitoIdentity=jm.defineService("cognitoidentity",["2014-06-30"]);Object.defineProperty(Uu.services.cognitoidentity,"2014-06-30",{get:function(){var e=Fu();return e.paginators=Bu().pagination,e},enumerable:!0,configurable:!0});ju.exports=Ii.CognitoIdentity});var Xu=I(()=>{var Ge=j(),Vm=Vu(),Xm=Ct();Ge.CognitoIdentityCredentials=Ge.util.inherit(Ge.Credentials,{localStorageKey:{id:"aws.cognito.identity-id.",providers:"aws.cognito.identity-providers."},constructor:function(e,r){Ge.Credentials.call(this),this.expired=!0,this.params=e,this.data=null,this._identityId=null,this._clientConfig=Ge.util.copy(r||{}),this.loadCachedId();var i=this;Object.defineProperty(this,"identityId",{get:function(){return i.loadCachedId(),i._identityId||i.params.IdentityId},set:function(n){i._identityId=n}})},refresh:function(e){this.coalesceRefresh(e||Ge.util.fn.callback)},load:function(e){var r=this;r.createClients(),r.data=null,r._identityId=null,r.getId(function(i){i?(r.clearIdOnNotAuthorized(i),e(i)):r.params.RoleArn?r.getCredentialsFromSTS(e):r.getCredentialsForIdentity(e)})},clearCachedId:function(){this._identityId=null,delete this.params.IdentityId;var e=this.params.IdentityPoolId,r=this.params.LoginId||"";delete this.storage[this.localStorageKey.id+e+r],delete this.storage[this.localStorageKey.providers+e+r]},clearIdOnNotAuthorized:function(e){var r=this;e.code=="NotAuthorizedException"&&r.clearCachedId()},getId:function(e){var r=this;if(typeof r.params.IdentityId=="string")return e(null,r.params.IdentityId);r.cognito.getId(function(i,n){!i&&n.IdentityId?(r.params.IdentityId=n.IdentityId,e(null,n.IdentityId)):e(i)})},loadCredentials:function(e,r){!e||!r||(r.expired=!1,r.accessKeyId=e.Credentials.AccessKeyId,r.secretAccessKey=e.Credentials.SecretKey,r.sessionToken=e.Credentials.SessionToken,r.expireTime=e.Credentials.Expiration)},getCredentialsForIdentity:function(e){var r=this;r.cognito.getCredentialsForIdentity(function(i,n){i?r.clearIdOnNotAuthorized(i):(r.cacheId(n),r.data=n,r.loadCredentials(r.data,r)),e(i)})},getCredentialsFromSTS:function(e){var r=this;r.cognito.getOpenIdToken(function(i,n){i?(r.clearIdOnNotAuthorized(i),e(i)):(r.cacheId(n),r.params.WebIdentityToken=n.Token,r.webIdentityCredentials.refresh(function(s){s||(r.data=r.webIdentityCredentials.data,r.sts.credentialsFrom(r.data,r)),e(s)}))})},loadCachedId:function(){var e=this;if(Ge.util.isBrowser()&&!e.params.IdentityId){var r=e.getStorage("id");if(r&&e.params.Logins){var i=Object.keys(e.params.Logins),n=(e.getStorage("providers")||"").split(","),s=n.filter(function(o){return i.indexOf(o)!==-1});s.length!==0&&(e.params.IdentityId=r)}else r&&(e.params.IdentityId=r)}},createClients:function(){var t=this._clientConfig;if(this.webIdentityCredentials=this.webIdentityCredentials||new Ge.WebIdentityCredentials(this.params,t),!this.cognito){var e=Ge.util.merge({},t);e.params=this.params,this.cognito=new Vm(e)}this.sts=this.sts||new Xm(t)},cacheId:function(e){this._identityId=e.IdentityId,this.params.IdentityId=this._identityId,Ge.util.isBrowser()&&(this.setStorage("id",e.IdentityId),this.params.Logins&&this.setStorage("providers",Object.keys(this.params.Logins).join(",")))},getStorage:function(e){return this.storage[this.localStorageKey[e]+this.params.IdentityPoolId+(this.params.LoginId||"")]},setStorage:function(e,r){try{this.storage[this.localStorageKey[e]+this.params.IdentityPoolId+(this.params.LoginId||"")]=r}catch(i){}},storage:function(){try{var t=Ge.util.isBrowser()&&window.localStorage!==null&&typeof window.localStorage=="object"?window.localStorage:{};return t["aws.test-storage"]="foobar",delete t["aws.test-storage"],t}catch(e){return{}}}()})});var Wu=I(()=>{var Er=j(),Wm=Ct();Er.SAMLCredentials=Er.util.inherit(Er.Credentials,{constructor:function(e){Er.Credentials.call(this),this.expired=!0,this.params=e},refresh:function(e){this.coalesceRefresh(e||Er.util.fn.callback)},load:function(e){var r=this;r.createClients(),r.service.assumeRoleWithSAML(function(i,n){i||r.service.credentialsFrom(n,r),e(i)})},createClients:function(){this.service=this.service||new Wm({params:this.params})}})});var Bn=I(()=>{var De=j(),Hm=require("child_process"),Hu=De.util.iniLoader;De.ProcessCredentials=De.util.inherit(De.Credentials,{constructor:function(e){De.Credentials.call(this),e=e||{},this.filename=e.filename,this.profile=e.profile||process.env.AWS_PROFILE||De.util.defaultProfile,this.get(e.callback||De.util.fn.noop)},load:function(e){var r=this;try{var i=De.util.getProfilesFromSharedConfig(Hu,this.filename),n=i[this.profile]||{};if(Object.keys(n).length===0)throw De.util.error(new Error("Profile "+this.profile+" not found"),{code:"ProcessCredentialsProviderFailure"});if(n.credential_process)this.loadViaCredentialProcess(n,function(s,o){s?e(s,null):(r.expired=!1,r.accessKeyId=o.AccessKeyId,r.secretAccessKey=o.SecretAccessKey,r.sessionToken=o.SessionToken,o.Expiration&&(r.expireTime=new Date(o.Expiration)),e(null))});else throw De.util.error(new Error("Profile "+this.profile+" did not include credential process"),{code:"ProcessCredentialsProviderFailure"})}catch(s){e(s)}},loadViaCredentialProcess:function(e,r){Hm.exec(e.credential_process,{env:process.env},function(i,n,s){if(i)r(De.util.error(new Error("credential_process returned error"),{code:"ProcessCredentialsProviderFailure"}),null);else try{var o=JSON.parse(n);if(o.Expiration){var a=De.util.date.getDate(),u=new Date(o.Expiration);if(u<a)throw Error("credential_process returned expired credentials")}if(o.Version!==1)throw Error("credential_process does not return Version == 1");r(null,o)}catch(c){r(De.util.error(new Error(c.message),{code:"ProcessCredentialsProviderFailure"}),null)}})},refresh:function(e){Hu.clearCachedFiles(),this.coalesceRefresh(e||De.util.fn.callback)}})});var Di=I(Un=>{(function(){Un.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(Un)});var yt=I((zu,Ft)=>{(function(){var t,e,r,i,n,s,o=[].slice,a={}.hasOwnProperty;t=function(){var u,c,l,h,g,b;if(b=arguments[0],g=2<=arguments.length?o.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(u=0,l=g.length;u<l;u++)if(h=g[u],h!=null)for(c in h)!a.call(h,c)||(b[c]=h[c]);return b},i=function(u){return!!u&&Object.prototype.toString.call(u)==="[object Function]"},n=function(u){var c;return!!u&&((c=typeof u)==="function"||c==="object")},e=function(u){return i(Array.isArray)?Array.isArray(u):Object.prototype.toString.call(u)==="[object Array]"},r=function(u){var c;if(e(u))return!u.length;for(c in u)if(!!a.call(u,c))return!1;return!0},s=function(u){var c,l;return n(u)&&(l=Object.getPrototypeOf(u))&&(c=l.constructor)&&typeof c=="function"&&c instanceof c&&Function.prototype.toString.call(c)===Function.prototype.toString.call(Object)},Ft.exports.assign=t,Ft.exports.isFunction=i,Ft.exports.isObject=n,Ft.exports.isArray=e,Ft.exports.isEmpty=r,Ft.exports.isPlainObject=s}).call(zu)});var jn=I((Ku,Gu)=>{(function(){var t;Gu.exports=t=function(){function e(r,i,n){if(this.options=r.options,this.stringify=r.stringify,i==null)throw new Error("Missing attribute name of element "+r.name);if(n==null)throw new Error("Missing attribute value for attribute "+i+" of element "+r.name);this.name=this.stringify.attName(i),this.value=this.stringify.attValue(n)}return e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(r){return this.options.writer.set(r).attribute(this)},e}()}).call(Ku)});var Sr=I(($u,Yu)=>{(function(){var t,e,r,i,n,s,o=function(u,c){for(var l in c)a.call(c,l)&&(u[l]=c[l]);function h(){this.constructor=u}return h.prototype=c.prototype,u.prototype=new h,u.__super__=c.prototype,u},a={}.hasOwnProperty;s=yt(),n=s.isObject,i=s.isFunction,r=Ne(),t=jn(),Yu.exports=e=function(u){o(c,u);function c(l,h,g){if(c.__super__.constructor.call(this,l),h==null)throw new Error("Missing element name");this.name=this.stringify.eleName(h),this.attributes={},g!=null&&this.attribute(g),l.isDocument&&(this.isRoot=!0,this.documentObject=l,l.rootObject=this)}return c.prototype.clone=function(){var l,h,g,b;g=Object.create(this),g.isRoot&&(g.documentObject=null),g.attributes={},b=this.attributes;for(h in b)!a.call(b,h)||(l=b[h],g.attributes[h]=l.clone());return g.children=[],this.children.forEach(function(v){var E;return E=v.clone(),E.parent=g,g.children.push(E)}),g},c.prototype.attribute=function(l,h){var g,b;if(l!=null&&(l=l.valueOf()),n(l))for(g in l)!a.call(l,g)||(b=l[g],this.attribute(g,b));else i(h)&&(h=h.apply()),(!this.options.skipNullAttributes||h!=null)&&(this.attributes[l]=new t(this,l,h));return this},c.prototype.removeAttribute=function(l){var h,g,b;if(l==null)throw new Error("Missing attribute name");if(l=l.valueOf(),Array.isArray(l))for(g=0,b=l.length;g<b;g++)h=l[g],delete this.attributes[h];else delete this.attributes[l];return this},c.prototype.toString=function(l){return this.options.writer.set(l).element(this)},c.prototype.att=function(l,h){return this.attribute(l,h)},c.prototype.a=function(l,h){return this.attribute(l,h)},c}(r)}).call($u)});var _r=I((Ju,Qu)=>{(function(){var t,e,r=function(n,s){for(var o in s)i.call(s,o)&&(n[o]=s[o]);function a(){this.constructor=n}return a.prototype=s.prototype,n.prototype=new a,n.__super__=s.prototype,n},i={}.hasOwnProperty;e=Ne(),Qu.exports=t=function(n){r(s,n);function s(o,a){if(s.__super__.constructor.call(this,o),a==null)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(a)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).cdata(this)},s}(e)}).call(Ju)});var wr=I((Zu,ec)=>{(function(){var t,e,r=function(n,s){for(var o in s)i.call(s,o)&&(n[o]=s[o]);function a(){this.constructor=n}return a.prototype=s.prototype,n.prototype=new a,n.__super__=s.prototype,n},i={}.hasOwnProperty;e=Ne(),ec.exports=t=function(n){r(s,n);function s(o,a){if(s.__super__.constructor.call(this,o),a==null)throw new Error("Missing comment text");this.text=this.stringify.comment(a)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).comment(this)},s}(e)}).call(Zu)});var Cr=I((tc,rc)=>{(function(){var t,e,r,i=function(s,o){for(var a in o)n.call(o,a)&&(s[a]=o[a]);function u(){this.constructor=s}return u.prototype=o.prototype,s.prototype=new u,s.__super__=o.prototype,s},n={}.hasOwnProperty;r=yt().isObject,e=Ne(),rc.exports=t=function(s){i(o,s);function o(a,u,c,l){var h;o.__super__.constructor.call(this,a),r(u)&&(h=u,u=h.version,c=h.encoding,l=h.standalone),u||(u="1.0"),this.version=this.stringify.xmlVersion(u),c!=null&&(this.encoding=this.stringify.xmlEncoding(c)),l!=null&&(this.standalone=this.stringify.xmlStandalone(l))}return o.prototype.toString=function(a){return this.options.writer.set(a).declaration(this)},o}(e)}).call(tc)});var Tr=I((ic,nc)=>{(function(){var t,e,r=function(n,s){for(var o in s)i.call(s,o)&&(n[o]=s[o]);function a(){this.constructor=n}return a.prototype=s.prototype,n.prototype=new a,n.__super__=s.prototype,n},i={}.hasOwnProperty;e=Ne(),nc.exports=t=function(n){r(s,n);function s(o,a,u,c,l,h){if(s.__super__.constructor.call(this,o),a==null)throw new Error("Missing DTD element name");if(u==null)throw new Error("Missing DTD attribute name");if(!c)throw new Error("Missing DTD attribute type");if(!l)throw new Error("Missing DTD attribute default");if(l.indexOf("#")!==0&&(l="#"+l),!l.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(h&&!l.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(a),this.attributeName=this.stringify.attName(u),this.attributeType=this.stringify.dtdAttType(c),this.defaultValue=this.stringify.dtdAttDefault(h),this.defaultValueType=l}return s.prototype.toString=function(o){return this.options.writer.set(o).dtdAttList(this)},s}(e)}).call(ic)});var br=I((sc,oc)=>{(function(){var t,e,r,i=function(s,o){for(var a in o)n.call(o,a)&&(s[a]=o[a]);function u(){this.constructor=s}return u.prototype=o.prototype,s.prototype=new u,s.__super__=o.prototype,s},n={}.hasOwnProperty;r=yt().isObject,e=Ne(),oc.exports=t=function(s){i(o,s);function o(a,u,c,l){if(o.__super__.constructor.call(this,a),c==null)throw new Error("Missing entity name");if(l==null)throw new Error("Missing entity value");if(this.pe=!!u,this.name=this.stringify.eleName(c),!r(l))this.value=this.stringify.dtdEntityValue(l);else{if(!l.pubID&&!l.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(l.pubID&&!l.sysID)throw new Error("System identifier is required for a public external entity");if(l.pubID!=null&&(this.pubID=this.stringify.dtdPubID(l.pubID)),l.sysID!=null&&(this.sysID=this.stringify.dtdSysID(l.sysID)),l.nData!=null&&(this.nData=this.stringify.dtdNData(l.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}}return o.prototype.toString=function(a){return this.options.writer.set(a).dtdEntity(this)},o}(e)}).call(sc)});var Ar=I((ac,uc)=>{(function(){var t,e,r=function(n,s){for(var o in s)i.call(s,o)&&(n[o]=s[o]);function a(){this.constructor=n}return a.prototype=s.prototype,n.prototype=new a,n.__super__=s.prototype,n},i={}.hasOwnProperty;e=Ne(),uc.exports=t=function(n){r(s,n);function s(o,a,u){if(s.__super__.constructor.call(this,o),a==null)throw new Error("Missing DTD element name");u||(u="(#PCDATA)"),Array.isArray(u)&&(u="("+u.join(",")+")"),this.name=this.stringify.eleName(a),this.value=this.stringify.dtdElementValue(u)}return s.prototype.toString=function(o){return this.options.writer.set(o).dtdElement(this)},s}(e)}).call(ac)});var xr=I((cc,lc)=>{(function(){var t,e,r=function(n,s){for(var o in s)i.call(s,o)&&(n[o]=s[o]);function a(){this.constructor=n}return a.prototype=s.prototype,n.prototype=new a,n.__super__=s.prototype,n},i={}.hasOwnProperty;e=Ne(),lc.exports=t=function(n){r(s,n);function s(o,a,u){if(s.__super__.constructor.call(this,o),a==null)throw new Error("Missing notation name");if(!u.pubID&&!u.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(a),u.pubID!=null&&(this.pubID=this.stringify.dtdPubID(u.pubID)),u.sysID!=null&&(this.sysID=this.stringify.dtdSysID(u.sysID))}return s.prototype.toString=function(o){return this.options.writer.set(o).dtdNotation(this)},s}(e)}).call(cc)});var Rr=I((fc,pc)=>{(function(){var t,e,r,i,n,s,o,a=function(c,l){for(var h in l)u.call(l,h)&&(c[h]=l[h]);function g(){this.constructor=c}return g.prototype=l.prototype,c.prototype=new g,c.__super__=l.prototype,c},u={}.hasOwnProperty;o=yt().isObject,s=Ne(),t=Tr(),r=br(),e=Ar(),i=xr(),pc.exports=n=function(c){a(l,c);function l(h,g,b){var v,E;l.__super__.constructor.call(this,h),this.documentObject=h,o(g)&&(v=g,g=v.pubID,b=v.sysID),b==null&&(E=[g,b],b=E[0],g=E[1]),g!=null&&(this.pubID=this.stringify.dtdPubID(g)),b!=null&&(this.sysID=this.stringify.dtdSysID(b))}return l.prototype.element=function(h,g){var b;return b=new e(this,h,g),this.children.push(b),this},l.prototype.attList=function(h,g,b,v,E){var D;return D=new t(this,h,g,b,v,E),this.children.push(D),this},l.prototype.entity=function(h,g){var b;return b=new r(this,!1,h,g),this.children.push(b),this},l.prototype.pEntity=function(h,g){var b;return b=new r(this,!0,h,g),this.children.push(b),this},l.prototype.notation=function(h,g){var b;return b=new i(this,h,g),this.children.push(b),this},l.prototype.toString=function(h){return this.options.writer.set(h).docType(this)},l.prototype.ele=function(h,g){return this.element(h,g)},l.prototype.att=function(h,g,b,v,E){return this.attList(h,g,b,v,E)},l.prototype.ent=function(h,g){return this.entity(h,g)},l.prototype.pent=function(h,g){return this.pEntity(h,g)},l.prototype.not=function(h,g){return this.notation(h,g)},l.prototype.up=function(){return this.root()||this.documentObject},l}(s)}).call(fc)});var Ir=I((dc,hc)=>{(function(){var t,e,r=function(n,s){for(var o in s)i.call(s,o)&&(n[o]=s[o]);function a(){this.constructor=n}return a.prototype=s.prototype,n.prototype=new a,n.__super__=s.prototype,n},i={}.hasOwnProperty;t=Ne(),hc.exports=e=function(n){r(s,n);function s(o,a){if(s.__super__.constructor.call(this,o),a==null)throw new Error("Missing raw text");this.value=this.stringify.raw(a)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).raw(this)},s}(t)}).call(dc)});var Dr=I((mc,yc)=>{(function(){var t,e,r=function(n,s){for(var o in s)i.call(s,o)&&(n[o]=s[o]);function a(){this.constructor=n}return a.prototype=s.prototype,n.prototype=new a,n.__super__=s.prototype,n},i={}.hasOwnProperty;t=Ne(),yc.exports=e=function(n){r(s,n);function s(o,a){if(s.__super__.constructor.call(this,o),a==null)throw new Error("Missing element text");this.value=this.stringify.eleText(a)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).text(this)},s}(t)}).call(mc)});var Nr=I((vc,gc)=>{(function(){var t,e,r=function(n,s){for(var o in s)i.call(s,o)&&(n[o]=s[o]);function a(){this.constructor=n}return a.prototype=s.prototype,n.prototype=new a,n.__super__=s.prototype,n},i={}.hasOwnProperty;t=Ne(),gc.exports=e=function(n){r(s,n);function s(o,a,u){if(s.__super__.constructor.call(this,o),a==null)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(a),u&&(this.value=this.stringify.insValue(u))}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).processingInstruction(this)},s}(t)}).call(vc)});var Ne=I((Ec,Sc)=>{(function(){var t,e,r,i,n,s,o,a,u,c,l,h,g,b={}.hasOwnProperty;g=yt(),h=g.isObject,l=g.isFunction,c=g.isEmpty,n=null,t=null,e=null,r=null,i=null,a=null,u=null,o=null,Sc.exports=s=function(){function v(E){this.parent=E,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],n||(n=Sr(),t=_r(),e=wr(),r=Cr(),i=Rr(),a=Ir(),u=Dr(),o=Nr())}return v.prototype.element=function(E,D,S){var d,_,R,N,C,T,L,X,M,W;if(T=null,D==null&&(D={}),D=D.valueOf(),h(D)||(M=[D,S],S=M[0],D=M[1]),E!=null&&(E=E.valueOf()),Array.isArray(E))for(R=0,L=E.length;R<L;R++)_=E[R],T=this.element(_);else if(l(E))T=this.element(E.apply());else if(h(E)){for(C in E)if(!!b.call(E,C))if(W=E[C],l(W)&&(W=W.apply()),h(W)&&c(W)&&(W=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&C.indexOf(this.stringify.convertAttKey)===0)T=this.attribute(C.substr(this.stringify.convertAttKey.length),W);else if(!this.options.separateArrayItems&&Array.isArray(W))for(N=0,X=W.length;N<X;N++)_=W[N],d={},d[C]=_,T=this.element(d);else h(W)?(T=this.element(C),T.element(W)):T=this.element(C,W)}else!this.options.ignoreDecorators&&this.stringify.convertTextKey&&E.indexOf(this.stringify.convertTextKey)===0?T=this.text(S):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&E.indexOf(this.stringify.convertCDataKey)===0?T=this.cdata(S):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&E.indexOf(this.stringify.convertCommentKey)===0?T=this.comment(S):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&E.indexOf(this.stringify.convertRawKey)===0?T=this.raw(S):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&E.indexOf(this.stringify.convertPIKey)===0?T=this.instruction(E.substr(this.stringify.convertPIKey.length),S):T=this.node(E,D,S);if(T==null)throw new Error("Could not create any elements with: "+E);return T},v.prototype.insertBefore=function(E,D,S){var d,_,R;if(this.isRoot)throw new Error("Cannot insert elements at root level");return _=this.parent.children.indexOf(this),R=this.parent.children.splice(_),d=this.parent.element(E,D,S),Array.prototype.push.apply(this.parent.children,R),d},v.prototype.insertAfter=function(E,D,S){var d,_,R;if(this.isRoot)throw new Error("Cannot insert elements at root level");return _=this.parent.children.indexOf(this),R=this.parent.children.splice(_+1),d=this.parent.element(E,D,S),Array.prototype.push.apply(this.parent.children,R),d},v.prototype.remove=function(){var E,D;if(this.isRoot)throw new Error("Cannot remove the root element");return E=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[E,E-E+1].concat(D=[])),this.parent},v.prototype.node=function(E,D,S){var d,_;return E!=null&&(E=E.valueOf()),D||(D={}),D=D.valueOf(),h(D)||(_=[D,S],S=_[0],D=_[1]),d=new n(this,E,D),S!=null&&d.text(S),this.children.push(d),d},v.prototype.text=function(E){var D;return D=new u(this,E),this.children.push(D),this},v.prototype.cdata=function(E){var D;return D=new t(this,E),this.children.push(D),this},v.prototype.comment=function(E){var D;return D=new e(this,E),this.children.push(D),this},v.prototype.commentBefore=function(E){var D,S,d;return S=this.parent.children.indexOf(this),d=this.parent.children.splice(S),D=this.parent.comment(E),Array.prototype.push.apply(this.parent.children,d),this},v.prototype.commentAfter=function(E){var D,S,d;return S=this.parent.children.indexOf(this),d=this.parent.children.splice(S+1),D=this.parent.comment(E),Array.prototype.push.apply(this.parent.children,d),this},v.prototype.raw=function(E){var D;return D=new a(this,E),this.children.push(D),this},v.prototype.instruction=function(E,D){var S,d,_,R,N;if(E!=null&&(E=E.valueOf()),D!=null&&(D=D.valueOf()),Array.isArray(E))for(R=0,N=E.length;R<N;R++)S=E[R],this.instruction(S);else if(h(E))for(S in E)!b.call(E,S)||(d=E[S],this.instruction(S,d));else l(D)&&(D=D.apply()),_=new o(this,E,D),this.children.push(_);return this},v.prototype.instructionBefore=function(E,D){var S,d,_;return d=this.parent.children.indexOf(this),_=this.parent.children.splice(d),S=this.parent.instruction(E,D),Array.prototype.push.apply(this.parent.children,_),this},v.prototype.instructionAfter=function(E,D){var S,d,_;return d=this.parent.children.indexOf(this),_=this.parent.children.splice(d+1),S=this.parent.instruction(E,D),Array.prototype.push.apply(this.parent.children,_),this},v.prototype.declaration=function(E,D,S){var d,_;return d=this.document(),_=new r(d,E,D,S),d.children[0]instanceof r?d.children[0]=_:d.children.unshift(_),d.root()||d},v.prototype.doctype=function(E,D){var S,d,_,R,N,C,T,L,X,M;for(d=this.document(),_=new i(d,E,D),X=d.children,R=N=0,T=X.length;N<T;R=++N)if(S=X[R],S instanceof i)return d.children[R]=_,_;for(M=d.children,R=C=0,L=M.length;C<L;R=++C)if(S=M[R],S.isRoot)return d.children.splice(R,0,_),_;return d.children.push(_),_},v.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},v.prototype.root=function(){var E;for(E=this;E;){if(E.isDocument)return E.rootObject;if(E.isRoot)return E;E=E.parent}},v.prototype.document=function(){var E;for(E=this;E;){if(E.isDocument)return E;E=E.parent}},v.prototype.end=function(E){return this.document().end(E)},v.prototype.prev=function(){var E;if(E=this.parent.children.indexOf(this),E<1)throw new Error("Already at the first node");return this.parent.children[E-1]},v.prototype.next=function(){var E;if(E=this.parent.children.indexOf(this),E===-1||E===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[E+1]},v.prototype.importDocument=function(E){var D;return D=E.root().clone(),D.parent=this,D.isRoot=!1,this.children.push(D),this},v.prototype.ele=function(E,D,S){return this.element(E,D,S)},v.prototype.nod=function(E,D,S){return this.node(E,D,S)},v.prototype.txt=function(E){return this.text(E)},v.prototype.dat=function(E){return this.cdata(E)},v.prototype.com=function(E){return this.comment(E)},v.prototype.ins=function(E,D){return this.instruction(E,D)},v.prototype.doc=function(){return this.document()},v.prototype.dec=function(E,D,S){return this.declaration(E,D,S)},v.prototype.dtd=function(E,D){return this.doctype(E,D)},v.prototype.e=function(E,D,S){return this.element(E,D,S)},v.prototype.n=function(E,D,S){return this.node(E,D,S)},v.prototype.t=function(E){return this.text(E)},v.prototype.d=function(E){return this.cdata(E)},v.prototype.c=function(E){return this.comment(E)},v.prototype.r=function(E){return this.raw(E)},v.prototype.i=function(E,D){return this.instruction(E,D)},v.prototype.u=function(){return this.up()},v.prototype.importXMLBuilder=function(E){return this.importDocument(E)},v}()}).call(Ec)});var Vn=I((_c,wc)=>{(function(){var t,e=function(i,n){return function(){return i.apply(n,arguments)}},r={}.hasOwnProperty;wc.exports=t=function(){function i(n){this.assertLegalChar=e(this.assertLegalChar,this);var s,o,a;n||(n={}),this.noDoubleEncoding=n.noDoubleEncoding,o=n.stringify||{};for(s in o)!r.call(o,s)||(a=o[s],this[s]=a)}return i.prototype.eleName=function(n){return n=""+n||"",this.assertLegalChar(n)},i.prototype.eleText=function(n){return n=""+n||"",this.assertLegalChar(this.elEscape(n))},i.prototype.cdata=function(n){return n=""+n||"",n=n.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(n)},i.prototype.comment=function(n){if(n=""+n||"",n.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+n);return this.assertLegalChar(n)},i.prototype.raw=function(n){return""+n||""},i.prototype.attName=function(n){return n=""+n||""},i.prototype.attValue=function(n){return n=""+n||"",this.attEscape(n)},i.prototype.insTarget=function(n){return""+n||""},i.prototype.insValue=function(n){if(n=""+n||"",n.match(/\?>/))throw new Error("Invalid processing instruction value: "+n);return n},i.prototype.xmlVersion=function(n){if(n=""+n||"",!n.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+n);return n},i.prototype.xmlEncoding=function(n){if(n=""+n||"",!n.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+n);return n},i.prototype.xmlStandalone=function(n){return n?"yes":"no"},i.prototype.dtdPubID=function(n){return""+n||""},i.prototype.dtdSysID=function(n){return""+n||""},i.prototype.dtdElementValue=function(n){return""+n||""},i.prototype.dtdAttType=function(n){return""+n||""},i.prototype.dtdAttDefault=function(n){return n!=null?""+n||"":n},i.prototype.dtdEntityValue=function(n){return""+n||""},i.prototype.dtdNData=function(n){return""+n||""},i.prototype.convertAttKey="@",i.prototype.convertPIKey="?",i.prototype.convertTextKey="#text",i.prototype.convertCDataKey="#cdata",i.prototype.convertCommentKey="#comment",i.prototype.convertRawKey="#raw",i.prototype.assertLegalChar=function(n){var s;if(s=n.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),s)throw new Error("Invalid character in string: "+n+" at index "+s.index);return n},i.prototype.elEscape=function(n){var s;return s=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(s,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},i.prototype.attEscape=function(n){var s;return s=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(s,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},i}()}).call(_c)});var Xn=I((Cc,Tc)=>{(function(){var t,e={}.hasOwnProperty;Tc.exports=t=function(){function r(i){var n,s,o,a,u,c,l,h,g;i||(i={}),this.pretty=i.pretty||!1,this.allowEmpty=(s=i.allowEmpty)!=null?s:!1,this.pretty?(this.indent=(o=i.indent)!=null?o:"  ",this.newline=(a=i.newline)!=null?a:`
`,this.offset=(u=i.offset)!=null?u:0,this.dontprettytextnodes=(c=i.dontprettytextnodes)!=null?c:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(l=i.spacebeforeslash)!=null?l:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,h=i.writer||{};for(n in h)!e.call(h,n)||(g=h[n],this[n]=g)}return r.prototype.set=function(i){var n,s,o;i||(i={}),"pretty"in i&&(this.pretty=i.pretty),"allowEmpty"in i&&(this.allowEmpty=i.allowEmpty),this.pretty?(this.indent="indent"in i?i.indent:"  ",this.newline="newline"in i?i.newline:`
`,this.offset="offset"in i?i.offset:0,this.dontprettytextnodes="dontprettytextnodes"in i?i.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in i?i.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,s=i.writer||{};for(n in s)!e.call(s,n)||(o=s[n],this[n]=o);return this},r.prototype.space=function(i){var n;return this.pretty?(n=(i||0)+this.offset+1,n>0?new Array(n).join(this.indent):""):""},r}()}).call(Cc)});var Ni=I((bc,Ac)=>{(function(){var t,e,r,i,n,s,o,a,u,c,l,h,g,b,v=function(D,S){for(var d in S)E.call(S,d)&&(D[d]=S[d]);function _(){this.constructor=D}return _.prototype=S.prototype,D.prototype=new _,D.__super__=S.prototype,D},E={}.hasOwnProperty;o=Cr(),a=Rr(),t=_r(),e=wr(),u=Sr(),l=Ir(),g=Dr(),c=Nr(),r=Tr(),i=Ar(),n=br(),s=xr(),b=Xn(),Ac.exports=h=function(D){v(S,D);function S(d){S.__super__.constructor.call(this,d)}return S.prototype.document=function(d){var _,R,N,C,T;for(this.textispresent=!1,C="",T=d.children,R=0,N=T.length;R<N;R++)_=T[R],C+=function(){switch(!1){case!(_ instanceof o):return this.declaration(_);case!(_ instanceof a):return this.docType(_);case!(_ instanceof e):return this.comment(_);case!(_ instanceof c):return this.processingInstruction(_);default:return this.element(_,0)}}.call(this);return this.pretty&&C.slice(-this.newline.length)===this.newline&&(C=C.slice(0,-this.newline.length)),C},S.prototype.attribute=function(d){return" "+d.name+'="'+d.value+'"'},S.prototype.cdata=function(d,_){return this.space(_)+"<![CDATA["+d.text+"]]>"+this.newline},S.prototype.comment=function(d,_){return this.space(_)+"<!-- "+d.text+" -->"+this.newline},S.prototype.declaration=function(d,_){var R;return R=this.space(_),R+='<?xml version="'+d.version+'"',d.encoding!=null&&(R+=' encoding="'+d.encoding+'"'),d.standalone!=null&&(R+=' standalone="'+d.standalone+'"'),R+=this.spacebeforeslash+"?>",R+=this.newline,R},S.prototype.docType=function(d,_){var R,N,C,T,L;if(_||(_=0),T=this.space(_),T+="<!DOCTYPE "+d.root().name,d.pubID&&d.sysID?T+=' PUBLIC "'+d.pubID+'" "'+d.sysID+'"':d.sysID&&(T+=' SYSTEM "'+d.sysID+'"'),d.children.length>0){for(T+=" [",T+=this.newline,L=d.children,N=0,C=L.length;N<C;N++)R=L[N],T+=function(){switch(!1){case!(R instanceof r):return this.dtdAttList(R,_+1);case!(R instanceof i):return this.dtdElement(R,_+1);case!(R instanceof n):return this.dtdEntity(R,_+1);case!(R instanceof s):return this.dtdNotation(R,_+1);case!(R instanceof t):return this.cdata(R,_+1);case!(R instanceof e):return this.comment(R,_+1);case!(R instanceof c):return this.processingInstruction(R,_+1);default:throw new Error("Unknown DTD node type: "+R.constructor.name)}}.call(this);T+="]"}return T+=this.spacebeforeslash+">",T+=this.newline,T},S.prototype.element=function(d,_){var R,N,C,T,L,X,M,W,A,ye,fe,Q,Pe;_||(_=0),Pe=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),Q=this.space(_),W="",W+=Q+"<"+d.name,A=d.attributes;for(M in A)!E.call(A,M)||(R=A[M],W+=this.attribute(R));if(d.children.length===0||d.children.every(function(it){return it.value===""}))this.allowEmpty?W+="></"+d.name+">"+this.newline:W+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&d.children.length===1&&d.children[0].value!=null)W+=">",W+=d.children[0].value,W+="</"+d.name+">"+this.newline;else{if(this.dontprettytextnodes){for(ye=d.children,C=0,L=ye.length;C<L;C++)if(N=ye[C],N.value!=null){this.textispresent++,Pe=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,Q=this.space(_)),W+=">"+this.newline,fe=d.children,T=0,X=fe.length;T<X;T++)N=fe[T],W+=function(){switch(!1){case!(N instanceof t):return this.cdata(N,_+1);case!(N instanceof e):return this.comment(N,_+1);case!(N instanceof u):return this.element(N,_+1);case!(N instanceof l):return this.raw(N,_+1);case!(N instanceof g):return this.text(N,_+1);case!(N instanceof c):return this.processingInstruction(N,_+1);default:throw new Error("Unknown XML node type: "+N.constructor.name)}}.call(this);Pe&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),W+=Q+"</"+d.name+">"+this.newline}return W},S.prototype.processingInstruction=function(d,_){var R;return R=this.space(_)+"<?"+d.target,d.value&&(R+=" "+d.value),R+=this.spacebeforeslash+"?>"+this.newline,R},S.prototype.raw=function(d,_){return this.space(_)+d.value+this.newline},S.prototype.text=function(d,_){return this.space(_)+d.value+this.newline},S.prototype.dtdAttList=function(d,_){var R;return R=this.space(_)+"<!ATTLIST "+d.elementName+" "+d.attributeName+" "+d.attributeType,d.defaultValueType!=="#DEFAULT"&&(R+=" "+d.defaultValueType),d.defaultValue&&(R+=' "'+d.defaultValue+'"'),R+=this.spacebeforeslash+">"+this.newline,R},S.prototype.dtdElement=function(d,_){return this.space(_)+"<!ELEMENT "+d.name+" "+d.value+this.spacebeforeslash+">"+this.newline},S.prototype.dtdEntity=function(d,_){var R;return R=this.space(_)+"<!ENTITY",d.pe&&(R+=" %"),R+=" "+d.name,d.value?R+=' "'+d.value+'"':(d.pubID&&d.sysID?R+=' PUBLIC "'+d.pubID+'" "'+d.sysID+'"':d.sysID&&(R+=' SYSTEM "'+d.sysID+'"'),d.nData&&(R+=" NDATA "+d.nData)),R+=this.spacebeforeslash+">"+this.newline,R},S.prototype.dtdNotation=function(d,_){var R;return R=this.space(_)+"<!NOTATION "+d.name,d.pubID&&d.sysID?R+=' PUBLIC "'+d.pubID+'" "'+d.sysID+'"':d.pubID?R+=' PUBLIC "'+d.pubID+'"':d.sysID&&(R+=' SYSTEM "'+d.sysID+'"'),R+=this.spacebeforeslash+">"+this.newline,R},S.prototype.openNode=function(d,_){var R,N,C,T;if(_||(_=0),d instanceof u){C=this.space(_)+"<"+d.name,T=d.attributes;for(N in T)!E.call(T,N)||(R=T[N],C+=this.attribute(R));return C+=(d.children?">":"/>")+this.newline,C}else return C=this.space(_)+"<!DOCTYPE "+d.rootNodeName,d.pubID&&d.sysID?C+=' PUBLIC "'+d.pubID+'" "'+d.sysID+'"':d.sysID&&(C+=' SYSTEM "'+d.sysID+'"'),C+=(d.children?" [":">")+this.newline,C},S.prototype.closeNode=function(d,_){switch(_||(_=0),!1){case!(d instanceof u):return this.space(_)+"</"+d.name+">"+this.newline;case!(d instanceof a):return this.space(_)+"]>"+this.newline}},S}(b)}).call(bc)});var Ic=I((xc,Rc)=>{(function(){var t,e,r,i,n,s=function(a,u){for(var c in u)o.call(u,c)&&(a[c]=u[c]);function l(){this.constructor=a}return l.prototype=u.prototype,a.prototype=new l,a.__super__=u.prototype,a},o={}.hasOwnProperty;n=yt().isPlainObject,e=Ne(),i=Vn(),r=Ni(),Rc.exports=t=function(a){s(u,a);function u(c){u.__super__.constructor.call(this,null),c||(c={}),c.writer||(c.writer=new r),this.options=c,this.stringify=new i(c),this.isDocument=!0}return u.prototype.end=function(c){var l;return c?n(c)&&(l=c,c=this.options.writer.set(l)):c=this.options.writer,c.document(this)},u.prototype.toString=function(c){return this.options.writer.set(c).document(this)},u}(e)}).call(xc)});var Pc=I((Dc,Nc)=>{(function(){var t,e,r,i,n,s,o,a,u,c,l,h,g,b,v,E,D,S,d,_,R={}.hasOwnProperty;_=yt(),S=_.isObject,D=_.isFunction,d=_.isPlainObject,l=Sr(),e=_r(),r=wr(),g=Ir(),E=Dr(),h=Nr(),a=Cr(),u=Rr(),i=Tr(),s=br(),n=Ar(),o=xr(),t=jn(),v=Vn(),b=Ni(),Nc.exports=c=function(){function N(C,T,L){var X;C||(C={}),C.writer?d(C.writer)&&(X=C.writer,C.writer=new b(X)):C.writer=new b(C),this.options=C,this.writer=C.writer,this.stringify=new v(C),this.onDataCallback=T||function(){},this.onEndCallback=L||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return N.prototype.node=function(C,T,L){var X;if(C==null)throw new Error("Missing node name");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node");return this.openCurrent(),C=C.valueOf(),T==null&&(T={}),T=T.valueOf(),S(T)||(X=[T,L],L=X[0],T=X[1]),this.currentNode=new l(this,C,T),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,L!=null&&this.text(L),this},N.prototype.element=function(C,T,L){return this.currentNode&&this.currentNode instanceof u?this.dtdElement.apply(this,arguments):this.node(C,T,L)},N.prototype.attribute=function(C,T){var L,X;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(C!=null&&(C=C.valueOf()),S(C))for(L in C)!R.call(C,L)||(X=C[L],this.attribute(L,X));else D(T)&&(T=T.apply()),(!this.options.skipNullAttributes||T!=null)&&(this.currentNode.attributes[C]=new t(this,C,T));return this},N.prototype.text=function(C){var T;return this.openCurrent(),T=new E(this,C),this.onData(this.writer.text(T,this.currentLevel+1)),this},N.prototype.cdata=function(C){var T;return this.openCurrent(),T=new e(this,C),this.onData(this.writer.cdata(T,this.currentLevel+1)),this},N.prototype.comment=function(C){var T;return this.openCurrent(),T=new r(this,C),this.onData(this.writer.comment(T,this.currentLevel+1)),this},N.prototype.raw=function(C){var T;return this.openCurrent(),T=new g(this,C),this.onData(this.writer.raw(T,this.currentLevel+1)),this},N.prototype.instruction=function(C,T){var L,X,M,W,A;if(this.openCurrent(),C!=null&&(C=C.valueOf()),T!=null&&(T=T.valueOf()),Array.isArray(C))for(L=0,W=C.length;L<W;L++)X=C[L],this.instruction(X);else if(S(C))for(X in C)!R.call(C,X)||(M=C[X],this.instruction(X,M));else D(T)&&(T=T.apply()),A=new h(this,C,T),this.onData(this.writer.processingInstruction(A,this.currentLevel+1));return this},N.prototype.declaration=function(C,T,L){var X;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return X=new a(this,C,T,L),this.onData(this.writer.declaration(X,this.currentLevel+1)),this},N.prototype.doctype=function(C,T,L){if(this.openCurrent(),C==null)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new u(this,T,L),this.currentNode.rootNodeName=C,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},N.prototype.dtdElement=function(C,T){var L;return this.openCurrent(),L=new n(this,C,T),this.onData(this.writer.dtdElement(L,this.currentLevel+1)),this},N.prototype.attList=function(C,T,L,X,M){var W;return this.openCurrent(),W=new i(this,C,T,L,X,M),this.onData(this.writer.dtdAttList(W,this.currentLevel+1)),this},N.prototype.entity=function(C,T){var L;return this.openCurrent(),L=new s(this,!1,C,T),this.onData(this.writer.dtdEntity(L,this.currentLevel+1)),this},N.prototype.pEntity=function(C,T){var L;return this.openCurrent(),L=new s(this,!0,C,T),this.onData(this.writer.dtdEntity(L,this.currentLevel+1)),this},N.prototype.notation=function(C,T){var L;return this.openCurrent(),L=new o(this,C,T),this.onData(this.writer.dtdNotation(L,this.currentLevel+1)),this},N.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},N.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},N.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},N.prototype.openNode=function(C){if(!C.isOpen)return!this.root&&this.currentLevel===0&&C instanceof l&&(this.root=C),this.onData(this.writer.openNode(C,this.currentLevel)),C.isOpen=!0},N.prototype.closeNode=function(C){if(!C.isClosed)return this.onData(this.writer.closeNode(C,this.currentLevel)),C.isClosed=!0},N.prototype.onData=function(C){return this.documentStarted=!0,this.onDataCallback(C)},N.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},N.prototype.ele=function(){return this.element.apply(this,arguments)},N.prototype.nod=function(C,T,L){return this.node(C,T,L)},N.prototype.txt=function(C){return this.text(C)},N.prototype.dat=function(C){return this.cdata(C)},N.prototype.com=function(C){return this.comment(C)},N.prototype.ins=function(C,T){return this.instruction(C,T)},N.prototype.dec=function(C,T,L){return this.declaration(C,T,L)},N.prototype.dtd=function(C,T,L){return this.doctype(C,T,L)},N.prototype.e=function(C,T,L){return this.element(C,T,L)},N.prototype.n=function(C,T,L){return this.node(C,T,L)},N.prototype.t=function(C){return this.text(C)},N.prototype.d=function(C){return this.cdata(C)},N.prototype.c=function(C){return this.comment(C)},N.prototype.r=function(C){return this.raw(C)},N.prototype.i=function(C,T){return this.instruction(C,T)},N.prototype.att=function(){return this.currentNode&&this.currentNode instanceof u?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},N.prototype.a=function(){return this.currentNode&&this.currentNode instanceof u?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},N.prototype.ent=function(C,T){return this.entity(C,T)},N.prototype.pent=function(C,T){return this.pEntity(C,T)},N.prototype.not=function(C,T){return this.notation(C,T)},N}()}).call(Dc)});var Lc=I((qc,Oc)=>{(function(){var t,e,r,i,n,s,o,a,u,c,l,h,g,b,v=function(D,S){for(var d in S)E.call(S,d)&&(D[d]=S[d]);function _(){this.constructor=D}return _.prototype=S.prototype,D.prototype=new _,D.__super__=S.prototype,D},E={}.hasOwnProperty;o=Cr(),a=Rr(),t=_r(),e=wr(),u=Sr(),l=Ir(),g=Dr(),c=Nr(),r=Tr(),i=Ar(),n=br(),s=xr(),b=Xn(),Oc.exports=h=function(D){v(S,D);function S(d,_){S.__super__.constructor.call(this,_),this.stream=d}return S.prototype.document=function(d){var _,R,N,C,T,L,X,M;for(L=d.children,R=0,C=L.length;R<C;R++)_=L[R],_.isLastRootNode=!1;for(d.children[d.children.length-1].isLastRootNode=!0,X=d.children,M=[],N=0,T=X.length;N<T;N++)switch(_=X[N],!1){case!(_ instanceof o):M.push(this.declaration(_));break;case!(_ instanceof a):M.push(this.docType(_));break;case!(_ instanceof e):M.push(this.comment(_));break;case!(_ instanceof c):M.push(this.processingInstruction(_));break;default:M.push(this.element(_))}return M},S.prototype.attribute=function(d){return this.stream.write(" "+d.name+'="'+d.value+'"')},S.prototype.cdata=function(d,_){return this.stream.write(this.space(_)+"<![CDATA["+d.text+"]]>"+this.endline(d))},S.prototype.comment=function(d,_){return this.stream.write(this.space(_)+"<!-- "+d.text+" -->"+this.endline(d))},S.prototype.declaration=function(d,_){return this.stream.write(this.space(_)),this.stream.write('<?xml version="'+d.version+'"'),d.encoding!=null&&this.stream.write(' encoding="'+d.encoding+'"'),d.standalone!=null&&this.stream.write(' standalone="'+d.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(d))},S.prototype.docType=function(d,_){var R,N,C,T;if(_||(_=0),this.stream.write(this.space(_)),this.stream.write("<!DOCTYPE "+d.root().name),d.pubID&&d.sysID?this.stream.write(' PUBLIC "'+d.pubID+'" "'+d.sysID+'"'):d.sysID&&this.stream.write(' SYSTEM "'+d.sysID+'"'),d.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(d)),T=d.children,N=0,C=T.length;N<C;N++)switch(R=T[N],!1){case!(R instanceof r):this.dtdAttList(R,_+1);break;case!(R instanceof i):this.dtdElement(R,_+1);break;case!(R instanceof n):this.dtdEntity(R,_+1);break;case!(R instanceof s):this.dtdNotation(R,_+1);break;case!(R instanceof t):this.cdata(R,_+1);break;case!(R instanceof e):this.comment(R,_+1);break;case!(R instanceof c):this.processingInstruction(R,_+1);break;default:throw new Error("Unknown DTD node type: "+R.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(d))},S.prototype.element=function(d,_){var R,N,C,T,L,X,M,W;_||(_=0),W=this.space(_),this.stream.write(W+"<"+d.name),X=d.attributes;for(L in X)!E.call(X,L)||(R=X[L],this.attribute(R));if(d.children.length===0||d.children.every(function(A){return A.value===""}))this.allowEmpty?this.stream.write("></"+d.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&d.children.length===1&&d.children[0].value!=null)this.stream.write(">"),this.stream.write(d.children[0].value),this.stream.write("</"+d.name+">");else{for(this.stream.write(">"+this.newline),M=d.children,C=0,T=M.length;C<T;C++)switch(N=M[C],!1){case!(N instanceof t):this.cdata(N,_+1);break;case!(N instanceof e):this.comment(N,_+1);break;case!(N instanceof u):this.element(N,_+1);break;case!(N instanceof l):this.raw(N,_+1);break;case!(N instanceof g):this.text(N,_+1);break;case!(N instanceof c):this.processingInstruction(N,_+1);break;default:throw new Error("Unknown XML node type: "+N.constructor.name)}this.stream.write(W+"</"+d.name+">")}return this.stream.write(this.endline(d))},S.prototype.processingInstruction=function(d,_){return this.stream.write(this.space(_)+"<?"+d.target),d.value&&this.stream.write(" "+d.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(d))},S.prototype.raw=function(d,_){return this.stream.write(this.space(_)+d.value+this.endline(d))},S.prototype.text=function(d,_){return this.stream.write(this.space(_)+d.value+this.endline(d))},S.prototype.dtdAttList=function(d,_){return this.stream.write(this.space(_)+"<!ATTLIST "+d.elementName+" "+d.attributeName+" "+d.attributeType),d.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+d.defaultValueType),d.defaultValue&&this.stream.write(' "'+d.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(d))},S.prototype.dtdElement=function(d,_){return this.stream.write(this.space(_)+"<!ELEMENT "+d.name+" "+d.value),this.stream.write(this.spacebeforeslash+">"+this.endline(d))},S.prototype.dtdEntity=function(d,_){return this.stream.write(this.space(_)+"<!ENTITY"),d.pe&&this.stream.write(" %"),this.stream.write(" "+d.name),d.value?this.stream.write(' "'+d.value+'"'):(d.pubID&&d.sysID?this.stream.write(' PUBLIC "'+d.pubID+'" "'+d.sysID+'"'):d.sysID&&this.stream.write(' SYSTEM "'+d.sysID+'"'),d.nData&&this.stream.write(" NDATA "+d.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(d))},S.prototype.dtdNotation=function(d,_){return this.stream.write(this.space(_)+"<!NOTATION "+d.name),d.pubID&&d.sysID?this.stream.write(' PUBLIC "'+d.pubID+'" "'+d.sysID+'"'):d.pubID?this.stream.write(' PUBLIC "'+d.pubID+'"'):d.sysID&&this.stream.write(' SYSTEM "'+d.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(d))},S.prototype.endline=function(d){return d.isLastRootNode?"":this.newline},S}(b)}).call(qc)});var Mc=I((kc,Pr)=>{(function(){var t,e,r,i,n,s,o;o=yt(),n=o.assign,s=o.isFunction,t=Ic(),e=Pc(),i=Ni(),r=Lc(),Pr.exports.create=function(a,u,c,l){var h,g;if(a==null)throw new Error("Root element needs a name");return l=n({},u,c,l),h=new t(l),g=h.element(a),l.headless||(h.declaration(l),(l.pubID!=null||l.sysID!=null)&&h.doctype(l)),g},Pr.exports.begin=function(a,u,c){var l;return s(a)&&(l=[a,u],u=l[0],c=l[1],a={}),u?new e(a,u,c):new t(a)},Pr.exports.stringWriter=function(a){return new i(a)},Pr.exports.streamWriter=function(a,u){return new r(a,u)}}).call(kc)});var Fc=I(Wn=>{(function(){"use strict";var t,e,r,i,n,s={}.hasOwnProperty;t=Mc(),e=Di().defaults,i=function(o){return typeof o=="string"&&(o.indexOf("&")>=0||o.indexOf(">")>=0||o.indexOf("<")>=0)},n=function(o){return"<![CDATA["+r(o)+"]]>"},r=function(o){return o.replace("]]>","]]]]><![CDATA[>")},Wn.Builder=function(){function o(a){var u,c,l;this.options={},c=e["0.2"];for(u in c)!s.call(c,u)||(l=c[u],this.options[u]=l);for(u in a)!s.call(a,u)||(l=a[u],this.options[u]=l)}return o.prototype.buildObject=function(a){var u,c,l,h,g;return u=this.options.attrkey,c=this.options.charkey,Object.keys(a).length===1&&this.options.rootName===e["0.2"].rootName?(g=Object.keys(a)[0],a=a[g]):g=this.options.rootName,l=function(b){return function(v,E){var D,S,d,_,R,N;if(typeof E!="object")b.options.cdata&&i(E)?v.raw(n(E)):v.txt(E);else if(Array.isArray(E)){for(_ in E)if(!!s.call(E,_)){S=E[_];for(R in S)d=S[R],v=l(v.ele(R),d).up()}}else for(R in E)if(!!s.call(E,R))if(S=E[R],R===u){if(typeof S=="object")for(D in S)N=S[D],v=v.att(D,N)}else if(R===c)b.options.cdata&&i(S)?v=v.raw(n(S)):v=v.txt(S);else if(Array.isArray(S))for(_ in S)!s.call(S,_)||(d=S[_],typeof d=="string"?b.options.cdata&&i(d)?v=v.ele(R).raw(n(d)).up():v=v.ele(R,d).up():v=l(v.ele(R),d).up());else typeof S=="object"?v=l(v.ele(R),S).up():typeof S=="string"&&b.options.cdata&&i(S)?v=v.ele(R).raw(n(S)).up():(S==null&&(S=""),v=v.ele(R,S.toString()).up());return v}}(this),h=t.create(g,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),l(h,a).end(this.options.renderOpts)},o}()}).call(Wn)});var Bc=I(Pi=>{(function(t){t.parser=function(m,f){return new r(m,f)},t.SAXParser=r,t.SAXStream=c,t.createStream=u,t.MAX_BUFFER_LENGTH=64*1024;var e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(m,f){if(!(this instanceof r))return new r(m,f);var q=this;n(q),q.q=q.c="",q.bufferCheckPosition=t.MAX_BUFFER_LENGTH,q.opt=f||{},q.opt.lowercase=q.opt.lowercase||q.opt.lowercasetags,q.looseCase=q.opt.lowercase?"toLowerCase":"toUpperCase",q.tags=[],q.closed=q.closedRoot=q.sawRoot=!1,q.tag=q.error=null,q.strict=!!m,q.noscript=!!(m||q.opt.noscript),q.state=A.BEGIN,q.strictEntities=q.opt.strictEntities,q.ENTITIES=q.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),q.attribList=[],q.opt.xmlns&&(q.ns=Object.create(_)),q.trackPosition=q.opt.position!==!1,q.trackPosition&&(q.position=q.line=q.column=0),fe(q,"onready")}Object.create||(Object.create=function(m){function f(){}f.prototype=m;var q=new f;return q}),Object.keys||(Object.keys=function(m){var f=[];for(var q in m)m.hasOwnProperty(q)&&f.push(q);return f});function i(m){for(var f=Math.max(t.MAX_BUFFER_LENGTH,10),q=0,x=0,J=e.length;x<J;x++){var ae=m[e[x]].length;if(ae>f)switch(e[x]){case"textNode":Pe(m);break;case"cdata":Q(m,"oncdata",m.cdata),m.cdata="";break;case"script":Q(m,"onscript",m.script),m.script="";break;default:nt(m,"Max buffer length exceeded: "+e[x])}q=Math.max(q,ae)}var ue=t.MAX_BUFFER_LENGTH-q;m.bufferCheckPosition=ue+m.position}function n(m){for(var f=0,q=e.length;f<q;f++)m[e[f]]=""}function s(m){Pe(m),m.cdata!==""&&(Q(m,"oncdata",m.cdata),m.cdata=""),m.script!==""&&(Q(m,"onscript",m.script),m.script="")}r.prototype={end:function(){xt(this)},write:ot,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var o;try{o=require("stream").Stream}catch(m){o=function(){}}var a=t.EVENTS.filter(function(m){return m!=="error"&&m!=="end"});function u(m,f){return new c(m,f)}function c(m,f){if(!(this instanceof c))return new c(m,f);o.apply(this),this._parser=new r(m,f),this.writable=!0,this.readable=!0;var q=this;this._parser.onend=function(){q.emit("end")},this._parser.onerror=function(x){q.emit("error",x),q._parser.error=null},this._decoder=null,a.forEach(function(x){Object.defineProperty(q,"on"+x,{get:function(){return q._parser["on"+x]},set:function(J){if(!J)return q.removeAllListeners(x),q._parser["on"+x]=J,J;q.on(x,J)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(o.prototype,{constructor:{value:c}}),c.prototype.write=function(m){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(m)){if(!this._decoder){var f=require("string_decoder").StringDecoder;this._decoder=new f("utf8")}m=this._decoder.write(m)}return this._parser.write(m.toString()),this.emit("data",m),!0},c.prototype.end=function(m){return m&&m.length&&this.write(m),this._parser.end(),!0},c.prototype.on=function(m,f){var q=this;return!q._parser["on"+m]&&a.indexOf(m)!==-1&&(q._parser["on"+m]=function(){var x=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);x.splice(0,0,m),q.emit.apply(q,x)}),o.prototype.on.call(q,m,f)};var l=`\r
	 `,h="0124356789",g="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",b=`'"`,v=l+">",E="[CDATA[",D="DOCTYPE",S="http://www.w3.org/XML/1998/namespace",d="http://www.w3.org/2000/xmlns/",_={xml:S,xmlns:d};l=L(l),h=L(h),g=L(g);var R=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,N=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,C=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;b=L(b),v=L(v);function L(m){return m.split("").reduce(function(f,q){return f[q]=!0,f},{})}function X(m){return Object.prototype.toString.call(m)==="[object RegExp]"}function M(m,f){return X(m)?!!f.match(m):m[f]}function W(m,f){return!M(m,f)}var A=0;t.STATE={BEGIN:A++,BEGIN_WHITESPACE:A++,TEXT:A++,TEXT_ENTITY:A++,OPEN_WAKA:A++,SGML_DECL:A++,SGML_DECL_QUOTED:A++,DOCTYPE:A++,DOCTYPE_QUOTED:A++,DOCTYPE_DTD:A++,DOCTYPE_DTD_QUOTED:A++,COMMENT_STARTING:A++,COMMENT:A++,COMMENT_ENDING:A++,COMMENT_ENDED:A++,CDATA:A++,CDATA_ENDING:A++,CDATA_ENDING_2:A++,PROC_INST:A++,PROC_INST_BODY:A++,PROC_INST_ENDING:A++,OPEN_TAG:A++,OPEN_TAG_SLASH:A++,ATTRIB:A++,ATTRIB_NAME:A++,ATTRIB_NAME_SAW_WHITE:A++,ATTRIB_VALUE:A++,ATTRIB_VALUE_QUOTED:A++,ATTRIB_VALUE_CLOSED:A++,ATTRIB_VALUE_UNQUOTED:A++,ATTRIB_VALUE_ENTITY_Q:A++,ATTRIB_VALUE_ENTITY_U:A++,CLOSE_TAG:A++,CLOSE_TAG_SAW_WHITE:A++,SCRIPT:A++,SCRIPT_ENDING:A++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(m){var f=t.ENTITIES[m],q=typeof f=="number"?String.fromCharCode(f):f;t.ENTITIES[m]=q});for(var ye in t.STATE)t.STATE[t.STATE[ye]]=ye;A=t.STATE;function fe(m,f,q){m[f]&&m[f](q)}function Q(m,f,q){m.textNode&&Pe(m),fe(m,f,q)}function Pe(m){m.textNode=it(m.opt,m.textNode),m.textNode&&fe(m,"ontext",m.textNode),m.textNode=""}function it(m,f){return m.trim&&(f=f.trim()),m.normalize&&(f=f.replace(/\s+/g," ")),f}function nt(m,f){return Pe(m),m.trackPosition&&(f+=`
Line: `+m.line+`
Column: `+m.column+`
Char: `+m.c),f=new Error(f),m.error=f,fe(m,"onerror",f),m}function xt(m){return m.sawRoot&&!m.closedRoot&&$(m,"Unclosed root tag"),m.state!==A.BEGIN&&m.state!==A.BEGIN_WHITESPACE&&m.state!==A.TEXT&&nt(m,"Unexpected end"),Pe(m),m.c="",m.closed=!0,fe(m,"onend"),r.call(m,m.strict,m.opt),m}function $(m,f){if(typeof m!="object"||!(m instanceof r))throw new Error("bad call to strictFail");m.strict&&nt(m,f)}function jt(m){m.strict||(m.tagName=m.tagName[m.looseCase]());var f=m.tags[m.tags.length-1]||m,q=m.tag={name:m.tagName,attributes:{}};m.opt.xmlns&&(q.ns=f.ns),m.attribList.length=0,Q(m,"onopentagstart",q)}function gt(m,f){var q=m.indexOf(":"),x=q<0?["",m]:m.split(":"),J=x[0],ae=x[1];return f&&m==="xmlns"&&(J="xmlns",ae=""),{prefix:J,local:ae}}function ke(m){if(m.strict||(m.attribName=m.attribName[m.looseCase]()),m.attribList.indexOf(m.attribName)!==-1||m.tag.attributes.hasOwnProperty(m.attribName)){m.attribName=m.attribValue="";return}if(m.opt.xmlns){var f=gt(m.attribName,!0),q=f.prefix,x=f.local;if(q==="xmlns")if(x==="xml"&&m.attribValue!==S)$(m,"xml: prefix must be bound to "+S+`
Actual: `+m.attribValue);else if(x==="xmlns"&&m.attribValue!==d)$(m,"xmlns: prefix must be bound to "+d+`
Actual: `+m.attribValue);else{var J=m.tag,ae=m.tags[m.tags.length-1]||m;J.ns===ae.ns&&(J.ns=Object.create(ae.ns)),J.ns[x]=m.attribValue}m.attribList.push([m.attribName,m.attribValue])}else m.tag.attributes[m.attribName]=m.attribValue,Q(m,"onattribute",{name:m.attribName,value:m.attribValue});m.attribName=m.attribValue=""}function Ce(m,f){if(m.opt.xmlns){var q=m.tag,x=gt(m.tagName);q.prefix=x.prefix,q.local=x.local,q.uri=q.ns[x.prefix]||"",q.prefix&&!q.uri&&($(m,"Unbound namespace prefix: "+JSON.stringify(m.tagName)),q.uri=x.prefix);var J=m.tags[m.tags.length-1]||m;q.ns&&J.ns!==q.ns&&Object.keys(q.ns).forEach(function(Mr){Q(m,"onopennamespace",{prefix:Mr,uri:q.ns[Mr]})});for(var ae=0,ue=m.attribList.length;ae<ue;ae++){var we=m.attribList[ae],xe=we[0],H=we[1],ce=gt(xe,!0),Me=ce.prefix,Lr=ce.local,kr=Me===""?"":q.ns[Me]||"",Zt={name:xe,value:H,prefix:Me,local:Lr,uri:kr};Me&&Me!=="xmlns"&&!kr&&($(m,"Unbound namespace prefix: "+JSON.stringify(Me)),Zt.uri=Me),m.tag.attributes[xe]=Zt,Q(m,"onattribute",Zt)}m.attribList.length=0}m.tag.isSelfClosing=!!f,m.sawRoot=!0,m.tags.push(m.tag),Q(m,"onopentag",m.tag),f||(!m.noscript&&m.tagName.toLowerCase()==="script"?m.state=A.SCRIPT:m.state=A.TEXT,m.tag=null,m.tagName=""),m.attribName=m.attribValue="",m.attribList.length=0}function st(m){if(!m.tagName){$(m,"Weird empty close tag."),m.textNode+="</>",m.state=A.TEXT;return}if(m.script){if(m.tagName!=="script"){m.script+="</"+m.tagName+">",m.tagName="",m.state=A.SCRIPT;return}Q(m,"onscript",m.script),m.script=""}var f=m.tags.length,q=m.tagName;m.strict||(q=q[m.looseCase]());for(var x=q;f--;){var J=m.tags[f];if(J.name!==x)$(m,"Unexpected close tag");else break}if(f<0){$(m,"Unmatched closing tag: "+m.tagName),m.textNode+="</"+m.tagName+">",m.state=A.TEXT;return}m.tagName=q;for(var ae=m.tags.length;ae-- >f;){var ue=m.tag=m.tags.pop();m.tagName=m.tag.name,Q(m,"onclosetag",m.tagName);var we={};for(var xe in ue.ns)we[xe]=ue.ns[xe];var H=m.tags[m.tags.length-1]||m;m.opt.xmlns&&ue.ns!==H.ns&&Object.keys(ue.ns).forEach(function(ce){var Me=ue.ns[ce];Q(m,"onclosenamespace",{prefix:ce,uri:Me})})}f===0&&(m.closedRoot=!0),m.tagName=m.attribValue=m.attribName="",m.attribList.length=0,m.state=A.TEXT}function Rt(m){var f=m.entity,q=f.toLowerCase(),x,J="";return m.ENTITIES[f]?m.ENTITIES[f]:m.ENTITIES[q]?m.ENTITIES[q]:(f=q,f.charAt(0)==="#"&&(f.charAt(1)==="x"?(f=f.slice(2),x=parseInt(f,16),J=x.toString(16)):(f=f.slice(1),x=parseInt(f,10),J=x.toString(10))),f=f.replace(/^0+/,""),J.toLowerCase()!==f?($(m,"Invalid character entity"),"&"+m.entity+";"):String.fromCodePoint(x))}function Vt(m,f){f==="<"?(m.state=A.OPEN_WAKA,m.startTagPosition=m.position):W(l,f)&&($(m,"Non-whitespace before first tag."),m.textNode=f,m.state=A.TEXT)}function Et(m,f){var q="";return f<m.length&&(q=m.charAt(f)),q}function ot(m){var f=this;if(this.error)throw this.error;if(f.closed)return nt(f,"Cannot write after close. Assign an onready handler.");if(m===null)return xt(f);typeof m=="object"&&(m=m.toString());for(var q=0,x="";x=Et(m,q++),f.c=x,!!x;)switch(f.trackPosition&&(f.position++,x===`
`?(f.line++,f.column=0):f.column++),f.state){case A.BEGIN:if(f.state=A.BEGIN_WHITESPACE,x==="\uFEFF")continue;Vt(f,x);continue;case A.BEGIN_WHITESPACE:Vt(f,x);continue;case A.TEXT:if(f.sawRoot&&!f.closedRoot){for(var J=q-1;x&&x!=="<"&&x!=="&";)x=Et(m,q++),x&&f.trackPosition&&(f.position++,x===`
`?(f.line++,f.column=0):f.column++);f.textNode+=m.substring(J,q-1)}x==="<"&&!(f.sawRoot&&f.closedRoot&&!f.strict)?(f.state=A.OPEN_WAKA,f.startTagPosition=f.position):(W(l,x)&&(!f.sawRoot||f.closedRoot)&&$(f,"Text data outside of root node."),x==="&"?f.state=A.TEXT_ENTITY:f.textNode+=x);continue;case A.SCRIPT:x==="<"?f.state=A.SCRIPT_ENDING:f.script+=x;continue;case A.SCRIPT_ENDING:x==="/"?f.state=A.CLOSE_TAG:(f.script+="<"+x,f.state=A.SCRIPT);continue;case A.OPEN_WAKA:if(x==="!")f.state=A.SGML_DECL,f.sgmlDecl="";else if(!M(l,x))if(M(R,x))f.state=A.OPEN_TAG,f.tagName=x;else if(x==="/")f.state=A.CLOSE_TAG,f.tagName="";else if(x==="?")f.state=A.PROC_INST,f.procInstName=f.procInstBody="";else{if($(f,"Unencoded <"),f.startTagPosition+1<f.position){var ae=f.position-f.startTagPosition;x=new Array(ae).join(" ")+x}f.textNode+="<"+x,f.state=A.TEXT}continue;case A.SGML_DECL:(f.sgmlDecl+x).toUpperCase()===E?(Q(f,"onopencdata"),f.state=A.CDATA,f.sgmlDecl="",f.cdata=""):f.sgmlDecl+x==="--"?(f.state=A.COMMENT,f.comment="",f.sgmlDecl=""):(f.sgmlDecl+x).toUpperCase()===D?(f.state=A.DOCTYPE,(f.doctype||f.sawRoot)&&$(f,"Inappropriately located doctype declaration"),f.doctype="",f.sgmlDecl=""):x===">"?(Q(f,"onsgmldeclaration",f.sgmlDecl),f.sgmlDecl="",f.state=A.TEXT):(M(b,x)&&(f.state=A.SGML_DECL_QUOTED),f.sgmlDecl+=x);continue;case A.SGML_DECL_QUOTED:x===f.q&&(f.state=A.SGML_DECL,f.q=""),f.sgmlDecl+=x;continue;case A.DOCTYPE:x===">"?(f.state=A.TEXT,Q(f,"ondoctype",f.doctype),f.doctype=!0):(f.doctype+=x,x==="["?f.state=A.DOCTYPE_DTD:M(b,x)&&(f.state=A.DOCTYPE_QUOTED,f.q=x));continue;case A.DOCTYPE_QUOTED:f.doctype+=x,x===f.q&&(f.q="",f.state=A.DOCTYPE);continue;case A.DOCTYPE_DTD:f.doctype+=x,x==="]"?f.state=A.DOCTYPE:M(b,x)&&(f.state=A.DOCTYPE_DTD_QUOTED,f.q=x);continue;case A.DOCTYPE_DTD_QUOTED:f.doctype+=x,x===f.q&&(f.state=A.DOCTYPE_DTD,f.q="");continue;case A.COMMENT:x==="-"?f.state=A.COMMENT_ENDING:f.comment+=x;continue;case A.COMMENT_ENDING:x==="-"?(f.state=A.COMMENT_ENDED,f.comment=it(f.opt,f.comment),f.comment&&Q(f,"oncomment",f.comment),f.comment=""):(f.comment+="-"+x,f.state=A.COMMENT);continue;case A.COMMENT_ENDED:x!==">"?($(f,"Malformed comment"),f.comment+="--"+x,f.state=A.COMMENT):f.state=A.TEXT;continue;case A.CDATA:x==="]"?f.state=A.CDATA_ENDING:f.cdata+=x;continue;case A.CDATA_ENDING:x==="]"?f.state=A.CDATA_ENDING_2:(f.cdata+="]"+x,f.state=A.CDATA);continue;case A.CDATA_ENDING_2:x===">"?(f.cdata&&Q(f,"oncdata",f.cdata),Q(f,"onclosecdata"),f.cdata="",f.state=A.TEXT):x==="]"?f.cdata+="]":(f.cdata+="]]"+x,f.state=A.CDATA);continue;case A.PROC_INST:x==="?"?f.state=A.PROC_INST_ENDING:M(l,x)?f.state=A.PROC_INST_BODY:f.procInstName+=x;continue;case A.PROC_INST_BODY:if(!f.procInstBody&&M(l,x))continue;x==="?"?f.state=A.PROC_INST_ENDING:f.procInstBody+=x;continue;case A.PROC_INST_ENDING:x===">"?(Q(f,"onprocessinginstruction",{name:f.procInstName,body:f.procInstBody}),f.procInstName=f.procInstBody="",f.state=A.TEXT):(f.procInstBody+="?"+x,f.state=A.PROC_INST_BODY);continue;case A.OPEN_TAG:M(N,x)?f.tagName+=x:(jt(f),x===">"?Ce(f):x==="/"?f.state=A.OPEN_TAG_SLASH:(W(l,x)&&$(f,"Invalid character in tag name"),f.state=A.ATTRIB));continue;case A.OPEN_TAG_SLASH:x===">"?(Ce(f,!0),st(f)):($(f,"Forward-slash in opening tag not followed by >"),f.state=A.ATTRIB);continue;case A.ATTRIB:if(M(l,x))continue;x===">"?Ce(f):x==="/"?f.state=A.OPEN_TAG_SLASH:M(R,x)?(f.attribName=x,f.attribValue="",f.state=A.ATTRIB_NAME):$(f,"Invalid attribute name");continue;case A.ATTRIB_NAME:x==="="?f.state=A.ATTRIB_VALUE:x===">"?($(f,"Attribute without value"),f.attribValue=f.attribName,ke(f),Ce(f)):M(l,x)?f.state=A.ATTRIB_NAME_SAW_WHITE:M(N,x)?f.attribName+=x:$(f,"Invalid attribute name");continue;case A.ATTRIB_NAME_SAW_WHITE:if(x==="=")f.state=A.ATTRIB_VALUE;else{if(M(l,x))continue;$(f,"Attribute without value"),f.tag.attributes[f.attribName]="",f.attribValue="",Q(f,"onattribute",{name:f.attribName,value:""}),f.attribName="",x===">"?Ce(f):M(R,x)?(f.attribName=x,f.state=A.ATTRIB_NAME):($(f,"Invalid attribute name"),f.state=A.ATTRIB)}continue;case A.ATTRIB_VALUE:if(M(l,x))continue;M(b,x)?(f.q=x,f.state=A.ATTRIB_VALUE_QUOTED):($(f,"Unquoted attribute value"),f.state=A.ATTRIB_VALUE_UNQUOTED,f.attribValue=x);continue;case A.ATTRIB_VALUE_QUOTED:if(x!==f.q){x==="&"?f.state=A.ATTRIB_VALUE_ENTITY_Q:f.attribValue+=x;continue}ke(f),f.q="",f.state=A.ATTRIB_VALUE_CLOSED;continue;case A.ATTRIB_VALUE_CLOSED:M(l,x)?f.state=A.ATTRIB:x===">"?Ce(f):x==="/"?f.state=A.OPEN_TAG_SLASH:M(R,x)?($(f,"No whitespace between attributes"),f.attribName=x,f.attribValue="",f.state=A.ATTRIB_NAME):$(f,"Invalid attribute name");continue;case A.ATTRIB_VALUE_UNQUOTED:if(W(v,x)){x==="&"?f.state=A.ATTRIB_VALUE_ENTITY_U:f.attribValue+=x;continue}ke(f),x===">"?Ce(f):f.state=A.ATTRIB;continue;case A.CLOSE_TAG:if(f.tagName)x===">"?st(f):M(N,x)?f.tagName+=x:f.script?(f.script+="</"+f.tagName,f.tagName="",f.state=A.SCRIPT):(W(l,x)&&$(f,"Invalid tagname in closing tag"),f.state=A.CLOSE_TAG_SAW_WHITE);else{if(M(l,x))continue;W(R,x)?f.script?(f.script+="</"+x,f.state=A.SCRIPT):$(f,"Invalid tagname in closing tag."):f.tagName=x}continue;case A.CLOSE_TAG_SAW_WHITE:if(M(l,x))continue;x===">"?st(f):$(f,"Invalid characters in closing tag");continue;case A.TEXT_ENTITY:case A.ATTRIB_VALUE_ENTITY_Q:case A.ATTRIB_VALUE_ENTITY_U:var ue,we;switch(f.state){case A.TEXT_ENTITY:ue=A.TEXT,we="textNode";break;case A.ATTRIB_VALUE_ENTITY_Q:ue=A.ATTRIB_VALUE_QUOTED,we="attribValue";break;case A.ATTRIB_VALUE_ENTITY_U:ue=A.ATTRIB_VALUE_UNQUOTED,we="attribValue";break}x===";"?(f[we]+=Rt(f),f.entity="",f.state=ue):M(f.entity.length?T:C,x)?f.entity+=x:($(f,"Invalid character in entity name"),f[we]+="&"+f.entity+x,f.entity="",f.state=ue);continue;default:throw new Error(f,"Unknown state: "+f.state)}return f.position>=f.bufferCheckPosition&&i(f),f}String.fromCodePoint||function(){var m=String.fromCharCode,f=Math.floor,q=function(){var x=16384,J=[],ae,ue,we=-1,xe=arguments.length;if(!xe)return"";for(var H="";++we<xe;){var ce=Number(arguments[we]);if(!isFinite(ce)||ce<0||ce>1114111||f(ce)!==ce)throw RangeError("Invalid code point: "+ce);ce<=65535?J.push(ce):(ce-=65536,ae=(ce>>10)+55296,ue=ce%1024+56320,J.push(ae,ue)),(we+1===xe||J.length>x)&&(H+=m.apply(null,J),J.length=0)}return H};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:q,configurable:!0,writable:!0}):String.fromCodePoint=q}()})(typeof Pi=="undefined"?Pi.sax={}:Pi)});var Uc=I(Hn=>{(function(){"use strict";Hn.stripBOM=function(t){return t[0]==="\uFEFF"?t.substring(1):t}}).call(Hn)});var zn=I(Bt=>{(function(){"use strict";var t;t=new RegExp(/(?!xmlns)^.*:/),Bt.normalize=function(e){return e.toLowerCase()},Bt.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},Bt.stripPrefix=function(e){return e.replace(t,"")},Bt.parseNumbers=function(e){return isNaN(e)||(e=e%1==0?parseInt(e,10):parseFloat(e)),e},Bt.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e=e.toLowerCase()==="true"),e}}).call(Bt)});var jc=I(Ut=>{(function(){"use strict";var t,e,r,i,n,s,o,a,u=function(h,g){return function(){return h.apply(g,arguments)}},c=function(h,g){for(var b in g)l.call(g,b)&&(h[b]=g[b]);function v(){this.constructor=h}return v.prototype=g.prototype,h.prototype=new v,h.__super__=g.prototype,h},l={}.hasOwnProperty;o=Bc(),r=require("events"),t=Uc(),s=zn(),a=require("timers").setImmediate,e=Di().defaults,i=function(h){return typeof h=="object"&&h!=null&&Object.keys(h).length===0},n=function(h,g,b){var v,E,D;for(v=0,E=h.length;v<E;v++)D=h[v],g=D(g,b);return g},Ut.Parser=function(h){c(g,h);function g(b){this.parseString=u(this.parseString,this),this.reset=u(this.reset,this),this.assignOrPush=u(this.assignOrPush,this),this.processAsync=u(this.processAsync,this);var v,E,D;if(!(this instanceof Ut.Parser))return new Ut.Parser(b);this.options={},E=e["0.2"];for(v in E)!l.call(E,v)||(D=E[v],this.options[v]=D);for(v in b)!l.call(b,v)||(D=b[v],this.options[v]=D);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(s.normalize)),this.reset()}return g.prototype.processAsync=function(){var b,v;try{return this.remaining.length<=this.options.chunkSize?(b=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(b),this.saxParser.close()):(b=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(b),a(this.processAsync))}catch(E){if(v=E,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(v)}},g.prototype.assignOrPush=function(b,v,E){return v in b?(b[v]instanceof Array||(b[v]=[b[v]]),b[v].push(E)):this.options.explicitArray?b[v]=[E]:b[v]=E},g.prototype.reset=function(){var b,v,E,D;return this.removeAllListeners(),this.saxParser=o.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(S){return function(d){if(S.saxParser.resume(),!S.saxParser.errThrown)return S.saxParser.errThrown=!0,S.emit("error",d)}}(this),this.saxParser.onend=function(S){return function(){if(!S.saxParser.ended)return S.saxParser.ended=!0,S.emit("end",S.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,D=[],b=this.options.attrkey,v=this.options.charkey,this.saxParser.onopentag=function(S){return function(d){var _,R,N,C,T;if(N={},N[v]="",!S.options.ignoreAttrs){T=d.attributes;for(_ in T)!l.call(T,_)||(!(b in N)&&!S.options.mergeAttrs&&(N[b]={}),R=S.options.attrValueProcessors?n(S.options.attrValueProcessors,d.attributes[_],_):d.attributes[_],C=S.options.attrNameProcessors?n(S.options.attrNameProcessors,_):_,S.options.mergeAttrs?S.assignOrPush(N,C,R):N[b][C]=R)}return N["#name"]=S.options.tagNameProcessors?n(S.options.tagNameProcessors,d.name):d.name,S.options.xmlns&&(N[S.options.xmlnskey]={uri:d.uri,local:d.local}),D.push(N)}}(this),this.saxParser.onclosetag=function(S){return function(){var d,_,R,N,C,T,L,X,M,W;if(T=D.pop(),C=T["#name"],(!S.options.explicitChildren||!S.options.preserveChildrenOrder)&&delete T["#name"],T.cdata===!0&&(d=T.cdata,delete T.cdata),M=D[D.length-1],T[v].match(/^\s*$/)&&!d?(_=T[v],delete T[v]):(S.options.trim&&(T[v]=T[v].trim()),S.options.normalize&&(T[v]=T[v].replace(/\s{2,}/g," ").trim()),T[v]=S.options.valueProcessors?n(S.options.valueProcessors,T[v],C):T[v],Object.keys(T).length===1&&v in T&&!S.EXPLICIT_CHARKEY&&(T=T[v])),i(T)&&(T=S.options.emptyTag!==""?S.options.emptyTag:_),S.options.validator!=null&&(W="/"+function(){var A,ye,fe;for(fe=[],A=0,ye=D.length;A<ye;A++)N=D[A],fe.push(N["#name"]);return fe}().concat(C).join("/"),function(){var A;try{return T=S.options.validator(W,M&&M[C],T)}catch(ye){return A=ye,S.emit("error",A)}}()),S.options.explicitChildren&&!S.options.mergeAttrs&&typeof T=="object"){if(!S.options.preserveChildrenOrder)N={},S.options.attrkey in T&&(N[S.options.attrkey]=T[S.options.attrkey],delete T[S.options.attrkey]),!S.options.charsAsChildren&&S.options.charkey in T&&(N[S.options.charkey]=T[S.options.charkey],delete T[S.options.charkey]),Object.getOwnPropertyNames(T).length>0&&(N[S.options.childkey]=T),T=N;else if(M){M[S.options.childkey]=M[S.options.childkey]||[],L={};for(R in T)!l.call(T,R)||(L[R]=T[R]);M[S.options.childkey].push(L),delete T["#name"],Object.keys(T).length===1&&v in T&&!S.EXPLICIT_CHARKEY&&(T=T[v])}}return D.length>0?S.assignOrPush(M,C,T):(S.options.explicitRoot&&(X=T,T={},T[C]=X),S.resultObject=T,S.saxParser.ended=!0,S.emit("end",S.resultObject))}}(this),E=function(S){return function(d){var _,R;if(R=D[D.length-1],R)return R[v]+=d,S.options.explicitChildren&&S.options.preserveChildrenOrder&&S.options.charsAsChildren&&(S.options.includeWhiteChars||d.replace(/\\n/g,"").trim()!=="")&&(R[S.options.childkey]=R[S.options.childkey]||[],_={"#name":"__text__"},_[v]=d,S.options.normalize&&(_[v]=_[v].replace(/\s{2,}/g," ").trim()),R[S.options.childkey].push(_)),R}}(this),this.saxParser.ontext=E,this.saxParser.oncdata=function(S){return function(d){var _;if(_=E(d),_)return _.cdata=!0}}(this)},g.prototype.parseString=function(b,v){var E;v!=null&&typeof v=="function"&&(this.on("end",function(D){return this.reset(),v(null,D)}),this.on("error",function(D){return this.reset(),v(D)}));try{return b=b.toString(),b.trim()===""?(this.emit("end",null),!0):(b=t.stripBOM(b),this.options.async?(this.remaining=b,a(this.processAsync),this.saxParser):this.saxParser.write(b).close())}catch(D){if(E=D,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw E}else return this.emit("error",E),this.saxParser.errThrown=!0}},g}(r.EventEmitter),Ut.parseString=function(h,g,b){var v,E,D;return b!=null?(typeof b=="function"&&(v=b),typeof g=="object"&&(E=g)):(typeof g=="function"&&(v=g),E={}),D=new Ut.Parser(E),D.parseString(h,v)}}).call(Ut)});var Vc=I(Tt=>{(function(){"use strict";var t,e,r,i,n=function(o,a){for(var u in a)s.call(a,u)&&(o[u]=a[u]);function c(){this.constructor=o}return c.prototype=a.prototype,o.prototype=new c,o.__super__=a.prototype,o},s={}.hasOwnProperty;e=Di(),t=Fc(),r=jc(),i=zn(),Tt.defaults=e.defaults,Tt.processors=i,Tt.ValidationError=function(o){n(a,o);function a(u){this.message=u}return a}(Error),Tt.Builder=t.Builder,Tt.Parser=r.Parser,Tt.parseString=r.parseString}).call(Tt)});var Gc=I((rE,Kc)=>{var Xc=j(),qr=Xc.util,zm=Xc.Model.Shape,Km=Vc(),Gm={explicitCharkey:!1,trim:!1,normalize:!1,explicitRoot:!1,emptyTag:null,explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,validator:null};function Wc(){}Wc.prototype.parse=function(t,e){e=e||{};var r=null,i=null,n=new Km.Parser(Gm);if(n.parseString(t,function(o,a){i=o,r=a}),r){var s=vt(r,e);return r.ResponseMetadata&&(s.ResponseMetadata=vt(r.ResponseMetadata[0],{})),s}else{if(i)throw qr.error(i,{code:"XMLParserError",retryable:!0});return vt({},e)}};function vt(t,e){switch(e.type){case"structure":return $m(t,e);case"map":return Ym(t,e);case"list":return Hc(t,e);case void 0:case null:return Jm(t);default:return zc(t,e)}}function $m(t,e){var r={};return t===null||qr.each(e.members,function(i,n){var s=n.name;if(Object.prototype.hasOwnProperty.call(t,s)&&Array.isArray(t[s])){var o=t[s];n.flattened||(o=o[0]),r[i]=vt(o,n)}else n.isXmlAttribute&&t.$&&Object.prototype.hasOwnProperty.call(t.$,s)?r[i]=zc(t.$[s],n):n.type==="list"&&!e.api.xmlNoDefaultLists&&(r[i]=n.defaultValue)}),r}function Ym(t,e){var r={};if(t===null)return r;var i=e.key.name||"key",n=e.value.name||"value",s=e.flattened?t:t.entry;return Array.isArray(s)&&qr.arrayEach(s,function(o){r[o[i][0]]=vt(o[n][0],e.value)}),r}function Hc(t,e){var r=[],i=e.member.name||"member";return e.flattened?qr.arrayEach(t,function(n){r.push(vt(n,e.member))}):t&&Array.isArray(t[i])&&qr.arrayEach(t[i],function(n){r.push(vt(n,e.member))}),r}function zc(t,e){return t&&t.$&&t.$.encoding==="base64"&&(e=new zm.create({type:t.$.encoding})),t&&t._&&(t=t._),typeof e.toType=="function"?e.toType(t):t}function Jm(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t)){var e=[];for(i=0;i<t.length;i++)e.push(vt(t[i],{}));return e}var r=Object.keys(t),i;if(r.length===0||r.length===1&&r[0]==="$")return{};var n={};for(i=0;i<r.length;i++){var s=r[i],o=t[s];s!=="$"&&(o.length>1?n[s]=Hc(o,{member:{}}):n[s]=vt(o[0],{}))}return n}Kc.exports=Wc});var Yc=I(()=>{var se=j(),Qm=se.util.stream.Stream,$c=se.util.stream.Transform,Zm=se.util.stream.Readable;oi();var ey="AWS_NODEJS_CONNECTION_REUSE_ENABLED";se.NodeHttpClient=se.util.inherit({handleRequest:function(e,r,i,n){var s=this,o=e.endpoint,a="";r||(r={}),r.proxy&&(a=o.protocol+"//"+o.hostname,o.port!==80&&o.port!==443&&(a+=":"+o.port),o=new se.Endpoint(r.proxy));var u=o.protocol==="https:",c=u?require("https"):require("http"),l={host:o.hostname,port:o.port,method:e.method,headers:e.headers,path:a+e.path};r.agent||(l.agent=this.getAgent(u,{keepAlive:process.env[ey]==="1"})),se.util.update(l,r),delete l.proxy,delete l.timeout;var h=c.request(l,function(v){h.didCallback||(i(v),v.emit("headers",v.statusCode,v.headers,v.statusMessage))});if(e.stream=h,h.didCallback=!1,r.connectTimeout){var g;h.on("socket",function(v){v.connecting&&(g=setTimeout(function(){h.didCallback||(h.didCallback=!0,h.abort(),n(se.util.error(new Error("Socket timed out without establishing a connection"),{code:"TimeoutError"})))},r.connectTimeout),v.on("connect",function(){clearTimeout(g),g=null}))})}h.setTimeout(r.timeout||0,function(){if(!h.didCallback){h.didCallback=!0;var v="Connection timed out after "+r.timeout+"ms";n(se.util.error(new Error(v),{code:"TimeoutError"})),h.abort()}}),h.on("error",function(v){g&&(clearTimeout(g),g=null),!h.didCallback&&(h.didCallback=!0,v.code==="ECONNRESET"||v.code==="EPIPE"||v.code==="ETIMEDOUT"?n(se.util.error(v,{code:"TimeoutError"})):n(v))});var b=e.headers.Expect||e.headers.expect;return b==="100-continue"?h.once("continue",function(){s.writeBody(h,e)}):this.writeBody(h,e),h},writeBody:function(e,r){var i=r.body,n=parseInt(r.headers["Content-Length"],10);if(i instanceof Qm){var s=this.progressStream(e,n);s?i.pipe(s).pipe(e):i.pipe(e)}else i?(e.once("finish",function(){e.emit("sendProgress",{loaded:n,total:n})}),e.end(i)):e.end()},getAgent:function(e,r){var i=e?require("https"):require("http");return e?(se.NodeHttpClient.sslAgent||(se.NodeHttpClient.sslAgent=new i.Agent(se.util.merge({rejectUnauthorized:process.env.NODE_TLS_REJECT_UNAUTHORIZED!=="0"},r||{})),se.NodeHttpClient.sslAgent.setMaxListeners(0),Object.defineProperty(se.NodeHttpClient.sslAgent,"maxSockets",{enumerable:!0,get:function(){var n=50,s=i.globalAgent;return s&&s.maxSockets!==1/0&&typeof s.maxSockets=="number"?s.maxSockets:n}})),se.NodeHttpClient.sslAgent):(se.NodeHttpClient.agent||(se.NodeHttpClient.agent=new i.Agent(r)),se.NodeHttpClient.agent)},progressStream:function(e,r){if(typeof $c!="undefined"){var i=0,n=new $c;return n._transform=function(s,o,a){s&&(i+=s.length,e.emit("sendProgress",{loaded:i,total:r})),a(null,s)},n}},emitter:null});se.HttpClient.prototype=se.NodeHttpClient.prototype;se.HttpClient.streamsApiVersion=Zm?2:1});var Jc=I(()=>{var Ve=j(),ty=require("fs"),ry=Ct(),iy=Ve.util.iniLoader;Ve.TokenFileWebIdentityCredentials=Ve.util.inherit(Ve.Credentials,{constructor:function(e){Ve.Credentials.call(this),this.data=null,this.clientConfig=Ve.util.copy(e||{})},getParamsFromEnv:function(){var e="AWS_WEB_IDENTITY_TOKEN_FILE",r="AWS_ROLE_ARN";if(process.env[e]&&process.env[r])return[{envTokenFile:process.env[e],roleArn:process.env[r],roleSessionName:process.env.AWS_ROLE_SESSION_NAME}]},getParamsFromSharedConfig:function(){var e=Ve.util.getProfilesFromSharedConfig(iy),r=process.env.AWS_PROFILE||Ve.util.defaultProfile,i=e[r]||{};if(Object.keys(i).length===0)throw Ve.util.error(new Error("Profile "+r+" not found"),{code:"TokenFileWebIdentityCredentialsProviderFailure"});for(var n=[];!i.web_identity_token_file&&i.source_profile;){n.unshift({roleArn:i.role_arn,roleSessionName:i.role_session_name});var s=i.source_profile;i=e[s]}return n.unshift({envTokenFile:i.web_identity_token_file,roleArn:i.role_arn,roleSessionName:i.role_session_name}),n},refresh:function(e){this.coalesceRefresh(e||Ve.util.fn.callback)},assumeRoleChaining:function(e,r){var i=this;if(e.length===0)i.service.credentialsFrom(i.data,i),r();else{var n=e.shift();i.service.config.credentials=i.service.credentialsFrom(i.data,i),i.service.assumeRole({RoleArn:n.roleArn,RoleSessionName:n.roleSessionName||"token-file-web-identity"},function(s,o){i.data=null,s?r(s):(i.data=o,i.assumeRoleChaining(e,r))})}},load:function(e){var r=this;try{var i=r.getParamsFromEnv();if(i||(i=r.getParamsFromSharedConfig()),i){var n=i.shift(),s=ty.readFileSync(n.envTokenFile,{encoding:"ascii"});r.service||r.createClients(),r.service.assumeRoleWithWebIdentity({WebIdentityToken:s,RoleArn:n.roleArn,RoleSessionName:n.roleSessionName||"token-file-web-identity"},function(o,a){r.data=null,o?e(o):(r.data=a,r.assumeRoleChaining(i,e))})}}catch(o){e(o)}},createClients:function(){if(!this.service){var t=Ve.util.merge({},this.clientConfig);this.service=new ry(t),this.service.retryableError=function(e){return e.code==="IDPCommunicationErrorException"||e.code==="InvalidIdentityToken"?!0:Ve.Service.prototype.retryableError.call(this,e)}}}})});var Zc=I((aE,Qc)=>{var ny=function(){return{IPv4:"http://169.254.169.254",IPv6:"http://[fd00:ec2::254]"}};Qc.exports=ny});var Kn=I((uE,el)=>{var sy=function(){return{IPv4:"IPv4",IPv6:"IPv6"}};el.exports=sy});var rl=I((cE,tl)=>{var oy="AWS_EC2_METADATA_SERVICE_ENDPOINT",ay="ec2_metadata_service_endpoint",uy=function(){return{environmentVariableSelector:function(t){return t[oy]},configFileSelector:function(t){return t[ay]},default:void 0}};tl.exports=uy});var nl=I((lE,il)=>{var cy=Kn()(),ly="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",fy="ec2_metadata_service_endpoint_mode",py=function(){return{environmentVariableSelector:function(t){return t[ly]},configFileSelector:function(t){return t[fy]},default:cy.IPv4}};il.exports=py});var cl=I((fE,ul)=>{var sl=j(),ol=Zc()(),al=Kn()(),dy=rl()(),hy=nl()(),my=function(){var t=sl.util.loadConfig(dy);if(t!==void 0)return t;var e=sl.util.loadConfig(hy);switch(e){case al.IPv4:return ol.IPv4;case al.IPv6:return ol.IPv6;default:throw new Error("Unsupported endpoint mode: "+e)}};ul.exports=my});var pl=I((pE,fl)=>{var $e=j();oi();var yy=$e.util.inherit,vy=cl(),ll=require("url").URL;$e.MetadataService=yy({endpoint:vy(),httpOptions:{timeout:0},disableFetchToken:!1,constructor:function(e){e&&e.host&&(e.endpoint="http://"+e.host,delete e.host),$e.util.update(this,e)},request:function(e,r,i){if(arguments.length===2&&(i=r,r={}),process.env[$e.util.imdsDisabledEnv]){i(new Error("EC2 Instance Metadata Service access disabled"));return}e=e||"/",ll&&new ll(this.endpoint);var n=new $e.HttpRequest(this.endpoint+e);n.method=r.method||"GET",r.headers&&(n.headers=r.headers),$e.util.handleRequestWithRetries(n,this,i)},loadCredentialsCallbacks:[],fetchMetadataToken:function(e){var r=this,i="/latest/api/token";r.request(i,{method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}},e)},fetchCredentials:function(e,r){var i=this,n="/latest/meta-data/iam/security-credentials/";i.request(n,e,function(s,o){if(s){i.disableFetchToken=s.statusCode!==401,r($e.util.error(s,{message:"EC2 Metadata roleName request returned error"}));return}o=o.split(`
`)[0],i.request(n+o,e,function(a,u){if(a){i.disableFetchToken=a.statusCode!==401,r($e.util.error(a,{message:"EC2 Metadata creds request returned error"}));return}try{var c=JSON.parse(u);r(null,c)}catch(l){r(l)}})})},loadCredentials:function(e){var r=this;if(r.loadCredentialsCallbacks.push(e),r.loadCredentialsCallbacks.length>1)return;function i(n,s){for(var o;(o=r.loadCredentialsCallbacks.shift())!==void 0;)o(n,s)}r.disableFetchToken?r.fetchCredentials({},i):r.fetchMetadataToken(function(n,s){if(n){if(n.code==="TimeoutError")r.disableFetchToken=!0;else if(n.retryable===!0){i($e.util.error(n,{message:"EC2 Metadata token request returned error"}));return}else if(n.statusCode===400){i($e.util.error(n,{message:"EC2 Metadata token request returned 400"}));return}}var o={};s&&(o.headers={"x-aws-ec2-metadata-token":s}),r.fetchCredentials(o,i)})}});fl.exports=$e.MetadataService});var dl=I(()=>{var Oe=j();pl();Oe.EC2MetadataCredentials=Oe.util.inherit(Oe.Credentials,{constructor:function(e){Oe.Credentials.call(this),e=e?Oe.util.copy(e):{},e=Oe.util.merge({maxRetries:this.defaultMaxRetries},e),e.httpOptions||(e.httpOptions={}),e.httpOptions=Oe.util.merge({timeout:this.defaultTimeout,connectTimeout:this.defaultConnectTimeout},e.httpOptions),this.metadataService=new Oe.MetadataService(e),this.logger=e.logger||Oe.config&&Oe.config.logger},defaultTimeout:1e3,defaultConnectTimeout:1e3,defaultMaxRetries:3,originalExpiration:void 0,refresh:function(e){this.coalesceRefresh(e||Oe.util.fn.callback)},load:function(e){var r=this;r.metadataService.loadCredentials(function(i,n){i?r.hasLoadedCredentials()?(r.extendExpirationIfExpired(),e()):e(i):(r.setCredentials(n),r.extendExpirationIfExpired(),e())})},hasLoadedCredentials:function(){return this.AccessKeyId&&this.secretAccessKey},extendExpirationIfExpired:function(){if(this.needsRefresh()){this.originalExpiration=this.originalExpiration||this.expireTime,this.expired=!1;var e=15*60+Math.floor(Math.random()*5*60),r=Oe.util.date.getDate().getTime();this.expireTime=new Date(r+e*1e3),this.logger.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted again at "+this.expireTime+`
For more information, please visit: https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html`)}},setCredentials:function(e){var r=Oe.util.date.getDate().getTime(),i=new Date(e.Expiration);this.expired=r>=i,this.metadata=e,this.accessKeyId=e.AccessKeyId,this.secretAccessKey=e.SecretAccessKey,this.sessionToken=e.Token,this.expireTime=i}})});var yl=I(()=>{var Se=j(),Gn="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",qi="AWS_CONTAINER_CREDENTIALS_FULL_URI",gy="AWS_CONTAINER_AUTHORIZATION_TOKEN",Ey=["https:"],hl=["http:","https:"],ml=["localhost","127.0.0.1"],Sy="169.254.170.2";Se.RemoteCredentials=Se.util.inherit(Se.Credentials,{constructor:function(e){Se.Credentials.call(this),e=e?Se.util.copy(e):{},e.httpOptions||(e.httpOptions={}),e.httpOptions=Se.util.merge(this.httpOptions,e.httpOptions),Se.util.update(this,e)},httpOptions:{timeout:1e3},maxRetries:3,isConfiguredForEcsCredentials:function(){return Boolean(process&&process.env&&(process.env[Gn]||process.env[qi]))},getECSFullUri:function(){if(process&&process.env){var e=process.env[Gn],r=process.env[qi];if(e)return"http://"+Sy+e;if(r){var i=Se.util.urlParse(r);if(hl.indexOf(i.protocol)<0)throw Se.util.error(new Error("Unsupported protocol:  AWS.RemoteCredentials supports "+hl.join(",")+" only; "+i.protocol+" requested."),{code:"ECSCredentialsProviderFailure"});if(Ey.indexOf(i.protocol)<0&&ml.indexOf(i.hostname)<0)throw Se.util.error(new Error("Unsupported hostname: AWS.RemoteCredentials only supports "+ml.join(",")+" for "+i.protocol+"; "+i.protocol+"//"+i.hostname+" requested."),{code:"ECSCredentialsProviderFailure"});return r}else throw Se.util.error(new Error("Variable "+Gn+" or "+qi+" must be set to use AWS.RemoteCredentials."),{code:"ECSCredentialsProviderFailure"})}else throw Se.util.error(new Error("No process info available"),{code:"ECSCredentialsProviderFailure"})},getECSAuthToken:function(){if(process&&process.env&&process.env[qi])return process.env[gy]},credsFormatIsValid:function(e){return!!e.accessKeyId&&!!e.secretAccessKey&&!!e.sessionToken&&!!e.expireTime},formatCreds:function(e){return e.credentials&&(e=e.credentials),{expired:!1,accessKeyId:e.accessKeyId||e.AccessKeyId,secretAccessKey:e.secretAccessKey||e.SecretAccessKey,sessionToken:e.sessionToken||e.Token,expireTime:new Date(e.expiration||e.Expiration)}},request:function(e,r){var i=new Se.HttpRequest(e);i.method="GET",i.headers.Accept="application/json";var n=this.getECSAuthToken();n&&(i.headers.Authorization=n),Se.util.handleRequestWithRetries(i,this,r)},refresh:function(e){this.coalesceRefresh(e||Se.util.fn.callback)},load:function(e){var r=this,i;try{i=this.getECSFullUri()}catch(n){e(n);return}this.request(i,function(n,s){if(!n)try{s=JSON.parse(s);var o=r.formatCreds(s);if(!r.credsFormatIsValid(o))throw Se.util.error(new Error("Response data is not in valid format"),{code:"ECSCredentialsProviderFailure"});Se.util.update(r,o)}catch(a){n=a}e(n,o)})}})});var gl=I(()=>{var vl=j();vl.ECSCredentials=vl.RemoteCredentials});var El=I(()=>{var bt=j();bt.EnvironmentCredentials=bt.util.inherit(bt.Credentials,{constructor:function(e){bt.Credentials.call(this),this.envPrefix=e,this.get(function(){})},refresh:function(e){if(e||(e=bt.util.fn.callback),!process||!process.env){e(bt.util.error(new Error("No process info or environment variables available"),{code:"EnvironmentCredentialsProviderFailure"}));return}for(var r=["ACCESS_KEY_ID","SECRET_ACCESS_KEY","SESSION_TOKEN"],i=[],n=0;n<r.length;n++){var s="";if(this.envPrefix&&(s=this.envPrefix+"_"),i[n]=process.env[s+r[n]],!i[n]&&r[n]!=="SESSION_TOKEN"){e(bt.util.error(new Error("Variable "+s+r[n]+" not set."),{code:"EnvironmentCredentialsProviderFailure"}));return}}this.expired=!1,bt.Credentials.apply(this,i),e()}})});var Sl=I(()=>{var At=j();At.FileSystemCredentials=At.util.inherit(At.Credentials,{constructor:function(e){At.Credentials.call(this),this.filename=e,this.get(function(){})},refresh:function(e){e||(e=At.util.fn.callback);try{var r=JSON.parse(At.util.readFileSync(this.filename));if(At.Credentials.call(this,r),!this.accessKeyId||!this.secretAccessKey)throw At.util.error(new Error("Credentials not set in "+this.filename),{code:"FileSystemCredentialsProviderFailure"});this.expired=!1,e()}catch(i){e(i)}}})});var wl=I(()=>{var _e=j(),_y=Ct(),_l=_e.util.iniLoader,wy="us-east-1";_e.SharedIniFileCredentials=_e.util.inherit(_e.Credentials,{constructor:function(e){_e.Credentials.call(this),e=e||{},this.filename=e.filename,this.profile=e.profile||process.env.AWS_PROFILE||_e.util.defaultProfile,this.disableAssumeRole=Boolean(e.disableAssumeRole),this.preferStaticCredentials=Boolean(e.preferStaticCredentials),this.tokenCodeFn=e.tokenCodeFn||null,this.httpOptions=e.httpOptions||null,this.get(e.callback||_e.util.fn.noop)},load:function(e){var r=this;try{var i=_e.util.getProfilesFromSharedConfig(_l,this.filename),n=i[this.profile]||{};if(Object.keys(n).length===0)throw _e.util.error(new Error("Profile "+this.profile+" not found"),{code:"SharedIniFileCredentialsProviderFailure"});var s=Boolean(this.preferStaticCredentials&&n.aws_access_key_id&&n.aws_secret_access_key);if(n.role_arn&&!s){this.loadRoleProfile(i,n,function(o,a){o?e(o):(r.expired=!1,r.accessKeyId=a.Credentials.AccessKeyId,r.secretAccessKey=a.Credentials.SecretAccessKey,r.sessionToken=a.Credentials.SessionToken,r.expireTime=a.Credentials.Expiration,e(null))});return}if(this.accessKeyId=n.aws_access_key_id,this.secretAccessKey=n.aws_secret_access_key,this.sessionToken=n.aws_session_token,!this.accessKeyId||!this.secretAccessKey)throw _e.util.error(new Error("Credentials not set for profile "+this.profile),{code:"SharedIniFileCredentialsProviderFailure"});this.expired=!1,e(null)}catch(o){e(o)}},refresh:function(e){_l.clearCachedFiles(),this.coalesceRefresh(e||_e.util.fn.callback,this.disableAssumeRole)},loadRoleProfile:function(e,r,i){if(this.disableAssumeRole)throw _e.util.error(new Error("Role assumption profiles are disabled. Failed to load profile "+this.profile+" from "+e.filename),{code:"SharedIniFileCredentialsProviderFailure"});var n=this,s=r.role_arn,o=r.role_session_name,a=r.external_id,u=r.mfa_serial,c=r.source_profile,l=r.region||wy;if(!c)throw _e.util.error(new Error("source_profile is not set using profile "+this.profile),{code:"SharedIniFileCredentialsProviderFailure"});var h=e[c];if(typeof h!="object")throw _e.util.error(new Error("source_profile "+c+" using profile "+this.profile+" does not exist"),{code:"SharedIniFileCredentialsProviderFailure"});var g=new _e.SharedIniFileCredentials(_e.util.merge(this.options||{},{profile:c,preferStaticCredentials:!0}));this.roleArn=s;var b=new _y({credentials:g,region:l,httpOptions:this.httpOptions}),v={RoleArn:s,RoleSessionName:o||"aws-sdk-js-"+Date.now()};if(a&&(v.ExternalId=a),u&&n.tokenCodeFn){v.SerialNumber=u,n.tokenCodeFn(u,function(E,D){if(E){var S;E instanceof Error?S=E.message:S=E,i(_e.util.error(new Error("Error fetching MFA token: "+S),{code:"SharedIniFileCredentialsProviderFailure"}));return}v.TokenCode=D,b.assumeRole(v,i)});return}b.assumeRole(v,i)}})});var Cl=I(()=>{var me=j(),Cy=require("path"),Ty=require("crypto"),$n=me.util.iniLoader;me.SsoCredentials=me.util.inherit(me.Credentials,{constructor:function(e){me.Credentials.call(this),e=e||{},this.errorCode="SsoCredentialsProviderFailure",this.expired=!0,this.filename=e.filename,this.profile=e.profile||process.env.AWS_PROFILE||me.util.defaultProfile,this.service=e.ssoClient,this.get(e.callback||me.util.fn.noop)},load:function(e){var r=15*60*1e3,i=this;try{var n=me.util.getProfilesFromSharedConfig($n,this.filename),s=n[this.profile]||{};if(Object.keys(s).length===0)throw me.util.error(new Error("Profile "+this.profile+" not found"),{code:i.errorCode});if(!s.sso_start_url||!s.sso_account_id||!s.sso_region||!s.sso_role_name)throw me.util.error(new Error("Profile "+this.profile+' does not have valid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html'),{code:i.errorCode});var o=Ty.createHash("sha1"),a=o.update(s.sso_start_url).digest("hex")+".json",u=Cy.join($n.getHomeDir(),".aws","sso","cache",a),c=me.util.readFileSync(u),l=null;if(c&&(l=JSON.parse(c)),!l)throw me.util.error(new Error("Cached credentials not found under "+this.profile+" profile. Please make sure you log in with aws sso login first"),{code:i.errorCode});if(!l.startUrl||!l.region||!l.accessToken||!l.expiresAt)throw me.util.error(new Error("Cached credentials are missing required properties. Try running aws sso login."));if(new Date(l.expiresAt).getTime()-Date.now()<=r)throw me.util.error(new Error("The SSO session associated with this profile has expired. To refresh this SSO session run aws sso login with the corresponding profile."));(!i.service||i.service.config.region!==s.sso_region)&&(i.service=new me.SSO({region:s.sso_region}));var h={accessToken:l.accessToken,accountId:s.sso_account_id,roleName:s.sso_role_name};i.service.getRoleCredentials(h,function(g,b){if(g||!b||!b.roleCredentials)e(me.util.error(g||new Error('Please log in using "aws sso login"'),{code:i.errorCode}),null);else{if(!b.roleCredentials.accessKeyId||!b.roleCredentials.secretAccessKey||!b.roleCredentials.sessionToken||!b.roleCredentials.expiration)throw me.util.error(new Error("SSO returns an invalid temporary credential."));i.expired=!1,i.accessKeyId=b.roleCredentials.accessKeyId,i.secretAccessKey=b.roleCredentials.secretAccessKey,i.sessionToken=b.roleCredentials.sessionToken,i.expireTime=new Date(b.roleCredentials.expiration),e(null)}})}catch(g){e(g)}},refresh:function(e){$n.clearCachedFiles(),this.coalesceRefresh(e||me.util.fn.callback)}})});var Ri=I((xE,Al)=>{var oe=le(),Tl=Sn(),by=Tl.isFipsRegion,Ay=Tl.getRealRegion;oe.isBrowser=function(){return!1};oe.isNode=function(){return!0};oe.crypto.lib=require("crypto");oe.Buffer=require("buffer").Buffer;oe.domain=require("domain");oe.stream=require("stream");oe.url=require("url");oe.querystring=require("querystring");oe.environment="nodejs";oe.createEventStream=oe.stream.Readable?fu().createEventStream:mu().createEventStream;oe.realClock=vu();oe.clientSideMonitoring={Publisher:Eu().Publisher,configProvider:wu()};oe.iniLoader=xu().iniLoader;oe.getSystemErrorName=require("util").getSystemErrorName;oe.loadConfig=function(t){var e=t.environmentVariableSelector(process.env);if(e!==void 0)return e;var r={};try{r=oe.iniLoader?oe.iniLoader.loadFrom({isConfig:!0,filename:process.env[oe.sharedConfigFileEnv]}):{}}catch(s){}var i=r[process.env.AWS_PROFILE||oe.defaultProfile]||{},n=t.configFileSelector(i);return n!==void 0?n:typeof t.default=="function"?t.default():t.default};var te;Al.exports=te=j();wn();Cn();Lu();ku();Mu();Xu();Wu();Bn();te.XML.Parser=Gc();Yc();Mn();Jc();dl();yl();gl();El();Sl();wl();Bn();Cl();te.CredentialProviderChain.defaultProviders=[function(){return new te.EnvironmentCredentials("AWS")},function(){return new te.EnvironmentCredentials("AMAZON")},function(){return new te.SsoCredentials},function(){return new te.SharedIniFileCredentials},function(){return new te.ECSCredentials},function(){return new te.ProcessCredentials},function(){return new te.TokenFileWebIdentityCredentials},function(){return new te.EC2MetadataCredentials}];var bl=function(){var t=process.env,e=t.AWS_REGION||t.AMAZON_REGION;if(t[te.util.configOptInEnv])for(var r=[{filename:t[te.util.sharedCredentialsFileEnv]},{isConfig:!0,filename:t[te.util.sharedConfigFileEnv]}],i=te.util.iniLoader;!e&&r.length;){var n={},s=r.shift();try{n=i.loadFrom(s)}catch(a){if(s.isConfig)throw a}var o=n[t.AWS_PROFILE||te.util.defaultProfile];e=o&&o.region}return e},Oi=function(t){return t==="true"?!0:t==="false"?!1:void 0},xy={environmentVariableSelector:function(t){return Oi(t.AWS_USE_FIPS_ENDPOINT)},configFileSelector:function(t){return Oi(t.use_fips_endpoint)},default:!1},Ry={environmentVariableSelector:function(t){return Oi(t.AWS_USE_DUALSTACK_ENDPOINT)},configFileSelector:function(t){return Oi(t.use_dualstack_endpoint)},default:!1};te.util.update(te.Config.prototype.keys,{credentials:function(){var t=null;return new te.CredentialProviderChain([function(){return new te.EnvironmentCredentials("AWS")},function(){return new te.EnvironmentCredentials("AMAZON")},function(){return new te.SharedIniFileCredentials({disableAssumeRole:!0})}]).resolve(function(e,r){e||(t=r)}),t},credentialProvider:function(){return new te.CredentialProviderChain},logger:function(){return process.env.AWSJS_DEBUG?console:null},region:function(){var t=bl();return t?Ay(t):void 0},useFipsEndpoint:function(){var t=bl();return by(t)?!0:oe.loadConfig(xy)},useDualstackEndpoint:function(){return oe.loadConfig(Ry)}});te.config=new te.Config});var xl=I((RE,Iy)=>{Iy.exports={version:"2.0",metadata:{apiVersion:"2018-09-22",endpointPrefix:"codeartifact",jsonVersion:"1.1",protocol:"rest-json",serviceFullName:"CodeArtifact",serviceId:"codeartifact",signatureVersion:"v4",signingName:"codeartifact",uid:"codeartifact-2018-09-22"},operations:{AssociateExternalConnection:{http:{requestUri:"/v1/repository/external-connection"},input:{type:"structure",required:["domain","repository","externalConnection"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},externalConnection:{location:"querystring",locationName:"external-connection"}}},output:{type:"structure",members:{repository:{shape:"S7"}}}},CopyPackageVersions:{http:{requestUri:"/v1/package/versions/copy"},input:{type:"structure",required:["domain","sourceRepository","destinationRepository","format","package"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},sourceRepository:{location:"querystring",locationName:"source-repository"},destinationRepository:{location:"querystring",locationName:"destination-repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},versions:{shape:"Sj"},versionRevisions:{shape:"Sl"},allowOverwrite:{type:"boolean"},includeFromUpstream:{type:"boolean"}}},output:{type:"structure",members:{successfulVersions:{shape:"Sp"},failedVersions:{shape:"St"}}}},CreateDomain:{http:{requestUri:"/v1/domain"},input:{type:"structure",required:["domain"],members:{domain:{location:"querystring",locationName:"domain"},encryptionKey:{},tags:{shape:"Sy"}}},output:{type:"structure",members:{domain:{shape:"S13"}}}},CreateRepository:{http:{requestUri:"/v1/repository"},input:{type:"structure",required:["domain","repository"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},description:{},upstreams:{shape:"S19"},tags:{shape:"Sy"}}},output:{type:"structure",members:{repository:{shape:"S7"}}}},DeleteDomain:{http:{method:"DELETE",requestUri:"/v1/domain"},input:{type:"structure",required:["domain"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"}}},output:{type:"structure",members:{domain:{shape:"S13"}}}},DeleteDomainPermissionsPolicy:{http:{method:"DELETE",requestUri:"/v1/domain/permissions/policy"},input:{type:"structure",required:["domain"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},policyRevision:{location:"querystring",locationName:"policy-revision"}}},output:{type:"structure",members:{policy:{shape:"S1h"}}}},DeletePackageVersions:{http:{requestUri:"/v1/package/versions/delete"},input:{type:"structure",required:["domain","repository","format","package","versions"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},versions:{shape:"Sj"},expectedStatus:{}}},output:{type:"structure",members:{successfulVersions:{shape:"Sp"},failedVersions:{shape:"St"}}}},DeleteRepository:{http:{method:"DELETE",requestUri:"/v1/repository"},input:{type:"structure",required:["domain","repository"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"}}},output:{type:"structure",members:{repository:{shape:"S7"}}}},DeleteRepositoryPermissionsPolicy:{http:{method:"DELETE",requestUri:"/v1/repository/permissions/policies"},input:{type:"structure",required:["domain","repository"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},policyRevision:{location:"querystring",locationName:"policy-revision"}}},output:{type:"structure",members:{policy:{shape:"S1h"}}}},DescribeDomain:{http:{method:"GET",requestUri:"/v1/domain"},input:{type:"structure",required:["domain"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"}}},output:{type:"structure",members:{domain:{shape:"S13"}}}},DescribePackage:{http:{method:"GET",requestUri:"/v1/package"},input:{type:"structure",required:["domain","repository","format","package"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"}}},output:{type:"structure",required:["package"],members:{package:{type:"structure",members:{format:{},namespace:{},name:{},originConfiguration:{shape:"S1u"}}}}}},DescribePackageVersion:{http:{method:"GET",requestUri:"/v1/package/version"},input:{type:"structure",required:["domain","repository","format","package","packageVersion"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},packageVersion:{location:"querystring",locationName:"version"}}},output:{type:"structure",required:["packageVersion"],members:{packageVersion:{type:"structure",members:{format:{},namespace:{},packageName:{},displayName:{},version:{},summary:{},homePage:{},sourceCodeRepository:{},publishedTime:{type:"timestamp"},licenses:{type:"list",member:{type:"structure",members:{name:{},url:{}}}},revision:{},status:{},origin:{shape:"S24"}}}}}},DescribeRepository:{http:{method:"GET",requestUri:"/v1/repository"},input:{type:"structure",required:["domain","repository"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"}}},output:{type:"structure",members:{repository:{shape:"S7"}}}},DisassociateExternalConnection:{http:{method:"DELETE",requestUri:"/v1/repository/external-connection"},input:{type:"structure",required:["domain","repository","externalConnection"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},externalConnection:{location:"querystring",locationName:"external-connection"}}},output:{type:"structure",members:{repository:{shape:"S7"}}}},DisposePackageVersions:{http:{requestUri:"/v1/package/versions/dispose"},input:{type:"structure",required:["domain","repository","format","package","versions"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},versions:{shape:"Sj"},versionRevisions:{shape:"Sl"},expectedStatus:{}}},output:{type:"structure",members:{successfulVersions:{shape:"Sp"},failedVersions:{shape:"St"}}}},GetAuthorizationToken:{http:{requestUri:"/v1/authorization-token"},input:{type:"structure",required:["domain"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},durationSeconds:{location:"querystring",locationName:"duration",type:"long"}}},output:{type:"structure",members:{authorizationToken:{},expiration:{type:"timestamp"}}}},GetDomainPermissionsPolicy:{http:{method:"GET",requestUri:"/v1/domain/permissions/policy"},input:{type:"structure",required:["domain"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"}}},output:{type:"structure",members:{policy:{shape:"S1h"}}}},GetPackageVersionAsset:{http:{method:"GET",requestUri:"/v1/package/version/asset"},input:{type:"structure",required:["domain","repository","format","package","packageVersion","asset"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},packageVersion:{location:"querystring",locationName:"version"},asset:{location:"querystring",locationName:"asset"},packageVersionRevision:{location:"querystring",locationName:"revision"}}},output:{type:"structure",members:{asset:{type:"blob",streaming:!0},assetName:{location:"header",locationName:"X-AssetName"},packageVersion:{location:"header",locationName:"X-PackageVersion"},packageVersionRevision:{location:"header",locationName:"X-PackageVersionRevision"}},payload:"asset"}},GetPackageVersionReadme:{http:{method:"GET",requestUri:"/v1/package/version/readme"},input:{type:"structure",required:["domain","repository","format","package","packageVersion"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},packageVersion:{location:"querystring",locationName:"version"}}},output:{type:"structure",members:{format:{},namespace:{},package:{},version:{},versionRevision:{},readme:{}}}},GetRepositoryEndpoint:{http:{method:"GET",requestUri:"/v1/repository/endpoint"},input:{type:"structure",required:["domain","repository","format"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"}}},output:{type:"structure",members:{repositoryEndpoint:{}}}},GetRepositoryPermissionsPolicy:{http:{method:"GET",requestUri:"/v1/repository/permissions/policy"},input:{type:"structure",required:["domain","repository"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"}}},output:{type:"structure",members:{policy:{shape:"S1h"}}}},ListDomains:{http:{requestUri:"/v1/domains"},input:{type:"structure",members:{maxResults:{type:"integer"},nextToken:{}}},output:{type:"structure",members:{domains:{type:"list",member:{type:"structure",members:{name:{},owner:{},arn:{},status:{},createdTime:{type:"timestamp"},encryptionKey:{}}}},nextToken:{}}}},ListPackageVersionAssets:{http:{requestUri:"/v1/package/version/assets"},input:{type:"structure",required:["domain","repository","format","package","packageVersion"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},packageVersion:{location:"querystring",locationName:"version"},maxResults:{location:"querystring",locationName:"max-results",type:"integer"},nextToken:{location:"querystring",locationName:"next-token"}}},output:{type:"structure",members:{format:{},namespace:{},package:{},version:{},versionRevision:{},nextToken:{},assets:{type:"list",member:{type:"structure",required:["name"],members:{name:{},size:{type:"long"},hashes:{type:"map",key:{},value:{}}}}}}}},ListPackageVersionDependencies:{http:{requestUri:"/v1/package/version/dependencies"},input:{type:"structure",required:["domain","repository","format","package","packageVersion"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},packageVersion:{location:"querystring",locationName:"version"},nextToken:{location:"querystring",locationName:"next-token"}}},output:{type:"structure",members:{format:{},namespace:{},package:{},version:{},versionRevision:{},nextToken:{},dependencies:{type:"list",member:{type:"structure",members:{namespace:{},package:{},dependencyType:{},versionRequirement:{}}}}}}},ListPackageVersions:{http:{requestUri:"/v1/package/versions"},input:{type:"structure",required:["domain","repository","format","package"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},status:{location:"querystring",locationName:"status"},sortBy:{location:"querystring",locationName:"sortBy"},maxResults:{location:"querystring",locationName:"max-results",type:"integer"},nextToken:{location:"querystring",locationName:"next-token"},originType:{location:"querystring",locationName:"originType"}}},output:{type:"structure",members:{defaultDisplayVersion:{},format:{},namespace:{},package:{},versions:{type:"list",member:{type:"structure",required:["version","status"],members:{version:{},revision:{},status:{},origin:{shape:"S24"}}}},nextToken:{}}}},ListPackages:{http:{requestUri:"/v1/packages"},input:{type:"structure",required:["domain","repository"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},packagePrefix:{location:"querystring",locationName:"package-prefix"},maxResults:{location:"querystring",locationName:"max-results",type:"integer"},nextToken:{location:"querystring",locationName:"next-token"},publish:{location:"querystring",locationName:"publish"},upstream:{location:"querystring",locationName:"upstream"}}},output:{type:"structure",members:{packages:{type:"list",member:{type:"structure",members:{format:{},namespace:{},package:{},originConfiguration:{shape:"S1u"}}}},nextToken:{}}}},ListRepositories:{http:{requestUri:"/v1/repositories"},input:{type:"structure",members:{repositoryPrefix:{location:"querystring",locationName:"repository-prefix"},maxResults:{location:"querystring",locationName:"max-results",type:"integer"},nextToken:{location:"querystring",locationName:"next-token"}}},output:{type:"structure",members:{repositories:{shape:"S3p"},nextToken:{}}}},ListRepositoriesInDomain:{http:{requestUri:"/v1/domain/repositories"},input:{type:"structure",required:["domain"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},administratorAccount:{location:"querystring",locationName:"administrator-account"},repositoryPrefix:{location:"querystring",locationName:"repository-prefix"},maxResults:{location:"querystring",locationName:"max-results",type:"integer"},nextToken:{location:"querystring",locationName:"next-token"}}},output:{type:"structure",members:{repositories:{shape:"S3p"},nextToken:{}}}},ListTagsForResource:{http:{requestUri:"/v1/tags"},input:{type:"structure",required:["resourceArn"],members:{resourceArn:{location:"querystring",locationName:"resourceArn"}}},output:{type:"structure",members:{tags:{shape:"Sy"}}}},PutDomainPermissionsPolicy:{http:{method:"PUT",requestUri:"/v1/domain/permissions/policy"},input:{type:"structure",required:["domain","policyDocument"],members:{domain:{},domainOwner:{},policyRevision:{},policyDocument:{}}},output:{type:"structure",members:{policy:{shape:"S1h"}}}},PutPackageOriginConfiguration:{http:{requestUri:"/v1/package"},input:{type:"structure",required:["domain","repository","format","package","restrictions"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},restrictions:{shape:"S1v"}}},output:{type:"structure",members:{originConfiguration:{shape:"S1u"}}}},PutRepositoryPermissionsPolicy:{http:{method:"PUT",requestUri:"/v1/repository/permissions/policy"},input:{type:"structure",required:["domain","repository","policyDocument"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},policyRevision:{},policyDocument:{}}},output:{type:"structure",members:{policy:{shape:"S1h"}}}},TagResource:{http:{requestUri:"/v1/tag"},input:{type:"structure",required:["resourceArn","tags"],members:{resourceArn:{location:"querystring",locationName:"resourceArn"},tags:{shape:"Sy"}}},output:{type:"structure",members:{}}},UntagResource:{http:{requestUri:"/v1/untag"},input:{type:"structure",required:["resourceArn","tagKeys"],members:{resourceArn:{location:"querystring",locationName:"resourceArn"},tagKeys:{type:"list",member:{}}}},output:{type:"structure",members:{}}},UpdatePackageVersionsStatus:{http:{requestUri:"/v1/package/versions/update_status"},input:{type:"structure",required:["domain","repository","format","package","versions","targetStatus"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},format:{location:"querystring",locationName:"format"},namespace:{location:"querystring",locationName:"namespace"},package:{location:"querystring",locationName:"package"},versions:{shape:"Sj"},versionRevisions:{shape:"Sl"},expectedStatus:{},targetStatus:{}}},output:{type:"structure",members:{successfulVersions:{shape:"Sp"},failedVersions:{shape:"St"}}}},UpdateRepository:{http:{method:"PUT",requestUri:"/v1/repository"},input:{type:"structure",required:["domain","repository"],members:{domain:{location:"querystring",locationName:"domain"},domainOwner:{location:"querystring",locationName:"domain-owner"},repository:{location:"querystring",locationName:"repository"},description:{},upstreams:{shape:"S19"}}},output:{type:"structure",members:{repository:{shape:"S7"}}}}},shapes:{S7:{type:"structure",members:{name:{},administratorAccount:{},domainName:{},domainOwner:{},arn:{},description:{},upstreams:{type:"list",member:{type:"structure",members:{repositoryName:{}}}},externalConnections:{type:"list",member:{type:"structure",members:{externalConnectionName:{},packageFormat:{},status:{}}}}}},Sj:{type:"list",member:{}},Sl:{type:"map",key:{},value:{}},Sp:{type:"map",key:{},value:{type:"structure",members:{revision:{},status:{}}}},St:{type:"map",key:{},value:{type:"structure",members:{errorCode:{},errorMessage:{}}}},Sy:{type:"list",member:{type:"structure",required:["key","value"],members:{key:{},value:{}}}},S13:{type:"structure",members:{name:{},owner:{},arn:{},status:{},createdTime:{type:"timestamp"},encryptionKey:{},repositoryCount:{type:"integer"},assetSizeBytes:{type:"long"},s3BucketArn:{}}},S19:{type:"list",member:{type:"structure",required:["repositoryName"],members:{repositoryName:{}}}},S1h:{type:"structure",members:{resourceArn:{},revision:{},document:{}}},S1u:{type:"structure",members:{restrictions:{shape:"S1v"}}},S1v:{type:"structure",required:["publish","upstream"],members:{publish:{},upstream:{}}},S24:{type:"structure",members:{domainEntryPoint:{type:"structure",members:{repositoryName:{},externalConnectionName:{}}},originType:{}}},S3p:{type:"list",member:{type:"structure",members:{name:{},administratorAccount:{},domainName:{},domainOwner:{},arn:{},description:{}}}}}}});var Rl=I((IE,Dy)=>{Dy.exports={pagination:{ListDomains:{input_token:"nextToken",output_token:"nextToken",limit_key:"maxResults",result_key:"domains"},ListPackageVersionAssets:{input_token:"nextToken",output_token:"nextToken",limit_key:"maxResults",result_key:"assets"},ListPackageVersions:{input_token:"nextToken",output_token:"nextToken",limit_key:"maxResults",result_key:"versions"},ListPackages:{input_token:"nextToken",output_token:"nextToken",limit_key:"maxResults",result_key:"packages"},ListRepositories:{input_token:"nextToken",output_token:"nextToken",limit_key:"maxResults",result_key:"repositories"},ListRepositoriesInDomain:{input_token:"nextToken",output_token:"nextToken",limit_key:"maxResults",result_key:"repositories"}}}});var Nl=I((DE,Dl)=>{Ri();var Li=j(),Ny=Li.Service,Il=Li.apiLoader;Il.services.codeartifact={};Li.CodeArtifact=Ny.defineService("codeartifact",["2018-09-22"]);Object.defineProperty(Il.services.codeartifact,"2018-09-22",{get:function(){var e=xl();return e.paginators=Rl().pagination,e},enumerable:!0,configurable:!0});Dl.exports=Li.CodeArtifact});var rt=Xi($i());var Pl=Xi(Nl()),Or=Xi(require("child_process"));var Le;(function(r){r.npm="npm",r.poetry="poetry"})(Le||(Le={}));function Xe(t){console.error(t),process.exit(1)}function ql(t){return(t==null?void 0:t.domain)||Xe("Domain does not exist in package.json"),(t==null?void 0:t.accountId)||Xe("accountId does not exist in package.json"),(t==null?void 0:t.repository)||Xe("repository does not exist in package.json"),(t==null?void 0:t.region)||Xe("region does not exist in package.json"),(t==null?void 0:t.scope)||Xe("scope does not exist in package.json"),(t==null?void 0:t.packageType)||Xe("scope does not exist in package.json"),{domain:t.domain,accountId:t.accountId,repository:t.repository,region:t.region,scope:t.scope,packageType:t.packageType}}async function Ol(t,e){let r=new Pl.default,i={domain:t,domainOwner:e},n=await r.getAuthorizationToken(i).promise().catch(s=>Xe(s));if((n==null?void 0:n.authorizationToken)===void 0)throw Xe("Failed to retrieve auth token");return n.authorizationToken}function Py(){process.env.AWS_REGION||Xe("Missing AWS region environment variable. Please make sure that you assume a role!"),process.env.AWS_SESSION_TOKEN||Xe("Missing AWS session token environment variable. Please make sure that you assume a role!"),process.env.AWS_SECRET_ACCESS_KEY||Xe("Missing AWS serect access key environment variable. Please make sure that you assume a role!"),process.env.AWS_ACCESS_KEY_ID||Xe("Missing AWS access key id environment variable. Please make sure that you assume a role!")}async function qy(t){let{domain:e,accountId:r,region:i,repository:n,scope:s}=ql(t),o=await Ol(e,r),a=`//${e}-${r}.d.codeartifact.${i}.amazonaws.com/npm/${n}/`;(0,Or.execSync)(`npm config set ${s}:registry https://${e}-${r}.d.codeartifact.${i}.amazonaws.com/npm/${n}/`),(0,Or.execSync)(`npm config set ${a}:_authToken=${o}`),(0,Or.execSync)(`npm config set ${a}:always-auth=true`),console.log(`Set npm credentials for ${s}`)}async function Oy(t){let{domain:e,accountId:r}=ql(t),i=await Ol(e,r);(0,Or.execSync)(`poetry config http-basic.mondo "aws" "${i}"`),console.log("Set npm credentials for poetry")}async function Ll(t){throw Py(),console.log("__insideMain__"),console.log(t.packageType),console.log(typeof t.packageType),console.log(t.packageType.trim()==Le.npm.trim()),console.log(Le.npm),console.log(typeof Le.npm),t.packageType.trim()===Le.npm.trim()&&await qy(t),t.packageType.trim()===Le.poetry.trim()&&await Oy(t),new Error(`invalid package type: ${t.packageType}, supported types: ${JSON.stringify(Le)}`)}function kl(t){if(console.log("__inside__"),console.log(t),console.log(typeof t),console.log(t=="npm"),t=="npm")return Le.npm;if(t=="poetry")return Le.poetry;throw console.log("Why am I here??"),new Error(`invalid package type: ${t}, supported types: ${JSON.stringify(Le)}`)}async function Ly(){try{let t=(0,rt.getInput)("domain"),e=(0,rt.getInput)("accountId"),r=(0,rt.getInput)("region"),i=(0,rt.getInput)("repository"),n=(0,rt.getInput)("scope"),s=(0,rt.getInput)("packageType");console.log("_____!!!_____"),console.log(s),console.log(s=="npm");let o=kl(s);console.log(t,e,r,i,n,o),Ll({domain:t,accountId:e,region:r,repository:i,scope:n,packageType:o})}catch(t){t instanceof Error?(0,rt.setFailed)(t.message):(console.error(t),(0,rt.setFailed)("Unknown error"))}}Ly();
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */
//# sourceMappingURL=action.js.map
